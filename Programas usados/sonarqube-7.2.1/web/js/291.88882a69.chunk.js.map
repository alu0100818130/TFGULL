{"version":3,"sources":["webpack:///./src/main/js/app/components/NotFound.js","webpack:///./src/main/js/apps/organizations/navigation/OrganizationNavigationHeaderContainer.tsx","webpack:///./src/main/js/apps/organizations/navigation/OrganizationNavigationHeader.tsx","webpack:///./src/main/js/apps/organizations/navigation/OrganizationNavigationMeta.tsx","webpack:///./src/main/js/apps/organizations/navigation/OrganizationNavigationExtensions.tsx","webpack:///./src/main/js/apps/organizations/navigation/OrganizationNavigationAdministration.tsx","webpack:///./src/main/js/apps/organizations/navigation/OrganizationNavigationMenu.tsx","webpack:///./src/main/js/apps/organizations/navigation/OrganizationNavigation.tsx","webpack:///./src/main/js/apps/organizations/components/OrganizationPage.js","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/api/user_groups.ts","webpack:///./src/main/js/app/components/SimpleContainer.tsx","webpack:///./src/main/js/apps/organizations/actions.js"],"names":["NotFound","_a","_b","withContainer","Container","_SimpleContainer__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_0___default","a","Fragment","createElement","className","id","react_router__WEBPACK_IMPORTED_MODULE_1__","to","OrganizationNavigationHeaderContainer","Object","es","state","organizations","rootReducer","organization","other","filter","o","key","index_js_exposed","OrganizationAvatar","length","Dropdown","overlay","sortBy_default","org","name","toLowerCase","map","OrganizationListItem","href","DropdownIcon","description","title","OrganizationNavigationMeta","url","rel","l10n","system","HomePageSelect","currentPage","type","types","Organization","OrganizationNavigationExtensions","location","extensions","pages","active","some","extension","pathname","react_router_es","activeClassName","tagName","classnames","ADMIN_PATHS","OrganizationNavigationAdministration","adminPages","adminActive","e","concat","path","endsWith","canDelete","OrganizationNavigationMenu","NavBarTabs","query","resolved","urls","canAdmin","OrganizationNavigation","ContextNavBar","height","theme","OrganizationPage_OrganizationPage","_super","OrganizationPage","_this","apply","this","arguments","loading","stopLoading","mounted","setState","updateOrganization","organizationKey","props","fetchOrganization","then","__extends","prototype","componentDidMount","params","componentWillReceiveProps","nextProps","componentWillUnmount","render","index_js_exposed_default","Helmet_default","defaultTitle","titleTemplate","Suggestions","suggestions","children","PureComponent","mapDispatchToProps","actions","__webpack_exports__","ownProps","context","addSuggestions","componentDidUpdate","prevProps","removeSuggestions","contextTypes","prop_types__WEBPACK_IMPORTED_MODULE_1__","isRequired","react__WEBPACK_IMPORTED_MODULE_0__","searchUsersGroups","data","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","catch","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","getUsersInGroup","addUserToGroup","removeUserFromGroup","createGroup","r","group","updateGroup","deleteGroup","SimpleContainer","_components_nav_NavBar__WEBPACK_IMPORTED_MODULE_3__","_theme__WEBPACK_IMPORTED_MODULE_2__","_GlobalFooterContainer__WEBPACK_IMPORTED_MODULE_1__","dispatch","Promise","all","_api_organizations__WEBPACK_IMPORTED_MODULE_0__","navigation","organizationWithPermissions","__assign","_store_organizations_duck__WEBPACK_IMPORTED_MODULE_1__","_store_rootActions__WEBPACK_IMPORTED_MODULE_5__","fetchOrganizationGroups","_api_user_groups__WEBPACK_IMPORTED_MODULE_3__","response","groups","createOrganization","fields","_store_globalMessages_duck__WEBPACK_IMPORTED_MODULE_7__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_8__","error","reject","onRejected","changes","deleteOrganization","fetchMembers","receiveAction","page","_store_organizationsMembers_actions__WEBPACK_IMPORTED_MODULE_2__","ps","p","q","users","total","paging","pageIndex","onMembersFail","fetchOrganizationMembers","fetchMoreOrganizationMembers","getState","_store_rootReducer__WEBPACK_IMPORTED_MODULE_6__","addOrganizationMember","member","login","user","removeOrganizationMember","updateOrganizationMemberGroups","add","remove","_store_users_actions__WEBPACK_IMPORTED_MODULE_4__","groupCount","promises"],"mappings":"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","file":"js/291.88882a69.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport React from 'react';\nimport { Link } from 'react-router';\nimport SimpleContainer from './SimpleContainer';\n\n/*::\ntype Props = {\n  withContainer?: boolean;\n};\n*/\n\nexport default function NotFound({ withContainer = true } /*: Props*/) {\n  const Container = withContainer ? SimpleContainer : React.Fragment;\n  return (\n    <Container>\n      <div className=\"page-wrapper-simple\" id=\"bd\">\n        <div className=\"page-simple\" id=\"nonav\">\n          <h2 className=\"big-spacer-bottom\">The page you were looking for does not exist.</h2>\n          <p className=\"spacer-bottom\">\n            You may have mistyped the address or the page may have moved.\n          </p>\n          <p>\n            <Link to=\"/\">Go back to the homepage</Link>\n          </p>\n        </div>\n      </div>\n    </Container>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport OrganizationNavigationHeader from './OrganizationNavigationHeader';\nimport { Organization } from '../../../app/types';\nimport { getMyOrganizations } from '../../../store/rootReducer';\n\ninterface StateProps {\n  organizations: Organization[];\n}\n\nconst mapStateToProps = (state: any): StateProps => ({\n  organizations: getMyOrganizations(state)\n});\n\nexport default connect(mapStateToProps)(OrganizationNavigationHeader);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport { Organization } from '../../../app/types';\nimport OrganizationAvatar from '../../../components/common/OrganizationAvatar';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport DropdownIcon from '../../../components/icons-components/DropdownIcon';\nimport OrganizationListItem from '../../../components/ui/OrganizationListItem';\n\ninterface Props {\n  organization: Organization;\n  organizations: Organization[];\n}\n\nexport default function OrganizationNavigationHeader({ organization, organizations }: Props) {\n  const other = organizations.filter(o => o.key !== organization.key);\n\n  return (\n    <header className=\"navbar-context-header\">\n      <OrganizationAvatar organization={organization} />\n      {other.length ? (\n        <Dropdown\n          className=\"display-inline-block\"\n          overlay={\n            <ul className=\"menu\">\n              {sortBy(other, org => org.name.toLowerCase()).map(organization => (\n                <OrganizationListItem key={organization.key} organization={organization} />\n              ))}\n            </ul>\n          }>\n          <a\n            className=\"display-inline-flex-center spacer-left link-base-color link-no-underline\"\n            href=\"#\">\n            {organization.name}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        </Dropdown>\n      ) : (\n        <span className=\"spacer-left\">{organization.name}</span>\n      )}\n      {organization.description != null && (\n        <div className=\"navbar-context-description\">\n          <p className=\"text-limited text-top\" title={organization.description}>\n            {organization.description}\n          </p>\n        </div>\n      )}\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Organization, HomePageType } from '../../../app/types';\nimport HomePageSelect from '../../../components/controls/HomePageSelect';\nimport { translate } from '../../../helpers/l10n';\nimport { isSonarCloud } from '../../../helpers/system';\n\ninterface Props {\n  organization: Organization;\n}\n\nexport default function OrganizationNavigationMeta({ organization }: Props) {\n  return (\n    <div className=\"navbar-context-meta\">\n      {organization.url != null && (\n        <a\n          className=\"spacer-right text-limited\"\n          href={organization.url}\n          rel=\"nofollow\"\n          title={organization.url}>\n          {organization.url}\n        </a>\n      )}\n      <div className=\"text-muted\">\n        <strong>{translate('organization.key')}:</strong> {organization.key}\n      </div>\n      {isSonarCloud() && (\n        <div className=\"navbar-context-meta-secondary\">\n          <HomePageSelect\n            currentPage={{ type: HomePageType.Organization, organization: organization.key }}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport * as classNames from 'classnames';\nimport { Organization } from '../../../app/types';\nimport { translate } from '../../../helpers/l10n';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport DropdownIcon from '../../../components/icons-components/DropdownIcon';\n\ninterface Props {\n  location: { pathname: string };\n  organization: Organization;\n}\n\nexport default function OrganizationNavigationExtensions({ location, organization }: Props) {\n  const extensions = organization.pages || [];\n  if (extensions.length === 0) {\n    return null;\n  }\n  const active = extensions.some(\n    extension =>\n      location.pathname === `/organizations/${organization.key}/extension/${extension.key}`\n  );\n\n  return (\n    <Dropdown\n      overlay={\n        <ul className=\"menu\">\n          {extensions.map(extension => (\n            <li key={extension.key}>\n              <Link\n                activeClassName=\"active\"\n                to={`/organizations/${organization.key}/extension/${extension.key}`}>\n                {extension.name}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      }\n      tagName=\"li\">\n      <a\n        className={classNames('dropdown-toggle', { active })}\n        href=\"#\"\n        id=\"organization-navigation-more\">\n        {translate('more')}\n        <DropdownIcon className=\"little-spacer-left\" />\n      </a>\n    </Dropdown>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport * as classNames from 'classnames';\nimport { Organization } from '../../../app/types';\nimport { translate } from '../../../helpers/l10n';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport DropdownIcon from '../../../components/icons-components/DropdownIcon';\n\ninterface Props {\n  location: { pathname: string };\n  organization: Organization;\n}\n\nconst ADMIN_PATHS = [\n  'edit',\n  'groups',\n  'delete',\n  'permissions',\n  'permission_templates',\n  'projects_management',\n  'webhooks'\n];\n\nexport default function OrganizationNavigationAdministration({ location, organization }: Props) {\n  const extensions = organization.adminPages || [];\n  const adminPathsWithExtensions = extensions.map(e => `extension/${e.key}`).concat(ADMIN_PATHS);\n  const adminActive = adminPathsWithExtensions.some(path =>\n    location.pathname.endsWith(`organizations/${organization.key}/${path}`)\n  );\n\n  return (\n    <Dropdown\n      overlay={\n        <ul className=\"menu\">\n          {extensions.map(extension => (\n            <li key={extension.key}>\n              <Link\n                activeClassName=\"active\"\n                to={`/organizations/${organization.key}/extension/${extension.key}`}>\n                {extension.name}\n              </Link>\n            </li>\n          ))}\n          <li>\n            <Link activeClassName=\"active\" to={`/organizations/${organization.key}/groups`}>\n              {translate('user_groups.page')}\n            </Link>\n          </li>\n          <li>\n            <Link activeClassName=\"active\" to={`/organizations/${organization.key}/permissions`}>\n              {translate('permissions.page')}\n            </Link>\n          </li>\n          <li>\n            <Link\n              activeClassName=\"active\"\n              to={`/organizations/${organization.key}/permission_templates`}>\n              {translate('permission_templates')}\n            </Link>\n          </li>\n          <li>\n            <Link\n              activeClassName=\"active\"\n              to={`/organizations/${organization.key}/projects_management`}>\n              {translate('projects_management')}\n            </Link>\n          </li>\n          <li>\n            <Link activeClassName=\"active\" to={`/organizations/${organization.key}/webhooks`}>\n              {translate('webhooks.page')}\n            </Link>\n          </li>\n          <li>\n            <Link activeClassName=\"active\" to={`/organizations/${organization.key}/edit`}>\n              {translate('edit')}\n            </Link>\n          </li>\n          {organization.canDelete && (\n            <li>\n              <Link activeClassName=\"active\" to={`/organizations/${organization.key}/delete`}>\n                {translate('delete')}\n              </Link>\n            </li>\n          )}\n        </ul>\n      }\n      tagName=\"li\">\n      <a\n        className={classNames('dropdown-toggle', { active: adminActive })}\n        href=\"#\"\n        id=\"organization-navigation-admin\">\n        {translate('layout.settings')}\n        <DropdownIcon className=\"little-spacer-left\" />\n      </a>\n    </Dropdown>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport OrganizationNavigationExtensions from './OrganizationNavigationExtensions';\nimport OrganizationNavigationAdministration from './OrganizationNavigationAdministration';\nimport { Organization } from '../../../app/types';\nimport NavBarTabs from '../../../components/nav/NavBarTabs';\nimport { translate } from '../../../helpers/l10n';\nimport { getQualityGatesUrl } from '../../../helpers/urls';\n\ninterface Props {\n  location: { pathname: string };\n  organization: Organization;\n}\n\nexport default function OrganizationNavigationMenu({ location, organization }: Props) {\n  return (\n    <NavBarTabs className=\"navbar-context-tabs\">\n      <li>\n        <Link activeClassName=\"active\" to={`/organizations/${organization.key}/projects`}>\n          {translate('projects.page')}\n        </Link>\n      </li>\n      <li>\n        <Link\n          activeClassName=\"active\"\n          to={{\n            pathname: `/organizations/${organization.key}/issues`,\n            query: { resolved: 'false' }\n          }}>\n          {translate('issues.page')}\n        </Link>\n      </li>\n      <li>\n        <Link activeClassName=\"active\" to={`/organizations/${organization.key}/quality_profiles`}>\n          {translate('quality_profiles.page')}\n        </Link>\n      </li>\n      <li>\n        <Link activeClassName=\"active\" to={`/organizations/${organization.key}/rules`}>\n          {translate('coding_rules.page')}\n        </Link>\n      </li>\n      <li>\n        <Link activeClassName=\"active\" to={getQualityGatesUrl(organization.key)}>\n          {translate('quality_gates.page')}\n        </Link>\n      </li>\n      <li>\n        <Link activeClassName=\"active\" to={`/organizations/${organization.key}/members`}>\n          {translate('organization.members.page')}\n        </Link>\n      </li>\n      <OrganizationNavigationExtensions location={location} organization={organization} />\n      {organization.canAdmin && (\n        <OrganizationNavigationAdministration location={location} organization={organization} />\n      )}\n    </NavBarTabs>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OrganizationNavigationHeaderContainer from './OrganizationNavigationHeaderContainer';\nimport OrganizationNavigationMeta from './OrganizationNavigationMeta';\nimport OrganizationNavigationMenu from './OrganizationNavigationMenu';\nimport * as theme from '../../../app/theme';\nimport ContextNavBar from '../../../components/nav/ContextNavBar';\nimport { Organization } from '../../../app/types';\n\ninterface Props {\n  location: { pathname: string };\n  organization: Organization;\n}\n\nexport default function OrganizationNavigation({ organization, location }: Props) {\n  return (\n    <ContextNavBar height={theme.contextNavHeightRaw} id=\"context-navigation\">\n      <div className=\"navbar-context-justified\">\n        <OrganizationNavigationHeaderContainer organization={organization} />\n        <OrganizationNavigationMeta organization={organization} />\n      </div>\n      <OrganizationNavigationMenu location={location} organization={organization} />\n    </ContextNavBar>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport Helmet from 'react-helmet';\nimport { connect } from 'react-redux';\nimport OrganizationNavigation from '../navigation/OrganizationNavigation';\nimport NotFound from '../../../app/components/NotFound';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport { fetchOrganization } from '../actions';\nimport { getOrganizationByKey } from '../../../store/rootReducer';\n/*:: import type { Organization } from '../../../store/organizations/duck'; */\n\n/*::\ntype OwnProps = {\n  params: { organizationKey: string }\n};\n*/\n\n/*::\ntype Props = {\n  children?: React.Element<*>,\n  location: Object,\n  organization: null | Organization,\n  params: { organizationKey: string },\n  fetchOrganization: string => Promise<*>\n};\n*/\n\n/*::\ntype State = {\n  loading: boolean\n};\n*/\n\nexport class OrganizationPage extends React.PureComponent {\n  /*:: mounted: boolean; */\n  /*:: props: Props; */\n  state /*: State */ = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.updateOrganization(this.props.params.organizationKey);\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    if (nextProps.params.organizationKey !== this.props.params.organizationKey) {\n      this.updateOrganization(nextProps.params.organizationKey);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  updateOrganization = (organizationKey /*: string */) => {\n    this.setState({ loading: true });\n    this.props.fetchOrganization(organizationKey).then(this.stopLoading, this.stopLoading);\n  };\n\n  render() {\n    const { organization } = this.props;\n\n    if (!organization || organization.canAdmin == null) {\n      if (this.state.loading) {\n        return null;\n      } else {\n        return <NotFound />;\n      }\n    }\n\n    return (\n      <div>\n        <Helmet defaultTitle={organization.name} titleTemplate={'%s - ' + organization.name} />\n        <Suggestions suggestions=\"organization_space\" />\n        <OrganizationNavigation location={this.props.location} organization={organization} />\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps /*: OwnProps */) => ({\n  organization: getOrganizationByKey(state, ownProps.params.organizationKey)\n});\n\nconst mapDispatchToProps = { fetchOrganization };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OrganizationPage);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default class Suggestions extends React.PureComponent<Props> {\n  context!: { suggestions: SuggestionsContext };\n\n  static contextTypes = {\n    suggestions: PropTypes.object.isRequired\n  };\n\n  componentDidMount() {\n    this.context.suggestions.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.context.suggestions.removeSuggestions(this.props.suggestions);\n      this.context.suggestions.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.context.suggestions.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from '../helpers/request';\nimport { Paging, Group } from '../app/types';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function searchUsersGroups(data: {\n  f?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n}): Promise<{ groups: Group[]; paging: Paging }> {\n  return getJSON('/api/user_groups/search', data).catch(throwGlobalError);\n}\n\nexport interface GroupUser {\n  login: string;\n  name: string;\n  selected: boolean;\n}\n\nexport function getUsersInGroup(data: {\n  id?: number;\n  name?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n  selected?: string;\n}): Promise<{ paging: Paging; users: GroupUser[] }> {\n  return getJSON('/api/user_groups/users', data).catch(throwGlobalError);\n}\n\nexport function addUserToGroup(data: {\n  id?: string;\n  name?: string;\n  login?: string;\n  organization?: string;\n}) {\n  return post('/api/user_groups/add_user', data).catch(throwGlobalError);\n}\n\nexport function removeUserFromGroup(data: {\n  id?: string;\n  name?: string;\n  login?: string;\n  organization?: string;\n}) {\n  return post('/api/user_groups/remove_user', data).catch(throwGlobalError);\n}\n\nexport function createGroup(data: {\n  description?: string;\n  organization: string | undefined;\n  name: string;\n}): Promise<Group> {\n  return postJSON('/api/user_groups/create', data).then(r => r.group, throwGlobalError);\n}\n\nexport function updateGroup(data: { description?: string; id: number; name?: string }) {\n  return post('/api/user_groups/update', data).catch(throwGlobalError);\n}\n\nexport function deleteGroup(data: { name: string; organization: string | undefined }) {\n  return post('/api/user_groups/delete', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport GlobalFooterContainer from './GlobalFooterContainer';\nimport * as theme from '../theme';\nimport NavBar from '../../components/nav/NavBar';\n\ninterface Props {\n  children?: React.ReactNode;\n}\n\nexport default function SimpleContainer({ children }: Props) {\n  return (\n    <div className=\"global-container\">\n      <div className=\"page-wrapper\" id=\"container\">\n        <NavBar className=\"navbar-global\" height={theme.globalNavHeightRaw} />\n        {children}\n      </div>\n      <GlobalFooterContainer />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport * as api from '../../api/organizations';\nimport * as actions from '../../store/organizations/duck';\nimport * as membersActions from '../../store/organizationsMembers/actions';\nimport { searchUsersGroups, addUserToGroup, removeUserFromGroup } from '../../api/user_groups';\nimport { receiveUser } from '../../store/users/actions';\nimport { onFail } from '../../store/rootActions';\nimport { getOrganizationMembersState } from '../../store/rootReducer';\nimport { addGlobalSuccessMessage } from '../../store/globalMessages/duck';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n/*:: import type { Organization } from '../../store/organizations/duck'; */\n/*:: import type { Member } from '../../store/organizationsMembers/actions'; */\n\nconst PAGE_SIZE = 50;\n\nconst onRejected = (dispatch /*: Function */) => (error /*: Object */) => {\n  onFail(dispatch)(error);\n  return Promise.reject();\n};\n\nconst onMembersFail = (organization /*: string */, dispatch /*: Function */) => (\n  error /*: Object */\n) => {\n  onFail(dispatch)(error);\n  dispatch(membersActions.updateState(organization, { loading: false }));\n};\n\nexport const fetchOrganization = (key /*: string */) => (dispatch /*: Function */) => {\n  const onFulfilled = ([organization, navigation]) => {\n    if (organization) {\n      const organizationWithPermissions = { ...organization, ...navigation };\n      dispatch(actions.receiveOrganizations([organizationWithPermissions]));\n    }\n  };\n\n  return Promise.all([api.getOrganization(key), api.getOrganizationNavigation(key)]).then(\n    onFulfilled,\n    onFail(dispatch)\n  );\n};\n\nexport const fetchOrganizationGroups = (organization /*: string */) => (\n  dispatch /*: Function */\n) => {\n  return searchUsersGroups({ organization }).then(response => {\n    dispatch(actions.receiveOrganizationGroups(organization, response.groups));\n  }, onFail(dispatch));\n};\n\nexport const createOrganization = (fields /*: Object */) => (dispatch /*: Function */) => {\n  const onFulfilled = (organization /*: Organization */) => {\n    dispatch(actions.createOrganization(organization));\n    dispatch(\n      addGlobalSuccessMessage(translateWithParameters('organization.created', organization.name))\n    );\n    return organization;\n  };\n\n  return api.createOrganization(fields).then(onFulfilled, onRejected(dispatch));\n};\n\nexport const updateOrganization = (key /*: string */, changes /*: {} */) => (\n  dispatch /*: Function */\n) => {\n  const onFulfilled = () => {\n    dispatch(actions.updateOrganization(key, changes));\n    dispatch(addGlobalSuccessMessage(translate('organization.updated')));\n  };\n\n  return api.updateOrganization(key, changes).then(onFulfilled, onFail(dispatch));\n};\n\nexport const deleteOrganization = (key /*: string */) => (dispatch /*: Function */) => {\n  const onFulfilled = () => {\n    dispatch(actions.deleteOrganization(key));\n    dispatch(addGlobalSuccessMessage(translate('organization.deleted')));\n  };\n\n  return api.deleteOrganization(key).then(onFulfilled, onFail(dispatch));\n};\n\nconst fetchMembers = (\n  dispatch /*: Function */,\n  receiveAction /*: Function */,\n  key /*: string */,\n  query /*: ?string */,\n  page /*: ?number */\n) => {\n  dispatch(membersActions.updateState(key, { loading: true }));\n  const data /*: Object */ = {\n    organization: key,\n    ps: PAGE_SIZE\n  };\n  if (page != null) {\n    data.p = page;\n  }\n  if (query) {\n    data.q = query;\n  }\n  return api.searchMembers(data).then(response => {\n    dispatch(\n      receiveAction(key, response.users, {\n        loading: false,\n        total: response.paging.total,\n        pageIndex: response.paging.pageIndex,\n        query: query || null\n      })\n    );\n  }, onMembersFail(key, dispatch));\n};\n\nexport const fetchOrganizationMembers = (key /*: string */, query /*: ?string */) => (\n  dispatch /*: Function */\n) => fetchMembers(dispatch, membersActions.receiveMembers, key, query);\n\nexport const fetchMoreOrganizationMembers = (key /*: string */, query /*: ?string */) => (\n  dispatch /*: Function */,\n  getState /*: Function */\n) =>\n  fetchMembers(\n    dispatch,\n    membersActions.receiveMoreMembers,\n    key,\n    query,\n    getOrganizationMembersState(getState(), key).pageIndex + 1\n  );\n\nexport const addOrganizationMember = (key /*: string */, member /*: Member */) => (\n  dispatch /*: Function */\n) => {\n  return api\n    .addMember({ login: member.login, organization: key })\n    .then(user => dispatch(membersActions.addMember(key, user)), onFail(dispatch));\n};\n\nexport const removeOrganizationMember = (key /*: string */, member /*: Member */) => (\n  dispatch /*: Function */\n) => {\n  dispatch(membersActions.removeMember(key, member));\n  return api.removeMember({ login: member.login, organization: key }).catch((\n    error /*: Object */\n  ) => {\n    onFail(dispatch)(error);\n    dispatch(membersActions.addMember(key, member));\n  });\n};\n\nexport const updateOrganizationMemberGroups = (\n  organization /*: Organization */,\n  member /*: Member */,\n  add /*: Array<string> */,\n  remove /*: Array<string> */\n) => (dispatch /*: Function */) => {\n  dispatch(\n    receiveUser({\n      ...member,\n      groupCount: (member.groupCount || 0) + add.length - remove.length\n    })\n  );\n  const promises = [\n    ...add.map(name =>\n      addUserToGroup({ name, login: member.login, organization: organization.key })\n    ),\n    ...remove.map(name =>\n      removeUserFromGroup({ name, login: member.login, organization: organization.key })\n    )\n  ];\n  return Promise.all(promises).catch(error => {\n    dispatch(receiveUser(member));\n    onFail(dispatch)(error);\n  });\n};\n"],"sourceRoot":""}