{"version":3,"sources":["webpack:///./src/main/js/components/charts/BarChart.css","webpack:///./src/main/js/components/charts/BarChart.css?f378","webpack:///./src/main/js/components/shared/Organization.tsx","webpack:///./src/main/js/components/common/EmptySearch.css?8217","webpack:///./src/main/js/components/facet/FacetFooter.tsx","webpack:///./node_modules/lodash/times.js","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./node_modules/lodash/differenceWith.js","webpack:///./src/main/js/components/controls/SearchSelect.tsx","webpack:///./src/main/js/components/common/EmptySearch.tsx","webpack:///./node_modules/lodash/max.js","webpack:///./src/main/js/components/common/EmptySearch.css","webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./src/main/js/apps/issues/styles.css","webpack:///./src/main/js/apps/issues/styles.css?dca5","webpack:///./node_modules/lodash/union.js","webpack:///./src/main/js/apps/issues/components/BulkChangeModal.tsx","webpack:///./src/main/js/apps/issues/components/ComponentBreadcrumbs.tsx","webpack:///./src/main/js/apps/issues/components/ListItem.tsx","webpack:///./src/main/js/apps/issues/components/IssuesList.tsx","webpack:///./src/main/js/apps/issues/components/IssuesSourceViewer.tsx","webpack:///./src/main/js/apps/issues/components/MyIssuesFilter.tsx","webpack:///./src/main/js/apps/issues/components/NoIssues.tsx","webpack:///./src/main/js/apps/issues/components/NoMyIssues.tsx","webpack:///./src/main/js/apps/issues/components/IssuesCounter.tsx","webpack:///./src/main/js/apps/issues/components/ReloadButton.tsx","webpack:///./src/main/js/apps/issues/components/PageActions.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationBadge.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocations.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigatorLocation.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/CrossFileLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueBox.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueComponent.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssue.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesList.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/BackButton.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesListHeader.tsx","webpack:///./src/main/js/apps/issues/sidebar/AssigneeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/AuthorFacet.tsx","webpack:///./src/main/js/components/charts/BarChart.tsx","webpack:///./src/main/js/apps/issues/sidebar/CreationDateFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/DirectoryFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/FacetMode.tsx","webpack:///./src/main/js/apps/issues/sidebar/FileFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/LanguageFacetFooter.tsx","webpack:///./src/main/js/apps/issues/sidebar/LanguageFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ModuleFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ProjectFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ResolutionFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/RuleFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/SeverityFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/StatusFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TagFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TypeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/Sidebar.tsx","webpack:///./src/main/js/apps/issues/actions.ts","webpack:///./src/main/js/apps/issues/components/App.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./node_modules/lodash/groupBy.js","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/facet/utils.ts","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./node_modules/lodash/difference.js","webpack:///./src/main/js/api/rules.ts","webpack:///./node_modules/lodash/orderBy.js","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/components/icons-components/ChevronDownIcon.tsx","webpack:///./src/main/js/components/icons-components/OpenCloseIcon.tsx","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/components/search-navigator.css?b13d","webpack:///./node_modules/lodash/_castArrayLikeObject.js","webpack:///./node_modules/lodash/_baseIntersection.js","webpack:///./node_modules/lodash/intersection.js"],"names":["module","exports","__webpack_require__","push","i","content","options","hmr","transform","insertInto","undefined","locals","Organization","props","_a","link","organization","shouldBeDisplayed","react__WEBPACK_IMPORTED_MODULE_0__","_ui_OrganizationLink__WEBPACK_IMPORTED_MODULE_3__","className","linkClassName","name","Object","react_redux__WEBPACK_IMPORTED_MODULE_1__","state","ownProps","_store_rootReducer__WEBPACK_IMPORTED_MODULE_2__","organizationKey","FacetFooter","_controls_SearchSelect__WEBPACK_IMPORTED_MODULE_1__","__assign","autofocus","n","iteratee","index","result","Array","value","other","baseDifference","baseFlatten","baseRest","isArrayLikeObject","last","differenceWith","array","values","comparator","SearchSelect","_super","_this","call","this","mounted","handleSearch","query","currentQuery","onSearch","then","setState","loading","handleChange","option","isArray","onMultiSelect","onSelect","handleInputChange","length","minimumQueryLength","defaultOptions","handleFilterOption","lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default","__extends","prototype","componentDidMount","componentWillUnmount","defineProperty","resetOnBlur","render","Component","canCreate","_components_controls_Select__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_1__","autoFocus","clearable","escapeClearsValue","filterOption","isLoading","multi","noResultsText","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","onBlurResetsInput","onChange","onInputChange","optionRenderer","renderOption","placeholder","promptTextCreator","searchable","valueRenderer","EmptySearch","_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","baseExtremum","baseGt","identity","FiltersHeader","displayReset","onReset","_ui_buttons__WEBPACK_IMPORTED_MODULE_1__","id","onClick","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","TypeHelper","_ui_IssueTypeIcon__WEBPACK_IMPORTED_MODULE_1__","type","PageCounter","current","label","total","classnames__WEBPACK_IMPORTED_MODULE_1__","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","baseUniq","union","arrays","AssigneeSelect","TagSelect","BulkChangeModal","loadIssues","fetchIssues","additionalFields","ps","getDefaultAssignee","currentUser","issues","app_types","filter","issue","assignee","login","avatar","l10n","handleCloseClick","event","preventDefault","currentTarget","blur","onClose","handleAssigneeSearch","utils","handleAssigneeSelect","handleTagsSearch","api_issues","q","tags","map","tag","handleTagsSelect","field","handleFieldCheck","checked","_b","handleFieldChange","handleSelectFieldChange","data","handleSubmit","pickBy_default","add_tags","addTags","t","join","assign","comment","do_transition","transition","remove_tags","removeTags","sendNotifications","notifications","set_severity","severity","set_type","x","issueKeys","key","submitting","onDone","error","throwGlobalError","renderCancelButton","index_js_exposed","href","renderLoading","renderCheckbox","Checkbox","onCheck","renderAffected","affected","renderField","input","htmlFor","renderAssigneeOption","Avatar","hash","size","renderAssigneeField","hasAction","renderTypeField","IssueTypeIcon","Select","renderSeverityField","SeverityHelper","renderTagOption","renderTagsField","allowCreate","initialTags","promptCreateTag","renderTransitionsField","transitions","getAvailableTransitions","style","float","display","left","cursor","count","renderCommentField","HelpTooltip","overlay","rows","width","MarkdownTips","renderNotificationsField","renderForm","paging","limitReached","pageIndex","pageSize","onSubmit","buttons","disabled","component","Promise","all","forEach","sortBy_default","keys","Modal","contentLabel","onRequestClose","action","actions","includes","ComponentBreadcrumbs","branchLike","selectedFlowIndex","selectedLocationIndex","displayOrganization","qualifier","displayProject","displaySubProject","selectedLocation","componentKey","componentName","componentLongName","title","projectName","es","to","urls","project","helpers_path","subProject","subProjectName","ListItem","apply","arguments","similarIssues","handleFilter","property","onFilterChange","issuesReset","startsWith","substr","types","severities","statuses","status","resolution","resolved","resolutions","assigned","assignees","rules","rule","projects","projectUuid","subProjectUuid","modules","files","componentUuid","ListItem_extends","previousIssue","displayComponent","Issue","displayLocationsLink","onFilter","onPopupToggle","openPopup","selected","IssuesList","IssuesList_extends","selectedIssue","components_ListItem","onIssueChange","onIssueCheck","onIssueClick","IssuesSourceViewer","scrollToIssue","smooth","node","element","querySelector","openIssue","handleScroll","offset","window","innerHeight","scrolling","topOffset","bottomOffset","handleLoaded","IssuesSourceViewer_extends","componentDidUpdate","prevProps","shouldScrollBackToIssue","locations","aroundLine","textRange","startLine","endLine","highlightedLocations","location","highlightedLocationMessage","locationsNavigator","text","msg","allMessagesEmpty","every","resolve","ref","SourceViewer","displayAllIssues","displayIssueLocationsCount","displayIssueLocationsLink","displayLocationMarkers","onIssueSelect","onLoaded","onLocationSelect","scroll","MyIssuesFilter","handleClick","myIssues","onMyIssuesChange","MyIssuesFilter_extends","NoIssues","NoMyIssues","IssuesCounter","icon","height","viewBox","d","ReloadButton","Tooltip","classnames","PageActions","PageActions_extends","renderShortcuts","selectedIndex","DeferredSpinner","onReload","canSetHome","HomePageSelect","currentPage","system","MyIssues","Issues","ConciseIssueLocationBadge","mouseEnterDelay","measures","LocationIndex","ConciseIssueLocations","collapsed","handleExpandClick","ConciseIssueLocations_extends","renderExpandButton","secondaryLocations","flows","badges","flow","onFlowSelect","slice","ConciseIssueLocationsNavigatorLocation","ConciseIssueLocationsNavigatorLocation_extends","LocationMessage","message","CrossFileLocationsNavigator","handleMoreLocationsClick","groupByFile","currentComponent","currentComponentName","groups","currentLocations","currentFirstLocationIndex","firstLocationIndex","renderLocation","conciseIssuesList_ConciseIssueLocationsNavigatorLocation","renderGroup","group","groupIndex","_c","onlyFirst","_d","onlyLast","lastLocationIndex","CrossFileLocationsNavigator_extends","componentWillReceiveProps","nextProps","nextLocations","firstGroup","lastGroup","ConciseIssueLocationsNavigator","ConciseIssueLocationsNavigator_extends","locationComponents","uniq_default","conciseIssuesList_CrossFileLocationsNavigator","ConciseIssueBox","rootElement","messageElement","ConciseIssueBox_extends","clickAttributesMain","role","tabIndex","clickAttributesTitle","ConciseIssueBox_assign","conciseIssuesList_ConciseIssueLocations","conciseIssuesList_ConciseIssueLocationsNavigator","ConciseIssueComponent","path","ConciseIssue","ConciseIssue_extends","conciseIssuesList_ConciseIssueBox","ConciseIssuesList","scrollableElement","document","parent","ConciseIssuesList_extends","conciseIssuesList_ConciseIssue","BackButton_icon","BackButton","ConciseIssuesListHeader","displayBackButton","onBackClick","AssigneeFacet","handleItemClick","itemValue","multiple","newValue","without_default","concat","handleHeaderClick","onToggle","handleClear","handleSelect","AssigneeFacet_extends","isAssigneeActive","getAssigneeName","referencedUsers","getStat","stats","getValues","user","renderList","FacetItemsList","FacetItem","active","stat","facetMode","tooltip","renderFooter","FacetBox","FacetHeader","onClear","open","defaultProps","AuthorFacet","authors","AuthorFacet_extends","author","BarChart","point","onBarClick","renderXTicks","xScale","yScale","xTicks","ticks","tick","Math","round","bandwidth","y","range","dy","renderXValues","xValues","renderBars","bars","maxY","rect","barsWidth","BarChart_extends","padding","availableWidth","availableHeight","innerPadding","relativeInnerPadding","d3_array","d3_scale","domain","paddingInner","CreationDateFacet","hasValue","createdAfter","createdAt","createdBefore","createdInLast","sinceLeakPeriod","resetTo","changes","CreationDateFacet_assign","handleBarClick","handlePeriodChange","from","handlePeriodClick","period","handleLeakPeriodClick","CreationDateFacet_extends","formatDate","context","intl","DateFormatter","renderBarChart","periods","start","endDate","startDate","dates","setDate","getDate","tooltipEndDate","Date","floor","maxValue","max_default","format","components_charts_BarChart","renderExactDate","DateTimeFormatter","date","DateFromNow","renderPeriodSelectors","DateRangeInput","renderPredefinedPeriods","renderInner","contextTypes","index_es","DirectoryFacet","directories","DirectoryFacet_extends","directory","renderName","QualifierIcon","dir","FacetMode","FacetMode_extends","mode","halfWidth","FileFacet","FileFacet_extends","file","getFileName","referencedComponents","LanguageFacetFooter_LanguageFacetFooter","LanguageFacetFooter","LanguageFacetFooter_extends","differenceWith_default","languages","language","sidebar_LanguageFacetFooter","react_redux_es","rootReducer","LanguageFacet","LanguageFacet_extends","getLanguageName","referencedLanguages","ModuleFacet","ModuleFacet_extends","getModuleName","ProjectFacet","components","qualifiers","response","refId","ProjectFacet_extends","getProjectName","ResolutionFacet","orderBy_default","renderItem","isFacetItemActive","getFacetItemName","ResolutionFacet_extends","RuleFacet","api_rules","f","include_external","langName","RuleFacet_extends","getRuleName","referencedRules","SeverityFacet","SeverityFacet_extends","StatusFacet","StatusHelper","StatusFacet_extends","TagFacet","tags_1","TagFacet_extends","renderTag","TagsIcon","fill","theme","TypeFacet","TypeFacet_extends","Sidebar","Sidebar_extends","facets","openFacets","displayProjectsFacet","displayModulesFacet","displayDirectoriesFacet","displayFilesFacet","displayAuthorFacet","sidebar_FacetMode","sidebar_TypeFacet","onFacetToggle","sidebar_SeverityFacet","sidebar_ResolutionFacet","sidebar_StatusFacet","sidebar_CreationDateFacet","sidebar_RuleFacet","sidebar_TagFacet","sidebar_ProjectFacet","sidebar_ModuleFacet","sidebar_DirectoryFacet","sidebar_FileFacet","sidebar_AssigneeFacet","sidebar_AuthorFacet","sidebar_LanguageFacet","enableLocationsNavigator","disableLocationsNavigator","selectNextLocation","lastLocationIdx","selectPreviousLocation","selectNextFlow","selectPreviousFlow","DEFAULT_QUERY","App_App","App","handleKeyDown","keymaster","keyCode","altKey","handleKeyUp","getOpenIssue","find","selectNextIssue","getSelectedIndex","selectPreviousIssue","issueKey","pathname","App_assign","branches","scrollToSelectedIssue","router","replace","closeIssue","openSelectedIssue","additional","requestFacets","requestOrganizations","facet","parameters","componentKeys","s","sort","asc","reponse","fetchIssuesPage","p","fetchIssuesUntil","done","nextResponse","fetchMoreIssues","fetchIssuesForComponent","_component","_from","reject","isSameComponent","lastIssue","nextIssues","fetchFacet","__rest","keyBy_default","users","isFiltered","serialized","getCheckedIssues","handleFilterChange","handleMyIssuesChange","closeFacet","handleFacetToggle","handleReset","handlePopupToggle","popupName","samePopup","handleIssueCheck","lastChecked","shiftKey","currentIssueIndex","indexOf","lastSelectedIndex","shouldCheck","min","end","max","union_default","handleIssueChange","candidate","openBulkChange","bulkChange","closeBulkChange","handleBulkChangeClick","handleBulkChangeSelectedClick","handleBulkChangeDone","fetchFirstIssues","handleReload","onBranchesChange","handleReloadAndOpenFirst","selectLocation","nextIndex","onCheckAll","selectFlow","App_extends","isLoggedIn","body","classList","add","documentElement","footer","getElementById","attachShortcuts","handleRequiredAuthentication","prevState","prevQuery","detachShortcuts","remove","addEventListener","removeEventListener","findIndex","renderBulkChange","isAllChecked","thirdState","isChecked","Dropdown","DropdownIcon","components_BulkChangeModal","renderFacets","components_MyIssuesFilter","sidebar_Sidebar","renderConciseIssuesList","conciseIssuesList_ConciseIssuesList","ListFooter","loadMore","renderSide","ScreenPositionHelper","top","noIssuesMessage","common_EmptySearch","components_IssuesList","renderShortcutsForLocations","hasSeveralFlows","Suggestions","suggestions","Helmet_default","a","components_PageActions","Boolean","components_IssuesSourceViewer","prop_types","isRequired","addSuggestions","removeSuggestions","prop_types__WEBPACK_IMPORTED_MODULE_1__","baseAssignValue","createAggregator","hasOwnProperty","groupBy","data-property","children","FacetItem_FacetItem","ctrlKey","metaKey","search-navigator-facet-half","navigator","userAgent","placement","data-facet","renderHelper","helper","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_2__","renderValueIndicator","_helpers_l10n__WEBPACK_IMPORTED_MODULE_4__","showClearButton","_icons_components_OpenCloseIcon__WEBPACK_IMPORTED_MODULE_1__","_ui_buttons__WEBPACK_IMPORTED_MODULE_3__","difference","getRulesApp","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","catch","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","searchRules","takeFacet","getRuleDetails","getRuleTags","r","createRule","deleteRule","updateRule","baseOrderBy","collection","iteratees","orders","guard","getPosition","containerPos","container","getBoundingClientRect","pageYOffset","pageXOffset","debouncedOnResize","forceUpdate","ChevronDownIcon","Icon","OpenCloseIcon","ChevronRightcon","isSymbol","computed","SetCache","arrayIncludes","arrayIncludesWith","arrayMap","baseUnary","cacheHas","nativeMin","othLength","othIndex","caches","maxLength","Infinity","seen","outer","cache","baseIntersection","castArrayLikeObject","intersection","mapped"],"mappings":"qFAAAA,EAAAC,QAAAC,EAAA,GAAAA,EAAA,IAKAC,MAAAH,EAAAI,EAAA,2FAAkH,2BCJlH,IAAAC,EAAAH,EAAA,MAEA,iBAAAG,QAAAL,EAAAI,EAAAC,EAAA,MAOA,IAAAC,GAAeC,KAAA,EAEfC,eAPAA,EAQAC,gBAAAC,GAEAR,EAAA,GAAAA,CAAAG,EAAAC,GAEAD,EAAAM,SAAAX,EAAAC,QAAAI,EAAAM,+ECkBA,SAAAC,EAAsBC,GACZ,IAAAC,EAAAD,EAAAE,YAAA,IAAAD,KAAaE,EAAAH,EAAAG,aAErB,OAFmCH,EAAAI,mBAERD,EAKzBE,EAAA,0BACGH,EACCG,EAAA,cAACC,EAAA,GAAiBC,UAAWP,EAAMQ,cAAeL,aAAcA,GAC7DA,EAAaM,MAGhBN,EAAaM,KAEfJ,EAAA,sBAAME,UAAU,qBAZX,SAsBIG,OAAAC,EAAA,QAAAD,CALS,SAACE,EAAYC,GAAuB,OAC1DV,aAAcO,OAAAI,EAAA,qBAAAJ,CAAqBE,EAAOC,EAASE,iBACnDX,kBAAmBM,OAAAI,EAAA,4BAAAJ,CAA4BE,MAGMb,yBC5DvD,IAAAP,EAAAH,EAAA,MAEA,iBAAAG,QAAAL,EAAAI,EAAAC,EAAA,MAOA,IAAAC,GAAeC,KAAA,EAEfC,eAPAA,EAQAC,gBAAAC,GAEAR,EAAA,GAAAA,CAAAG,EAAAC,GAEAD,EAAAM,SAAAX,EAAAC,QAAAI,EAAAM,mQCcc,SAAAkB,EAAsBhB,GAClC,OACEK,EAAA,qBAAKE,UAAU,iCACbF,EAAA,cAACY,EAAA,EAAYC,GAACC,WAAW,GAAWnB,0BCf1Cb,EAAAC,QAVA,SAAAgC,EAAAC,GAIA,IAHA,IAAAC,GAAA,EACAC,EAAAC,MAAAJ,KAEAE,EAAAF,GACAG,EAAAD,GAAAD,EAAAC,GAEA,OAAAC,uBCHApC,EAAAC,QAJA,SAAAqC,EAAAC,GACA,OAAAD,EAAAC,yBCVA,IAAAC,EAAAtC,EAAA,KACAuC,EAAAvC,EAAA,KACAwC,EAAAxC,EAAA,KACAyC,EAAAzC,EAAA,KACA0C,EAAA1C,EAAA,KAyBA2C,EAAAH,EAAA,SAAAI,EAAAC,GACA,IAAAC,EAAAJ,EAAAG,GAIA,OAHAJ,EAAAK,KACAA,OAAAtC,GAEAiC,EAAAG,GACAN,EAAAM,EAAAL,EAAAM,EAAA,EAAAJ,GAAA,QAAAjC,EAAAsC,QAIAhD,EAAAC,QAAA4C,yWCOAI,EAAA,SAAAC,GAME,SAAAD,EAAYpC,GAAZ,IAAAsC,EACED,EAAAE,KAAAC,KAAMxC,IAAMwC,YAHdF,EAAAG,SAAU,EA4BVH,EAAAI,aAAe,SAACC,GAEd,IAAMC,EAAeD,EACrBL,EAAKtC,MAAM6C,SAASD,GAAcE,KAChC,SAAArD,GACM6C,EAAKG,SACPH,EAAKS,SAAS,SAAAnC,GAAS,OACrBoC,SAAS,EACTvD,QAASmB,EAAM+B,QAAUC,EAAenD,EAAUmB,EAAMnB,YAI9D,WACM6C,EAAKG,SACPH,EAAKS,UAAWC,SAAS,OAMjCV,EAAAW,aAAe,SAACC,GACV1B,MAAM2B,QAAQD,GACZZ,EAAKtC,MAAMoD,eACbd,EAAKtC,MAAMoD,cAAcF,GAElBZ,EAAKtC,MAAMqD,UACpBf,EAAKtC,MAAMqD,SAASH,IAIxBZ,EAAAgB,kBAAoB,SAACX,GACnB,GAAIA,EAAMY,QAAUjB,EAAKkB,mBACvBlB,EAAKS,UAAWC,SAAS,EAAML,MAAKA,IACpCL,EAAKI,aAAaC,OACb,CAGL,IAAMlD,EAA4B,IAAjBkD,EAAMY,QAAgBjB,EAAKtC,MAAMyD,mBAClDnB,EAAKS,UAAWtD,QAAOA,EAAEkD,MAAKA,MAKlCL,EAAAoB,mBAAqB,WAAM,UAnEzBpB,EAAK1B,OAAUoC,SAAS,EAAOvD,QAASO,EAAMyD,mBAAsBd,MAAO,IAC3EL,EAAKI,aAAeiB,IAASrB,EAAKI,aAAc,OAiGpD,OA1GuEkB,EAAAxB,EAAAC,GAYrED,EAAAyB,UAAAC,kBAAA,WACEtB,KAAKC,SAAU,GAGjBL,EAAAyB,UAAAE,qBAAA,WACEvB,KAAKC,SAAU,GAGjB/B,OAAAsD,eAAI5B,EAAAyB,UAAA,iBAAJ,WACE,YAAgChE,IAAzB2C,KAAKxC,MAAMmB,WAA0BqB,KAAKxC,MAAMmB,2CAGzDT,OAAAsD,eAAI5B,EAAAyB,UAAA,0BAAJ,WACE,YAAyChE,IAAlC2C,KAAKxC,MAAMwD,mBAAmChB,KAAKxC,MAAMwD,mBAAqB,mCAGvF9C,OAAAsD,eAAI5B,EAAAyB,UAAA,mBAAJ,WACE,YAAkChE,IAA3B2C,KAAKxC,MAAMiE,aAA4BzB,KAAKxC,MAAMiE,6CAgD3D7B,EAAAyB,UAAAK,OAAA,WACE,IAAMC,EAAY3B,KAAKxC,MAAMoE,UAAYC,EAAA,EAAYA,EAAA,EACrD,OACEC,EAAA,cAACH,GACCI,UAAW/B,KAAKrB,UAChBZ,UAAU,oBACViE,UAAWhC,KAAKxC,MAAMwE,UACtBC,mBAAmB,EACnBC,aAAclC,KAAKkB,mBACnBiB,UAAWnC,KAAK5B,MAAMoC,QACtB4B,MAAOpC,KAAKxC,MAAM4E,MAClBC,cACErC,KAAK5B,MAAM+B,MAAMY,OAASf,KAAKgB,mBAC3B9C,OAAAoE,EAAA,EAAApE,CAAwB,mBAAoB8B,KAAKgB,oBACjD9C,OAAAoE,EAAA,EAAApE,CAAU,qBAEhBqE,kBAAmBvC,KAAKyB,YACxBe,SAAUxC,KAAKS,aACfgC,cAAezC,KAAKc,kBACpB4B,eAAgB1C,KAAKxC,MAAMmF,aAC3B1F,QAAS+C,KAAK5B,MAAMnB,QACpB2F,YAAa1E,OAAAoE,EAAA,EAAApE,CAAU,eACvB2E,kBAAmB7C,KAAKxC,MAAMqF,kBAC9BC,YAAY,EACZ7D,MAAOe,KAAKxC,MAAMyB,MAClB8D,cAAe/C,KAAKxC,MAAMmF,gBAIlC/C,EA1GA,CAAuEkC,EAAA,kHCvBzD,SAAAkB,IACZ,OACEnF,EAAA,qBAAKE,UAAU,gBACbF,EAAA,wBAAKK,OAAA+E,EAAA,EAAA/E,CAAU,sBACfL,EAAA,mBAAGE,UAAU,kBAAkBG,OAAA+E,EAAA,EAAA/E,CAAU,gDC3B/C,IAAAgF,EAAArG,EAAA,KACAsG,EAAAtG,EAAA,MACAuG,EAAAvG,EAAA,KA0BAF,EAAAC,QANA,SAAA6C,GACA,OAAAA,KAAAsB,OACAmC,EAAAzD,EAAA2D,EAAAD,QACA9F,0BCzBAV,EAAAC,QAAAC,EAAA,GAAAA,EAAA,IAKAC,MAAAH,EAAAI,EAAA,wGAA+H,kGCuBjH,SAAAsG,EAAwB5F,OAAE6F,EAAA7F,EAAA6F,aAAcC,EAAA9F,EAAA8F,QACpD,OACE1F,EAAA,qBAAKE,UAAU,mCACZuF,GACCzF,EAAA,qBAAKE,UAAU,cACbF,EAAA,cAAC2F,EAAA,GAAOzF,UAAU,aAAa0F,GAAG,iCAAiCC,QAASH,GACzErF,OAAAyF,EAAA,EAAAzF,CAAU,uBAKjBL,EAAA,wBAAKK,OAAAyF,EAAA,EAAAzF,CAAU,4GCXP,SAAA0F,EAAqBpG,GACjC,OACEK,EAAA,sBAAME,UAAWP,EAAMO,WACrBF,EAAA,cAACgG,EAAA,GAAc9F,UAAU,sBAAsBoC,MAAO3C,EAAMsG,OAC3D5F,OAAAyF,EAAA,EAAAzF,CAAU,aAAcV,EAAMsG,qGCFvB,SAAAC,EAAsBtG,OAAEM,EAAAN,EAAAM,UAAWiG,EAAAvG,EAAAuG,QAASC,EAAAxG,EAAAwG,MAAOC,EAAAzG,EAAAyG,MAC/D,OACErG,EAAA,qBAAKE,UAAWoG,EAAW,uBAAwBpG,IACjDF,EAAA,wBAAQE,UAAU,4BACHV,IAAZ2G,GAAyB9F,OAAAkG,EAAA,cAAAlG,CAAc8F,EAAU,EAAG,OAAS,MAC9DnG,EAAA,sBAAME,UAAU,yBAAyBG,OAAAkG,EAAA,cAAAlG,CAAcgG,EAAO,SAE/DD,2BCrCPtH,EAAAC,QAAAC,EAAA,GAAAA,EAAA,IAKAC,MAAAH,EAAAI,EAAA,kvHAA+wH,2BCJ/wH,IAAAC,EAAAH,EAAA,MAEA,iBAAAG,QAAAL,EAAAI,EAAAC,EAAA,MAOA,IAAAC,GAAeC,KAAA,EAEfC,eAPAA,EAQAC,gBAAAC,GAEAR,EAAA,GAAAA,CAAAG,EAAAC,GAEAD,EAAAM,SAAAX,EAAAC,QAAAI,EAAAM,8BCjBA,IAAA8B,EAAAvC,EAAA,KACAwC,EAAAxC,EAAA,KACAwH,EAAAxH,EAAA,KACAyC,EAAAzC,EAAA,KAkBAyH,EAAAjF,EAAA,SAAAkF,GACA,OAAAF,EAAAjF,EAAAmF,EAAA,EAAAjF,GAAA,MAGA3C,EAAAC,QAAA0H,0kBCwDME,EAAiB5E,EAAA,EAGjB6E,EAAY7E,EAAA,IAElB,SAAAC,GAGE,SAAA6E,EAAYlH,GAAZ,IAAAsC,EACED,EAAAE,KAAAC,KAAMxC,IAAMwC,KAHdF,EAAAG,SAAU,EAoCVH,EAAA6E,WAAa,WAAM,OAAA7E,EAAKtC,MAAMoH,aAAcC,iBAAkB,sBAAuBC,GAAlE,OAEnBhF,EAAAiF,mBAAqB,WACX,IAAAC,EAAAlF,EAAAtC,MAAAwH,YACAC,EAAAnF,EAAA1B,MAAA6G,OACFhI,KAEFiB,OAAAgH,EAAA,EAAAhH,CAAW8G,KAEXC,EAAOE,OAAO,SAAAC,GAAS,OAAAA,EAAMC,WAAaL,EAAnBM,QAAsCvE,OAAS,GAEtE9D,EAAQH,MACNyI,OAAQP,EAAYO,OACpBtB,MAAOe,EAAY/G,KACnBgB,MAAO+F,EAAYM,SAUzB,OALwBL,EAAOE,OAAO,SAAAC,GAAS,OAAAA,EAAAC,WAAgBtE,OAAS,GAEtE9D,EAAQH,MAAOmH,MAAO/F,OAAAsH,EAAA,EAAAtH,CAAU,cAAee,MAAO,KAGjDhC,GAGT6C,EAAA2F,iBAAmB,SAACC,GAClBA,EAAMC,iBACND,EAAME,cAAcC,OACpB/F,EAAKtC,MAAMsI,WAGbhG,EAAAiG,qBAAuB,SAAC5F,GACtB,OAAOjC,OAAA8H,EAAA,EAAA9H,CAAgBiC,EAAOL,EAAK1B,MAAMT,eAG3CmC,EAAAmG,qBAAuB,SAACZ,GACtBvF,EAAKS,UAAW8E,SAAQA,KAG1BvF,EAAAoG,iBAAmB,SAAC/F,GAClB,OAAOjC,OAAAiI,EAAA,EAAAjI,EAAkBP,aAAcmC,EAAK1B,MAAMT,aAAcyI,EAAGjG,IAASG,KAAK,SAAA+F,GAC/E,OAAAA,EAAKC,IAAI,SAAAC,GAAO,OAAGtC,MAAOsC,EAAKtH,MAAfsH,QAIpBzG,EAAA0G,iBAAmB,SAACC,GAAoC,gBACtDxJ,SAEA6C,EAAKS,WAAQ9C,MAAsBgJ,GAAQxJ,EAAOQ,MAGpDqC,EAAA4G,iBAAmB,SAACD,GAA4B,gBAACE,WAC1CA,EAEgB,kBAAVF,GACT3G,EAAKS,WAAQqG,MAAsBH,IAAQ,EAAIG,IAF/C9G,EAAKS,WAAQ9C,MAAsBgJ,QAAQpJ,EAASI,MAMxDqC,EAAA+G,kBAAoB,SAACJ,GAAoC,gBACvDf,SAEA5F,EAAKS,WAAQ9C,MAAsBgJ,GAAQf,EAAME,cAAc3G,MAAKxB,MAGtEqC,EAAAgH,wBAA0B,SAACL,GAA+B,gBAACM,WACrDA,EACFjH,EAAKS,WAAQ9C,MAAsBgJ,GAAQM,EAAK9H,MAAKxB,IAErDqC,EAAKS,WAAQqG,MAAsBH,QAAQpJ,EAASuJ,MAIxD9G,EAAAkH,aAAe,SAACtB,GACdA,EAAMC,iBAEN,IAAMxF,EAAQ8G,KAEVC,SAAUpH,EAAK1B,MAAM+I,SAAWrH,EAAK1B,MAAM+I,QAAQb,IAAI,SAAAc,GAAK,OAAAA,EAAAnI,QAASoI,OACrEC,OAAQxH,EAAK1B,MAAMiH,SAAWvF,EAAK1B,MAAMiH,SAASpG,MAAQ,KAC1DsI,QAASzH,EAAK1B,MAAMmJ,QACpBC,cAAe1H,EAAK1B,MAAMqJ,WAC1BC,YAAa5H,EAAK1B,MAAMuJ,YAAc7H,EAAK1B,MAAMuJ,WAAWrB,IAAI,SAAAc,GAAK,OAAAA,EAAAnI,QAASoI,OAC9EO,kBAAmB9H,EAAK1B,MAAMyJ,cAC9BC,aAAchI,EAAK1B,MAAM2J,SACzBC,SAAUlI,EAAK1B,MAAM0F,MAEvB,SAAAmE,GAAK,YAAA5K,IAAA4K,IAGDC,EAAYpI,EAAK1B,MAAM6G,OAAOqB,IAAI,SAAAlB,GAAS,OAAAA,EAAA+C,MAEjDrI,EAAKS,UAAW6H,YAAY,IAC5BlK,OAAAiI,EAAA,EAAAjI,CAAiBgK,EAAW/H,GAAOG,KACjC,WACER,EAAKS,UAAW6H,YAAY,IAC5BtI,EAAKtC,MAAM6K,UAEb,SAAAC,GACExI,EAAKS,UAAW6H,YAAY,IAC5BlK,OAAAqK,EAAA,EAAArK,CAAiBoK,MAwBvBxI,EAAA0I,mBAAqB,WAAM,OACzBC,EAAA,mBAAGC,KAAK,IAAIjF,GAAG,qBAAqBC,QAAS5D,EAAK2F,kBAC/CvH,OAAAsH,EAAA,EAAAtH,CAFsB,YAM3B4B,EAAA6I,cAAgB,WAAM,OACpBF,EAAA,yBACEA,EAAA,qBAAK1K,UAAU,cACb0K,EAAA,wBAAKvK,OAAAsH,EAAA,EAAAtH,CAAU,iBAEjBuK,EAAA,qBAAK1K,UAAU,cACb0K,EAAA,qBAAK1K,UAAU,eACb0K,EAAA,mBAAG1K,UAAU,6BAGjB0K,EAAA,qBAAK1K,UAAU,cAAc+B,EAVX0I,wBActB1I,EAAA8I,eAAiB,SAACnC,GAA4B,OAC5CgC,EAAA,cAACI,EAAA,GAASlC,aAA+BtJ,IAAtByC,EAAK1B,MAAMqI,GAAsBqC,QAAShJ,EAAK4G,iBADtBD,MAI9C3G,EAAAiJ,eAAiB,SAACC,GAAqB,OACrCP,EAAA,qBAAK1K,UAAU,uBACXG,OAAAsH,EAAA,EAAAtH,CAAwB,6BAA8B8K,GAFrB,MAMvClJ,EAAAmJ,YAAc,SACZxC,EACAxC,EACA+E,EACAE,GACG,OACHT,EAAA,qBAAK1K,UAAU,cAAc0F,GAAI,sBAAsBgD,GACrDgC,EAAA,uBAAOU,QAAS1C,GAAQvI,OAAAsH,EAAA,EAAAtH,CAAU+F,IACjCiF,OACa7L,IAAb2L,GAA0BlJ,EAAKiJ,eAJ/BC,KAQLlJ,EAAAsJ,qBAAuB,SAAC1I,GACtB,OACE+H,EAAA,+BACqBpL,IAAlBqD,EAAO6E,QACNkD,EAAA,cAACY,EAAA,GAAOtL,UAAU,eAAeuL,KAAM5I,EAAO6E,OAAQtH,KAAMyC,EAAOuD,MAAOsF,KAAM,KAEjF7I,EAAOuD,QAKdnE,EAAA0J,oBAAsB,WACpB,IAAMR,EAAWlJ,EAAK1B,MAAM6G,OAAOE,OAAOsE,EAAU,WAAW1I,OAE/D,GAAiB,IAAbiI,EACF,OAAO,KAGT,IAAME,EACJT,EAAA,cAACjE,GACCxC,WAAW,EACXf,eAAgBnB,EAAKiF,qBACrB1E,SAAUP,EAAKiG,qBACflF,SAAUf,EAAKmG,qBACftD,aAAc7C,EAAKsJ,qBACnB3H,aAAa,EACbxC,MAAOa,EAAK1B,MAAMiH,WAItB,OAAOvF,EAAKmJ,YAAY,WAAY,wBAAyBD,EAAUE,IAGzEpJ,EAAA4J,gBAAkB,WAChB,IAAMV,EAAWlJ,EAAK1B,MAAM6G,OAAOE,OAAOsE,EAAU,aAAa1I,OAEjE,GAAiB,IAAbiI,EACF,OAAO,KAGT,IACM/L,GADS,MAAO,gBAAiB,cACjBqJ,IAAI,SAAAxC,GAAQ,OAAGG,MAAO/F,OAAAsH,EAAA,EAAAtH,CAAU,aAAc4F,GAAO7E,MAAzC6E,KAE5BpB,EAAiB,SAAChC,GAA6C,OACnE+H,EAAA,0BACEA,EAAA,cAACkB,EAAA,GAAc5L,UAAU,sBAAsBoC,MAAOO,EAAOzB,QAC5DyB,EAHgEuD,QAO/DiF,EACJT,EAAA,cAACmB,EAAA,GACC5H,WAAW,EACXQ,SAAU1C,EAAKgH,wBAAwB,QACvCpE,eAAgBA,EAChBzF,QAASA,EACT6F,YAAY,EACZ7D,MAAOa,EAAK1B,MAAM0F,KAClBf,cAAeL,IAInB,OAAO5C,EAAKmJ,YAAY,OAAQ,iBAAkBD,EAAUE,IAG9DpJ,EAAA+J,oBAAsB,WACpB,IAAMb,EAAWlJ,EAAK1B,MAAM6G,OAAOE,OAAOsE,EAAU,iBAAiB1I,OAErE,GAAiB,IAAbiI,EACF,OAAO,KAGT,IACM/L,GADc,UAAW,WAAY,QAAS,QAAS,QAClCqJ,IAAI,SAAAyB,GAAY,OACzC9D,MAAO/F,OAAAsH,EAAA,EAAAtH,CAAU,WAAY6J,GAC7B9I,MAAO8I,KAGHmB,EACJT,EAAA,cAACmB,EAAA,GACC5H,WAAW,EACXQ,SAAU1C,EAAKgH,wBAAwB,YACvCpE,eAAgB,SAAChC,GAA8B,OAAA+H,EAAA,cAACqB,EAAA,GAAe/B,SAAUrH,EAA1BzB,SAC/ChC,QAASA,EACT6F,YAAY,EACZ7D,MAAOa,EAAK1B,MAAM2J,SAClBhF,cAAe,SAACrC,GAA8B,OAAA+H,EAAA,cAACqB,EAAA,GAAe/B,SAAUrH,EAA1BzB,WAIlD,OAAOa,EAAKmJ,YAAY,WAAY,qBAAsBD,EAAUE,IAGtEpJ,EAAAiK,gBAAkB,SAACrJ,GACjB,OAAO+H,EAAA,0BAAO/H,EAAOuD,QAGvBnE,EAAAkK,gBAAkB,SAACvD,EAAiCxC,EAAegG,GACzD,IAAAC,EAAApK,EAAA1B,MAAA8L,YACFlB,EAAWlJ,EAAK1B,MAAM6G,OAAOE,OAAOsE,EAAU,aAAa1I,OAEjE,QAAoB1D,IAAhB6M,GAA0C,IAAblB,EAC/B,OAAO,KAGT,IAAME,EACJT,EAAA,cAAChE,GACC7C,UAAWqI,EACXjI,WAAW,EACXf,eAAgBnB,EAAK1B,MAAM8L,YAC3BlJ,mBAAoB,EACpBoB,OAAO,EACPxB,cAAed,EAAK0G,iBAAiBC,GACrCpG,SAAUP,EAAKoG,iBACfrD,kBAAmBsH,EACnBxH,aAAc7C,EAAKiK,gBACnBtI,aAAa,EACbxC,MAAOa,EAAK1B,MAAMqI,KAItB,OAAO3G,EAAKmJ,YAAYxC,EAAOxC,EAAO+E,EAAUE,IAGlDpJ,EAAAsK,uBAAyB,WACvB,IAAMC,EAAcvK,EAAKwK,wBAAwBxK,EAAK1B,MAAM6G,QAE5D,OAA2B,IAAvBoF,EAAYtJ,OACP,KAIP0H,EAAA,qBAAK1K,UAAU,eACb0K,EAAA,2BAAQvK,OAAAsH,EAAA,EAAAtH,CAAU,qBACjBmM,EAAY/D,IAAI,SAAAmB,GAAc,OAC7BgB,EAAA,sBAAMN,IAAKV,EAAWA,YACpBgB,EAAA,uBACE9B,QAAS7G,EAAK1B,MAAMqJ,aAAeA,EAAWA,WAC9ChE,GAAI,cAAcgE,EAAWA,WAC7BxJ,KAAK,2BACLuE,SAAU1C,EAAK+G,kBAAkB,cACjC/C,KAAK,QACL7E,MAAOwI,EAAWA,aAEpBgB,EAAA,uBACEU,QAAS,cAAc1B,EAAWA,WAClC8C,OAASC,MAAO,OAAQC,QAAS,SAAUC,KAAM,EAAGC,OAAQ,YAC3DzM,OAAAsH,EAAA,EAAAtH,CAAU,mBAAoBuJ,EAAWA,aAE3C3H,EAAKiJ,eAAetB,EAAWmD,OAChCnC,EAAA,mBAhB2B,WAuBrC3I,EAAA+K,mBAAqB,WAGnB,OAAiB,IAFA/K,EAAK1B,MAAM6G,OAAOE,OAAOsE,EAAU,YAAY1I,OAGvD,KAIP0H,EAAA,qBAAK1K,UAAU,eACb0K,EAAA,uBAAOU,QAAQ,WACbV,EAAA,sBAAM1K,UAAU,eAAeG,OAAAsH,EAAA,EAAAtH,CAAU,2BACzCuK,EAAA,cAACqC,EAAA,GACC/M,UAAU,cACVgN,QAAS7M,OAAAsH,EAAA,EAAAtH,CAAU,qCAGvBuK,EAAA,yBACEA,EAAA,0BACEhF,GAAG,UACHjB,SAAU1C,EAAK+G,kBAAkB,WACjCmE,KAAM,EACNT,OAASU,MAAO,QAChBhM,MAAOa,EAAK1B,MAAMmJ,SAAW,MAGjCkB,EAAA,qBAAK1K,UAAU,cACb0K,EAAA,cAACyC,EAAA,EAAY,SAMrBpL,EAAAqL,yBAA2B,WAAM,OAC/B1C,EAAA,qBAAK1K,UAAU,eACb0K,EAAA,uBAAOU,QAAQ,sBAAsBjL,OAAAsH,EAAA,EAAAtH,CAAU,6BAC9C4B,EAAK8I,eAHuB,mBAOjC9I,EAAAsL,WAAa,WACL,IAAA3N,EAAAqC,EAAA1B,MAAE6G,EAAAxH,EAAAwH,OAAQoG,EAAA5N,EAAA4N,OAAQjD,EAAA3K,EAAA2K,WAElBkD,OAA0BjO,IAAXgO,GAAwBA,EAAOnH,MAAQmH,EAAOE,UAAYF,EAAOG,SAEtF,OACE/C,EAAA,sBAAMhF,GAAG,mBAAmBgI,SAAU3L,EAAKkH,cACzCyB,EAAA,qBAAK1K,UAAU,cACb0K,EAAA,wBAAKvK,OAAAsH,EAAA,EAAAtH,CAAwB,+BAAgC+G,EAAOlE,UAGtE0H,EAAA,qBAAK1K,UAAU,cACZuN,GACC7C,EAAA,qBAAK1K,UAAU,uBACZG,OAAAsH,EAAA,EAAAtH,CAAwB,uCAAwC+G,EAAOlE,SAI3EjB,EAAK0J,sBACL1J,EAAK4J,kBACL5J,EAAK+J,sBACL/J,EAAKkK,gBAAgB,UAAW,kBAAkB,GAClDlK,EAAKkK,gBAAgB,aAAc,qBAAqB,GACxDlK,EAAKsK,yBACLtK,EAAK+K,qBACL/K,EAAKqL,4BAGR1C,EAAA,qBAAK1K,UAAU,cACZqK,GAAcK,EAAA,mBAAG1K,UAAU,yBAC5B0K,EAAA,cAACiD,EAAA,GAAaC,SAAUvD,EAAY3E,GAAG,sBACpCvF,OAAAsH,EAAA,EAAAtH,CAAU,UAEZ4B,EAAK0I,wBA9aZ,IAAI7K,EAAeH,EAAMoO,WAAapO,EAAMoO,UAAUjO,oBAClDH,EAAMG,eAAiBA,IACzBA,EAAeH,EAAMG,aAAawK,KAEpCrI,EAAK1B,OAAU8L,eAAiBjF,UAAYzE,SAAS,EAAM4H,YAAY,EAAOzK,aAAYA,KAub9F,OAhc6CyD,EAAAsD,EAAA7E,GAY3C6E,EAAArD,UAAAC,kBAAA,eAAAxB,EAAAE,KACEA,KAAKC,SAAU,EAEf4L,QAAQC,KACN9L,KAAK2E,aACLzG,OAAAiI,EAAA,EAAAjI,EAAkBP,aAAcqC,KAAK5B,MAAMT,iBAC1C2C,KACD,SAAC7C,OAACwH,EAAAxH,EAAA,GAAQ4I,EAAA5I,EAAA,GACJqC,EAAKG,SACPH,EAAKS,UACH2J,YAAa7D,EAAKC,IAAI,SAAAC,GAAO,OAAGtC,MAAOsC,EAAKtH,MAAfsH,KAC7BtB,OAAQA,EAAOA,OACfzE,SAAS,EACT6K,OAAQpG,EAAOoG,UAIrB,eAIJ3G,EAAArD,UAAAE,qBAAA,WACEvB,KAAKC,SAAU,GA8GjByE,EAAArD,UAAAiJ,wBAAA,SAAwBrF,GACtB,IAAMoF,KAYN,OAXApF,EAAO8G,QAAQ,SAAA3G,GACTA,EAAMiF,aACRjF,EAAMiF,YAAY0B,QAAQ,SAAA3E,QACD/J,IAAnBgN,EAAYjD,GACdiD,EAAYjD,KAEZiD,EAAYjD,GAAK,MAKlB4E,IAAO9N,OAAO+N,KAAK5B,IAAc/D,IAAI,SAAAmB,GAAc,OACxDA,WAAUA,EACVmD,MAAOP,EAAY5C,OA0RvB/C,EAAArD,UAAAK,OAAA,WACE,OACE+G,EAAA,cAACyD,EAAA,GAAMC,aAAa,QAAQC,eAAgBpM,KAAKxC,MAAMsI,SACpD9F,KAAK5B,MAAMoC,QAAUR,KAAK2I,gBAAkB3I,KAAKoL,eAI1D1G,EAhcA,CAA6C+D,EAAA,eAkc7C,SAAAgB,EAAmB4C,GACjB,OAAO,SAACjH,GAAiB,OAAAA,EAAMkH,SAAWlH,EAAMkH,QAAQC,SAA/BF,IAG3B,SAAAlC,EAAyBlG,GACvB,MAAO,KAAKA,wCC7eA,SAAAuI,EAA+B/O,OAC3CgP,EAAAhP,EAAAgP,WACAb,EAAAnO,EAAAmO,UACAhF,EAAAnJ,EAAAC,YAAA,IAAAkJ,KACAxB,EAAA3H,EAAA2H,MACAzH,EAAAF,EAAAE,aACA+O,EAAAjP,EAAAiP,kBACAC,EAAAlP,EAAAkP,sBAEMC,GACHjP,KAAkBiO,IAAc,KAAM,OAAOW,SAASX,EAAUiB,YAC7DC,GAAkBlB,KAAe,MAAO,MAAO,OAAOW,SAASX,EAAUiB,WACzEE,GAAqBnB,KAAe,MAAO,OAAOW,SAASX,EAAUiB,WAErEG,EAAmB9O,OAAA8H,EAAA,EAAA9H,CAAoBkH,EAAOsH,EAAmBC,GACjEM,EAAeD,EAAmBA,EAAiBpB,UAAYxG,EAAMwG,UACrEsB,EAAgBF,EAAmBA,EAAiBE,cAAgB9H,EAAM+H,kBAEhF,OACE1E,EAAA,qBAAK1K,UAAU,gCACZ6O,GACCnE,EAAA,cAAClL,EAAA,GACCG,KAAMA,EACNM,cAAc,oBACdO,gBAAiB6G,EAAMzH,eAI1BmP,GACCrE,EAAA,sBAAM2E,MAAOhI,EAAMiI,aAChB3P,EACC+K,EAAA,cAAC6E,EAAA,MAAKvP,UAAU,oBAAoBwP,GAAIrP,OAAAsP,EAAA,EAAAtP,CAAiBkH,EAAMqI,QAAShB,IACrEvO,OAAAwP,EAAA,EAAAxP,CAAmBkH,EAAMiI,cAG5BnP,OAAAwP,EAAA,EAAAxP,CAAmBkH,EAAMiI,aAE3B5E,EAAA,sBAAM1K,UAAU,qBAInBgP,QACsB1P,IAArB+H,EAAMuI,iBACmBtQ,IAAzB+H,EAAMwI,gBACJnF,EAAA,sBAAM2E,MAAOhI,EAAMwI,gBAChBlQ,EACC+K,EAAA,cAAC6E,EAAA,MACCvP,UAAU,oBACVwP,GAAIrP,OAAAsP,EAAA,EAAAtP,CAAiBkH,EAAMuI,WAAYlB,IACtCvO,OAAAwP,EAAA,EAAAxP,CAAmBkH,EAAMwI,iBAG5B1P,OAAAwP,EAAA,EAAAxP,CAAmBkH,EAAMwI,gBAE3BnF,EAAA,sBAAM1K,UAAU,qBAIrBL,EACC+K,EAAA,cAAC6E,EAAA,MACCvP,UAAU,oBACVwP,GAAIrP,OAAAsP,EAAA,EAAAtP,CAAWkH,EAAMqI,QAAShB,EAAYQ,IAC1CxE,EAAA,sBAAM2E,MAAOF,GAAgBhP,OAAAwP,EAAA,EAAAxP,CAAagP,GAAiB,MAG7DhP,OAAAwP,EAAA,EAAAxP,CAAagP,GAAiB,qeCpEtC,SAAArN,GAAA,SAAAgO,IAAA,IAAA/N,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAA1B,OAAiB4P,eAAe,GAEhClO,EAAAmO,aAAe,SAACC,EAAkB9I,GACxB,IAAA+I,EAAArO,EAAAtC,MAAA2Q,eAEFC,GAAgBnJ,WAEtB,GAAIiJ,EAASG,WAAW,UAAW,CACjC,IAAM9H,EAAM2H,EAASI,OAAO,GAC5BH,EAAczP,KAAM0P,GAAa/H,MAAOE,WAExC,OAAQ2H,GACN,IAAK,OACHC,EAAczP,KAAM0P,GAAaG,OAAQnJ,EAAMtB,SAC/C,MACF,IAAK,WACHqK,EAAczP,KAAM0P,GAAaI,YAAapJ,EAAM2C,aACpD,MACF,IAAK,SACHoG,EAAczP,KAAM0P,GAAaK,UAAWrJ,EAAMsJ,WAClD,MACF,IAAK,aACCtJ,EAAMuJ,WACRR,EAAczP,KAAM0P,GAAaQ,UAAU,EAAMC,aAAczJ,EAAMuJ,eAErER,EAAczP,KAAM0P,GAAaQ,UAAU,EAAOC,kBAEpD,MACF,IAAK,WACCzJ,EAAMC,SACR8I,EAAczP,KAAM0P,GAAaU,UAAU,EAAMC,WAAY3J,EAAMC,aAEnE8I,EAAczP,KAAM0P,GAAaU,UAAU,EAAOC,gBAEpD,MACF,IAAK,OACHZ,EAAczP,KAAM0P,GAAaY,OAAQ5J,EAAM6J,SAC/C,MACF,IAAK,UACHd,EAAczP,KAAM0P,GAAac,UAAW9J,EAAM+J,gBAClD,MACF,IAAK,SACC/J,EAAMgK,gBACRjB,EAAczP,KAAM0P,GAAaiB,SAAUjK,EAAMgK,mBAEnD,MACF,IAAK,OACHjB,EAAczP,KAAM0P,GAAakB,OAAQlK,EAAMmK,sBAuCzD,OAvFsCC,EAAA3B,EAAAhO,GAqDpCgO,EAAAxM,UAAAK,OAAA,WACQ,IAAAjE,EAAAuC,KAAAxC,MAAEiP,EAAAhP,EAAAgP,WAAYb,EAAAnO,EAAAmO,UAAWxG,EAAA3H,EAAA2H,MAAOqK,EAAAhS,EAAAgS,cAEhCC,GAAoBD,GAAiBA,EAAc7D,YAAcxG,EAAMwG,UAE7E,OACEnD,EAAA,qBAAK1K,UAAU,8BACZ2R,GACCjH,EAAA,qBAAK1K,UAAU,wCACb0K,EAAA,cAAC+D,GACCC,WAAYA,EACZb,UAAWA,EACXxG,MAAOpF,KAAKxC,MAAM4H,MAClB1H,MAAM,EACNC,aAAcqC,KAAKxC,MAAMG,gBAI/B8K,EAAA,cAACkH,EAAA,GACClD,WAAYA,EACZ9F,QAAS3G,KAAKxC,MAAMmJ,QACpBiJ,sBAAsB,EACtBxK,MAAOA,EACP5C,SAAUxC,KAAKxC,MAAMgF,SACrBsG,QAAS9I,KAAKxC,MAAMsL,QACpBpF,QAAS1D,KAAKxC,MAAMkG,QACpBmM,SAAU7P,KAAKiO,aACf6B,cAAe9P,KAAKxC,MAAMsS,cAC1BC,UAAW/P,KAAKxC,MAAMuS,UACtBC,SAAUhQ,KAAKxC,MAAMwS,aAK/BnC,EAvFA,CAAsCpF,EAAA,8TCNtC,SAAA5I,GAAA,SAAAoQ,mDA2BA,OA3BwCC,EAAAD,EAAApQ,GACtCoQ,EAAA5O,UAAAK,OAAA,eAAA5B,EAAAE,KACQvC,EAAAuC,KAAAxC,MAAEiP,EAAAhP,EAAAgP,WAAY9F,EAAAlJ,EAAAkJ,QAASiF,EAAAnO,EAAAmO,UAAW3G,EAAAxH,EAAAwH,OAAQ8K,EAAAtS,EAAAsS,UAAWI,EAAA1S,EAAA0S,cAE3D,OACE1H,EAAA,yBACGxD,EAAOqB,IAAI,SAAClB,EAAOtG,GAAU,OAC5B2J,EAAA,cAAC2H,GACC3D,WAAYA,EACZ9F,QAASA,EAAQ4F,SAASnH,EAAM+C,KAChCyD,UAAWA,EACXxG,MAAOA,EACP+C,IAAK/C,EAAM+C,IACX3F,SAAU1C,EAAKtC,MAAM6S,cACrBvH,QAAShJ,EAAKtC,MAAM8S,aACpB5M,QAAS5D,EAAKtC,MAAM+S,aACpBpC,eAAgBrO,EAAKtC,MAAM2Q,eAC3B2B,cAAehQ,EAAKtC,MAAMsS,cAC1BC,UAAWA,GAAaA,EAAU3K,QAAUA,EAAM+C,IAAM4H,EAAU9R,UAAOZ,EACzEM,aAAcmC,EAAKtC,MAAMG,aACzB8R,cAAe3Q,EAAQ,EAAImG,EAAOnG,EAAQ,QAAKzB,EAC/C2S,SAA2B,MAAjBG,GAAyBA,EAAchI,MAAQ/C,EAf/B+C,UAqBtC8H,EA3BA,CAAwCxH,EAAA,iVCFxC,SAAA5I,GAAA,SAAA2Q,IAAA,IAAA1Q,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YAiBEF,EAAA2Q,cAAgB,SAACC,GACf,QADe,IAAAA,OAAA,GACX5Q,EAAK6Q,KAAM,CACb,IAAMC,EAAU9Q,EAAK6Q,KAAKE,cAAc,gBAAgB/Q,EAAKtC,MAAMsT,UAAU3I,IAAG,MAC5EyI,GACF9Q,EAAKiR,aAAaH,EAASF,KAKjC5Q,EAAAiR,aAAe,SAACH,EAAkBF,QAAA,IAAAA,OAAA,GAChC,IAAMM,EAASC,OAAOC,YAAc,EACpChT,OAAAiT,EAAA,EAAAjT,CAAgB0S,GAAWQ,UAAWJ,EAAS,IAAKK,aAAcL,EAAQN,OAAMA,KAGlF5Q,EAAAwR,aAAe,WACbxR,EAAK2Q,eAAc,MA6DvB,OA7FgDc,EAAAf,EAAA3Q,GAG9C2Q,EAAAnP,UAAAmQ,mBAAA,SAAmBC,GACX,IAAAhU,EAAAuC,KAAAxC,MAAEsT,EAAArT,EAAAqT,UAAWnE,EAAAlP,EAAAkP,sBAGb+E,GACuB,IAA3B/E,GAAgCA,IAA0B8E,EAAU9E,sBAEpE8E,EAAUX,UAAUlF,YAAckF,EAAUlF,WAC3C6F,EAAUX,YAAcA,IAAaY,GAEtC1R,KAAKyQ,iBAsBTD,EAAAnP,UAAAK,OAAA,eAAA5B,EAAAE,KACQvC,EAAAuC,KAAAxC,MAAEsT,EAAArT,EAAAqT,UAAWpE,EAAAjP,EAAAiP,kBAAmBC,EAAAlP,EAAAkP,sBAEhCgF,EAAYzT,OAAA8H,EAAA,EAAA9H,CAAa4S,EAAWpE,GACpCM,EAAmB9O,OAAA8H,EAAA,EAAA9H,CACvB4S,EACApE,EACAC,GAGIf,EAAYoB,EAAmBA,EAAiBpB,UAAYkF,EAAUlF,UAItEgG,EAAa5E,EACfA,EAAiB6E,UAAUC,UAC3BhB,EAAUe,WAAaf,EAAUe,UAAUE,QAGzCC,EAAuBL,EAAUrL,IACrC,SAAA2L,GAAY,OAACA,EAASrG,YAAcA,EAAYqG,OAApC5U,IAGR6U,EACJlS,KAAKxC,MAAM2U,yBAAgD9U,IAA1BsP,EAC7BK,IAAsBlO,MAAO6N,EAAuByF,KAAMpF,EAAiBqF,UAC3EhV,EAEAiV,OAAiCjV,IAAdsU,GAA2BA,EAAUY,MAAM,SAAAN,GAAY,OAACA,EAADI,MAG1E1N,EACJiH,IAAckF,EAAUlF,UAAY5L,KAAKxC,MAAMmH,WAAa,WAAM,OAAAkH,QAAQ2G,aACtErC,EAAgBvE,IAAckF,EAAUlF,UAAYkF,EAAU3I,SAAM9K,EAE1E,OACEoL,EAAA,qBAAKgK,IAAK,SAAA9B,GAAQ,OAAC7Q,EAAK6Q,KAANA,IAChBlI,EAAA,cAACiK,EAAA,GACCd,WAAYA,EACZnF,WAAYzM,KAAKxC,MAAMiP,WACvBb,UAAWA,EACX+G,kBAAkB,EAClBC,4BAA4B,EAC5BC,2BAA2B,EAC3BC,wBAAyBR,EACzBJ,2BAA4BA,EAC5BF,qBAAsBA,EACtBrN,WAAYA,EACZ0L,cAAerQ,KAAKxC,MAAM6S,cAC1B0C,cAAe/S,KAAKxC,MAAMuV,cAC1BC,SAAUhT,KAAKsR,aACf2B,iBAAkBjT,KAAKxC,MAAMyV,iBAC7BC,OAAQlT,KAAK+Q,aACbZ,cAAeA,MAKzBK,EA7FA,CAAgD/H,EAAA,gUCThD,SAAA5I,GAAA,SAAAsT,IAAA,IAAArT,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAsT,YAAc,SAACC,GAAsB,kBACnCvT,EAAKtC,MAAM8V,iBAAiBD,OAuBhC,OAzB4CE,GAAAJ,EAAAtT,GAK1CsT,EAAA9R,UAAAK,OAAA,WACU,IAAA2R,EAAArT,KAAAxC,MAAA6V,SAER,OACE5K,EAAA,qBAAK1K,UAAU,2BACb0K,EAAA,qBAAK1K,UAAU,gBACb0K,EAAA,cAACiD,EAAA,GACC3N,UAAWsV,EAAW,qBAAkBhW,EACxCqG,QAAS1D,KAAKoT,aAAY,IACzBlV,OAAAsH,EAAA,EAAAtH,CAAU,qBAEbuK,EAAA,cAACiD,EAAA,GACC3N,UAAWsV,OAAWhW,EAAY,gBAClCqG,QAAS1D,KAAKoT,aAAY,IACzBlV,OAAAsH,EAAA,EAAAtH,CAAU,WAMvBiV,EAzBA,CAA4C1K,EAAA,uBCL9B,SAAA+K,KACZ,OACE/K,EAAA,qBAAK1K,UAAU,gBACb0K,EAAA,wBAAKvK,OAAAsH,EAAA,EAAAtH,CAAU,sBCHP,SAAAuV,KACZ,OACEhL,EAAA,qBAAK1K,UAAU,gBACb0K,EAAA,wBAAKvK,OAAAsH,EAAA,EAAAtH,CAAU,wCCGP,SAAAwV,GAAwBlW,GACpC,OACEiL,EAAA,cAAC1E,GAAA,GACChG,UAAU,gCACViG,QAASxG,EAAMwG,QACfC,MAAO/F,OAAAsH,EAAA,EAAAtH,CAAU,iBACjBgG,MAAO1G,EAAM0G,6BCLbyP,GACJlL,EAAA,qBAAKmL,OAAO,KAAKC,QAAQ,YAAY5I,MAAM,MACzCxC,EAAA,sBAAMqL,EAAE,6QAKE,SAAAC,GAAuBvW,GAMnC,OACEiL,EAAA,cAACuL,GAAA,GAAQjJ,QAAS7M,OAAAsH,EAAA,EAAAtH,CAAU,WAC1BuK,EAAA,mBACE1K,UAAWkW,GAAW,oCAAqCzW,EAAMO,WACjE2K,KAAK,IACLhF,QAVc,SAACgC,GACnBA,EAAMC,iBACNnI,EAAMkG,YASDiQ,sVCbT,SAAA9T,GAAA,SAAAqU,mDA8CA,OA9CyCC,GAAAD,EAAArU,GACvCqU,EAAA7S,UAAA+S,gBAAA,WACE,OACE3L,EAAA,sBAAM1K,UAAU,yBACd0K,EAAA,sBAAM1K,UAAU,oBACd0K,EAAA,sBAAM1K,UAAU,uCAAqC,KACrD0K,EAAA,sBAAM1K,UAAU,uCAAqC,KACpDG,OAAAsH,EAAA,EAAAtH,CAAU,4BAGbuK,EAAA,0BACEA,EAAA,sBAAM1K,UAAU,uCAAqC,KACrD0K,EAAA,sBAAM1K,UAAU,uCAAqC,KACpDG,OAAAsH,EAAA,EAAAtH,CAAU,yBAMnBgW,EAAA7S,UAAAK,OAAA,WACQ,IAAAjE,EAAAuC,KAAAxC,MAAE6N,EAAA5N,EAAA4N,OAAQgJ,EAAA5W,EAAA4W,cAEhB,OACE5L,EAAA,qBAAK1K,UAAU,cACZiC,KAAKoU,kBAEN3L,EAAA,qBAAK1K,UAAU,uBACb0K,EAAA,cAAC6L,GAAA,GAAgBvW,UAAU,6BAA6ByC,QAASR,KAAKxC,MAAMgD,SAC1EiI,EAAA,cAACsL,IAAarQ,QAAS1D,KAAKxC,MAAM+W,YAEzB,MAAVlJ,GACC5C,EAAA,cAACiL,IAAc3V,UAAU,cAAciG,QAASqQ,EAAenQ,MAAOmH,EAAOnH,SAIhFlE,KAAKxC,MAAMgX,YACV/L,EAAA,cAACgM,GAAA,GACC1W,UAAU,mBACV2W,YACExW,OAAAyW,GAAA,EAAAzW,IAAmB4F,KAAMoB,EAAA,EAAa0P,WAAe9Q,KAAMoB,EAAA,EAAa2P,YAOtFX,EA9CA,CAAyCzL,EAAA,mCCL3B,SAAAqM,GAAoCtX,GAChD,OACEiL,EAAA,cAACuL,GAAA,GACCe,gBAAiB,GACjBhK,QAAS7M,OAAAsH,EAAA,EAAAtH,CACP,6CACAA,OAAA8W,GAAA,cAAA9W,CAAcV,EAAMoN,MAAO,SAE7BnC,EAAA,cAACwM,GAAA,GAAcvR,QAASlG,EAAMkG,QAASsM,SAAUxS,EAAMwS,UACpD,IACAxS,EAAMoN,6TCNf,SAAA/K,GAAA,SAAAqV,IAAA,IAAApV,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAA1B,OAAiB+W,WAAW,GAE5BrV,EAAAsV,kBAAoB,SAAC1P,GACnBA,EAAMC,iBACN7F,EAAKS,UAAW4U,WAAW,OA8C/B,OAnDmDE,GAAAH,EAAArV,GAQjDqV,EAAA7T,UAAAiU,mBAAA,WACE,OACE7M,EAAA,mBAAG1K,UAAU,uCAAuC2K,KAAK,IAAIhF,QAAS1D,KAAKoV,mBAAiB,QAMhGF,EAAA7T,UAAAK,OAAA,eAAA5B,EAAAE,KACQvC,EAAAuC,KAAAxC,MAAA4H,MAAEmQ,EAAA9X,EAAA8X,mBAAoBC,EAAA/X,EAAA+X,MAEtBC,KAuBN,OArBIF,EAAmBxU,OAAS,GAC9B0U,EAAO3Y,KACL2L,EAAA,cAACqM,IACClK,MAAO2K,EAAmBxU,OAC1BoH,IAAI,KACJ6H,UAAWhQ,KAAKxC,MAAMkP,qBAK5B8I,EAAMzJ,QAAQ,SAAC2J,EAAM5W,GACnB2W,EAAO3Y,KACL2L,EAAA,cAACqM,IACClK,MAAO8K,EAAK3U,OACZoH,IAAKrJ,EACL4E,QAAS,WAAM,OAAA5D,EAAKtC,MAAMmY,aAAX7W,IACfkR,SAAUlR,IAAUgB,EAAKtC,MAAMkP,uBAK9B1M,KAAK5B,MAAM+W,UAChB1M,EAAA,qBAAK1K,UAAU,sCACZ0X,EAAOG,MAAM,EA9CR,GA+CLH,EAAO1U,OA/CF,GA+CoBf,KAAKsV,sBAGjC7M,EAAA,qBAAK1K,UAAU,sCAAsC0X,IAG3DP,EAnDA,CAAmDzM,EAAA,+VCJnD,SAAA5I,GAAA,SAAAgW,IAAA,IAAA/V,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YAeEF,EAAAsT,YAAc,SAAC1N,GACbA,EAAMC,iBACN7F,EAAKtC,MAAMkG,QAAQ5D,EAAKtC,MAAMsB,UAgBlC,OAjCoEgX,GAAAD,EAAAhW,GAGlEgW,EAAAxU,UAAAC,kBAAA,WACMtB,KAAKxC,MAAMwS,UAAYhQ,KAAK2Q,MAC9B3Q,KAAKxC,MAAM0V,OAAOlT,KAAK2Q,OAI3BkF,EAAAxU,UAAAmQ,mBAAA,SAAmBC,GACbzR,KAAKxC,MAAMwS,UAAYyB,EAAUzB,WAAahQ,KAAKxC,MAAMwS,UAAYhQ,KAAK2Q,MAC5E3Q,KAAKxC,MAAM0V,OAAOlT,KAAK2Q,OAS3BkF,EAAAxU,UAAAK,OAAA,eAAA5B,EAAAE,KACE,OACEyI,EAAA,qBAAK1K,UAAU,oBAAoB0U,IAAK,SAAA9B,GAAQ,OAAC7Q,EAAK6Q,KAANA,IAC9ClI,EAAA,mBACE1K,UAAU,6CACV2K,KAAK,IACLhF,QAAS1D,KAAKoT,aACd3K,EAAA,cAACwM,GAAA,GAAcjF,SAAUhQ,KAAKxC,MAAMwS,UAAWhQ,KAAKxC,MAAMsB,MAAQ,GAClE2J,EAAA,cAACsN,GAAA,GAAgB/F,SAAUhQ,KAAKxC,MAAMwS,UAAWhQ,KAAKxC,MAAMwY,YAKtEH,EAjCA,CAAoEpN,EAAA,gUCapE,SAAA5I,GAAA,SAAAoW,IAAA,IAAAnW,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAA1B,OAAiB+W,WAAW,GAmB5BrV,EAAAoW,yBAA2B,SAACxQ,GAC1BA,EAAMC,iBACND,EAAME,cAAcC,OACpB/F,EAAKS,UAAW4U,WAAW,KAG7BrV,EAAAqW,YAAc,SAACxE,GAQb,IAPA,IAGIyE,EACAC,EAJEC,KAEFC,KAGAC,EAA4B,EAEvB1X,EAAQ,EAAGA,EAAQ6S,EAAU5Q,OAAQjC,IAAS,CACrD,IAAMmT,EAAWN,EAAU7S,GACvBmT,EAASrG,YAAcwK,EACzBG,EAAiBzZ,KAAKmV,IAElBsE,EAAiBxV,OAAS,GAC5BuV,EAAOxZ,MACL8O,UAAWwK,EACXlJ,cAAemJ,EACfI,mBAAoBD,EACpB7E,UAAW4E,IAGfA,GAAoBtE,GACpBmE,EAAmBnE,EAASrG,UAC5ByK,EAAuBpE,EAAS/E,cAChCsJ,EAA4B1X,GAahC,OATIyX,EAAiBxV,OAAS,GAC5BuV,EAAOxZ,MACL8O,UAAWwK,EACXlJ,cAAemJ,EACfI,mBAAoBD,EACpB7E,UAAW4E,IAIRD,GAGTxW,EAAA4W,eAAiB,SAAC5X,EAAekX,GAC/B,OACEvN,EAAA,cAACkO,IACC7X,MAAOA,EACPqJ,IAAKrJ,EACLkX,QAASA,EACTtS,QAAS5D,EAAKtC,MAAMyV,iBACpBC,OAAQpT,EAAKtC,MAAM0V,OACnBlD,SAAUlR,IAAUgB,EAAKtC,MAAMmP,yBAKrC7M,EAAA8W,YAAc,SACZC,EACAC,EACArZ,OAAAmJ,OAAA,IAAAnJ,OAAEsZ,EAAAnQ,EAAAoQ,iBAAA,IAAAD,KAAmBE,EAAArQ,EAAAsQ,gBAAA,IAAAD,KAEbR,EAAAI,EAAAJ,mBACFU,EAAoBN,EAAMlF,UAAU5Q,OAAS,EACnD,OACE0H,EAAA,qBAAK1K,UAAU,yCAAyCoK,IAAK2O,GAC3DrO,EAAA,qBAAK1K,UAAU,+BACb0K,EAAA,mBAAG1K,UAAU,2DACZG,OAAAwP,EAAA,EAAAxP,CAAa2Y,EAAM3J,eAAiB,GAAI,KAE1C2J,EAAMlF,UAAU5Q,OAAS,GACxB0H,EAAA,qBAAK1K,UAAU,yCACZiZ,GAAalX,EAAK4W,eAAeD,EAAoBI,EAAMlF,UAAU,GAAGU,KAExE6E,GACCpX,EAAK4W,eACHD,EAAqBU,EACrBN,EAAMlF,UAAUwF,GAAmB9E,MAGrC2E,IACCE,GACDL,EAAMlF,UAAUrL,IAAI,SAAC2L,EAAUnT,GAC7B,OAAAgB,EAAK4W,eAAeD,EAAqB3X,EAAOmT,EAASI,YAwCzE,OAjJyD+E,GAAAnB,EAAApW,GAGvDoW,EAAA5U,UAAAgW,0BAAA,SAA0BC,GACpBA,EAAUlS,MAAM+C,MAAQnI,KAAKxC,MAAM4H,MAAM+C,KAC3CnI,KAAKO,UAAW4U,WAAW,IAIrB,IAAAoC,EAAAD,EAAA3F,UAEN2F,EAAU3K,uBACV2K,EAAU3K,sBAAwB,QAChBtP,IAAlBka,GACAD,EAAU3K,sBAAwB4K,EAAcxW,OAAS,GAEzDf,KAAKO,UAAW4U,WAAW,KAiG/Bc,EAAA5U,UAAAK,OAAA,eAAA5B,EAAAE,KACU2R,EAAA3R,KAAAxC,MAAAmU,UACF2E,EAAStW,KAAKmW,YAAYxE,GAEhC,GAAIA,EAAU5Q,OAAS,GAAKuV,EAAOvV,OAAS,GAAKf,KAAK5B,MAAM+W,UAAW,CACrE,IAAMqC,EAAalB,EAAO,GACpBmB,EAAYnB,EAAOA,EAAOvV,OAAS,GACzC,OACE0H,EAAA,qBAAK1K,UAAU,gDACZiC,KAAK4W,YAAYY,EAAY,GAAKR,WAAW,IAC9CvO,EAAA,qBAAK1K,UAAU,0CACb0K,EAAA,qBAAK1K,UAAU,+BACb0K,EAAA,mBAAG1K,UAAU,oEACb0K,EAAA,mBACE1K,UAAU,mCACV2K,KAAK,IACLhF,QAAS1D,KAAKkW,0BACbhY,OAAAsH,EAAA,EAAAtH,CAAwB,0BAA2ByT,EAAU5Q,OAAS,MAI5Ef,KAAK4W,YAAYa,EAAWnB,EAAOvV,OAAS,GAAKmW,UAAU,KAIhE,OACEzO,EAAA,qBAAK1K,UAAU,gDACZuY,EAAOhQ,IAAI,SAACuQ,EAAOC,GAAe,OAAAhX,EAAK8W,YAAYC,EAAjBC,OAK7Cb,EAjJA,CAAyDxN,EAAA,gUCVzD,SAAA5I,GAAA,SAAA6X,mDAyCA,OAzC4DC,GAAAD,EAAA7X,GAC1D6X,EAAArW,UAAAK,OAAA,eAAA5B,EAAAE,KACQ2R,EAAYzT,OAAA8H,EAAA,EAAA9H,CAAa8B,KAAKxC,MAAM4H,MAAOpF,KAAKxC,MAAMkP,mBAE5D,IAAKiF,GAAkC,IAArBA,EAAU5Q,QAAgB4Q,EAAUY,MAAM,SAAAN,GAAY,OAACA,EAADI,MACtE,OAAO,KAGT,IAAMuF,GACJ5X,KAAKxC,MAAM4H,MAAMwG,kBACd+F,EAAUrL,IAAI,SAAA2L,GAAY,OAAAA,EAAArG,aAI/B,OAFoBiM,KAAKD,GAAoB7W,OAAS,EAIlD0H,EAAA,cAACqP,IACC1S,MAAOpF,KAAKxC,MAAM4H,MAClBuM,UAAWA,EACXsB,iBAAkBjT,KAAKxC,MAAMyV,iBAC7BC,OAAQlT,KAAKxC,MAAM0V,OACnBvG,sBAAuB3M,KAAKxC,MAAMmP,wBAKpClE,EAAA,qBAAK1K,UAAU,gDACZ4T,EAAUrL,IAAI,SAAC2L,EAAUnT,GAAU,OAClC2J,EAAA,cAACkO,IACC7X,MAAOA,EACPqJ,IAAKrJ,EACLkX,QAAS/D,EAASI,IAClB3O,QAAS5D,EAAKtC,MAAMyV,iBACpBC,OAAQpT,EAAKtC,MAAM0V,OACnBlD,SAAUlR,IAAUgB,EAAKtC,MAPOmP,4BAc9C+K,EAzCA,CAA4DjP,EAAA,+eCI5D,SAAA5I,GAAA,SAAAkY,IAAA,IAAAjY,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YAgBEF,EAAAiR,aAAe,WACL,IAAArE,EAAA5M,EAAAtC,MAAAkP,kBACFjP,EAAAqC,EAAAtC,MAAA4H,MAAEoQ,EAAA/X,EAAA+X,MAAOD,EAAA9X,EAAA8X,mBAET5D,OACkBtU,IAAtBqP,EACI8I,EAAM9I,GACN8I,EAAMzU,OAAS,EAAIyU,EAAM,GAAKD,GAE/B5D,GAAaA,EAAU5Q,OAAS,GAG/BjB,EAAKkY,aAAalY,EAAKtC,MAAM0V,OAAOpT,EAAKkY,aACpClY,EAAKmY,gBAEdnY,EAAKtC,MAAM0V,OAAOpT,EAAKmY,eAAgBhH,OAAOC,YAAc,MAIhEpR,EAAAsT,YAAc,SAAC1N,GACbA,EAAMC,iBACN7F,EAAKtC,MAAMkG,QAAQ5D,EAAKtC,MAAM4H,MAAM+C,QA8CxC,OAnF6C+P,GAAAH,EAAAlY,GAI3CkY,EAAA1W,UAAAC,kBAAA,WACMtB,KAAKxC,MAAMwS,UACbhQ,KAAK+Q,gBAITgH,EAAA1W,UAAAmQ,mBAAA,SAAmBC,GACbzR,KAAKxC,MAAMwS,UAAYyB,EAAUzB,WAAahQ,KAAKxC,MAAMwS,UAC3DhQ,KAAK+Q,gBA4BTgH,EAAA1W,UAAAK,OAAA,eAAA5B,EAAAE,KACQvC,EAAAuC,KAAAxC,MAAE4H,EAAA3H,EAAA2H,MAAO4K,EAAAvS,EAAAuS,SAETmI,EAAsBnI,MAEtBtM,QAAS1D,KAAKoT,YAAagF,KAAM,WAAYC,SAAU,GAEvDC,EAAuBtI,GACvBtM,QAAS1D,KAAKoT,YAAagF,KAAM,WAAYC,SAAU,MAG7D,OACE5P,EAAA,oBAAA8P,IACExa,UAAWkW,GAAW,oBAAqB,YAAcjE,SAAQA,IACjEyC,IAAK,SAAA9B,GAAQ,OAAC7Q,EAAKkY,YAANrH,IACTwH,GACJ1P,EAAA,oBAAA8P,IACExa,UAAU,6BACNua,GACJ7F,IAAK,SAAA9B,GAAQ,OAAC7Q,EAAKmY,eAANtH,KACZvL,EAAM4Q,SAETvN,EAAA,qBAAK1K,UAAU,gCACb0K,EAAA,cAAC7E,GAAA,GAAWE,KAAMsB,EAAMtB,OACxB2E,EAAA,cAACqB,EAAA,GAAe/L,UAAU,kBAAkBgK,SAAU3C,EAAM2C,WAC5DU,EAAA,cAAC+P,IACCpT,MAAOA,EACPuQ,aAAc3V,KAAKxC,MAAMmY,aACzBjJ,kBAAmB1M,KAAKxC,MAAMkP,qBAGjCsD,GACCvH,EAAA,cAACgQ,IACCrT,MAAOA,EACP6N,iBAAkBjT,KAAKxC,MAAMyV,iBAC7BC,OAAQlT,KAAKxC,MAAM0V,OACnBxG,kBAAmB1M,KAAKxC,MAAMkP,kBAC9BC,sBAAuB3M,KAAKxC,MAAMmP,0BAM9CoL,EAnFA,CAA6CtP,EAAA,eCZ/B,SAAAiQ,GAAgClb,GAC5C,OACEiL,EAAA,qBAAK1K,UAAU,8CAA8CG,OAAAwP,EAAA,EAAAxP,CAAaV,EAAMmb,KAAM,0TCQ1F,SAAA9Y,GAAA,SAAA+Y,mDAsBA,OAtB0CC,GAAAD,EAAA/Y,GACxC+Y,EAAAvX,UAAAK,OAAA,WACQ,IAAAjE,EAAAuC,KAAAxC,MAAE4H,EAAA3H,EAAA2H,MAAOqK,EAAAhS,EAAAgS,cAAeO,EAAAvS,EAAAuS,SAExBN,GAAoBD,GAAiBA,EAAc7D,YAAcxG,EAAMwG,UAE7E,OACEnD,EAAA,yBACGiH,GAAoBjH,EAAA,cAACiQ,IAAsBC,KAAMvT,EAAM+H,oBACxD1E,EAAA,cAACqQ,IACC1T,MAAOA,EACP1B,QAAS1D,KAAKxC,MAAMqD,SACpB8U,aAAc3V,KAAKxC,MAAMmY,aACzB1C,iBAAkBjT,KAAKxC,MAAMyV,iBAC7BC,OAAQlT,KAAKxC,MAAM0V,OACnBlD,SAAUA,EACVtD,kBAAmBsD,EAAWhQ,KAAKxC,MAAMkP,uBAAoBrP,EAC7DsP,sBAAuBqD,EAAWhQ,KAAKxC,MAAMmP,2BAAwBtP,MAK/Eub,EAtBA,CAA0CnQ,EAAA,gUCF1C,SAAA5I,GAAA,SAAAkZ,IAAA,IAAAjZ,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAiR,aAAe,SAACH,EAAkBS,QAAA,IAAAA,MAAA,KAChC,IAAM2H,EAAoBC,SAASpI,cAAc,qBAC7CD,GAAWoI,GACb9a,OAAAiT,EAAA,EAAAjT,CAAgB0S,GAAWQ,UAAW,IAAKC,aAAYA,EAAE6H,OAAQF,OAwBvE,OA5B+CG,GAAAJ,EAAAlZ,GAQ7CkZ,EAAA1X,UAAAK,OAAA,eAAA5B,EAAAE,KACE,OACEyI,EAAA,yBACGzI,KAAKxC,MAAMyH,OAAOqB,IAAI,SAAClB,EAAOtG,GAAU,OACvC2J,EAAA,cAAC2Q,IACChU,MAAOA,EACP+C,IAAK/C,EAAM+C,IACXwN,aAAc7V,EAAKtC,MAAMmY,aACzB1C,iBAAkBnT,EAAKtC,MAAMyV,iBAC7BpS,SAAUf,EAAKtC,MAAMuV,cACrBtD,cAAe3Q,EAAQ,EAAIgB,EAAKtC,MAAMyH,OAAOnG,EAAQ,QAAKzB,EAC1D6V,OAAQpT,EAAKiR,aACbf,SAAU5K,EAAM+C,MAAQrI,EAAKtC,MAAMwS,SACnCtD,kBAAmB5M,EAAKtC,MAAMkP,kBAC9BC,sBAAuB7M,EAAKtC,MAXSmP,4BAiBjDoM,EA5BA,CAA+CtQ,EAAA,eCJzC4Q,GACJ5Q,EAAA,qBAAKmL,OAAO,KAAKC,QAAQ,YAAY5I,MAAM,MACzCxC,EAAA,sBAAMqL,EAAE,4nBAKE,SAAAwF,GAAqB9b,GAMjC,OACEiL,EAAA,cAACuL,GAAA,GAAQjJ,QAAS7M,OAAAsH,EAAA,EAAAtH,CAAU,0BAC1BuK,EAAA,mBACE1K,UAAWkW,GAAW,oCAAqCzW,EAAMO,WACjE2K,KAAK,IACLhF,QAVc,SAACgC,GACnBA,EAAMC,iBACNnI,EAAMkG,YASD2V,KCfK,SAAAE,GAAkC/b,GACtC,IAAAC,EAAAD,EAAAgc,yBAAA,IAAA/b,KAA0B4N,EAAA7N,EAAA6N,OAAQgJ,EAAA7W,EAAA6W,cAE1C,OACE5L,EAAA,wBAAQ1K,UAAU,uDAChB0K,EAAA,qBAAK1K,UAAU,mEACZyb,GAAqB/Q,EAAA,cAAC6Q,IAAWvb,UAAU,YAAY2F,QAASlG,EAAMic,cACtEjc,EAAMgD,QACLiI,EAAA,mBAAG1K,UAAU,uBAEb0K,EAAA,cAACsL,IAAahW,UAAU,aAAa2F,QAASlG,EAAM+W,WAErDlJ,GAAU5C,EAAA,cAACiL,IAAc1P,QAASqQ,EAAenQ,MAAOmH,EAAOnH,kXCDxE,SAAArE,GAAA,SAAA6Z,IAAA,IAAA5Z,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAoO,SAAW,YAMXpO,EAAA6Z,gBAAkB,SAACC,EAAmBC,GAC5B,QAAA9K,EAAAjP,EAAAtC,MAAAuR,UACR,GAAkB,KAAd6K,EAEF9Z,EAAKtC,MAAMgF,UAAWsM,UAAWhP,EAAKtC,MAAMsR,SAAUC,oBACjD,GAAI8K,EAAU,CACnB,IAAMC,EAAW9N,IACf+C,EAAUxC,SAASqN,GAAaG,IAAQhL,EAAW6K,GAAiB7K,EAASiL,QAAEJ,KAEjF9Z,EAAKtC,MAAMgF,WAAQ/E,GAAGqR,UAAU,IAAOhP,EAAKoO,UAAW4L,EAAQrc,SAE/DqC,EAAKtC,MAAMgF,WAAQoE,GACjBkI,UAAU,IACThP,EAAKoO,UAAWa,EAAUxC,SAASqN,IAAc7K,EAAUhO,OAAS,MAAU6Y,GAC/EhT,KAIN9G,EAAAma,kBAAoB,WAClBna,EAAKtC,MAAM0c,SAASpa,EAAKoO,WAG3BpO,EAAAqa,YAAc,WACZra,EAAKtC,MAAMgF,UAAWsM,UAAU,EAAMC,gBAGxCjP,EAAAI,aAAe,SAACC,GACd,IAAIxC,EAAemC,EAAKtC,MAAMoO,WAAa9L,EAAKtC,MAAMoO,UAAUjO,aAIhE,OAHImC,EAAKtC,MAAMG,eAAiBA,IAC9BA,EAAemC,EAAKtC,MAAMG,aAAawK,KAElCjK,OAAA8H,EAAA,EAAA9H,CAAgBiC,EAAOxC,IAGhCmC,EAAAsa,aAAe,SAAC1Z,GACN,MAAAqO,EAAAjP,EAAAtC,MAAAuR,UACRjP,EAAKtC,MAAMgF,WAAQ/E,GAAGqR,UAAU,IAAOhP,EAAKoO,UAAW2J,KAAS9I,EAASiL,QAAEtZ,EAAOzB,SAAOxB,KA8C3FqC,EAAA6C,aAAe,SAACjC,GACd,OACE+H,EAAA,+BACqBpL,IAAlBqD,EAAO6E,QACNkD,EAAA,cAACY,EAAA,GACCtL,UAAU,sBACVuL,KAAM5I,EAAO6E,OACbtH,KAAMyC,EAAOuD,MACbsF,KAAM,KAGT7I,EAAOuD,UAoEhB,OAxK2CoW,GAAAX,EAAA7Z,GA8CzC6Z,EAAArY,UAAAiZ,iBAAA,SAAiBjV,GACf,MAAoB,KAAbA,GAAmBrF,KAAKxC,MAAMsR,SAAW9O,KAAKxC,MAAMuR,UAAUxC,SAASlH,IAGhFqU,EAAArY,UAAAkZ,gBAAA,SAAgBlV,GACd,GAAiB,KAAbA,EACF,OAAOnH,OAAAsH,EAAA,EAAAtH,CAAU,cAET,IAAAsc,EAAAxa,KAAAxC,MAAAgd,gBACR,OAAIA,EAAgBnV,GAEhBoD,EAAA,0BACEA,EAAA,cAACY,EAAA,GACCtL,UAAU,sBACVuL,KAAMkR,EAAgBnV,GAAUE,OAChCtH,KAAMuc,EAAgBnV,GAAUpH,KAChCsL,KAAM,KAEPiR,EAAgBnV,GAAUpH,MAIxBoH,GAKbqU,EAAArY,UAAAoZ,QAAA,SAAQpV,GACE,IAAAqV,EAAA1a,KAAAxC,MAAAkd,MACR,OAAOA,EAAQA,EAAMrV,QAAYhI,GAGnCqc,EAAArY,UAAAsZ,UAAA,eAAA7a,EAAAE,KACQN,EAASM,KAAKxC,MAAMuR,UAAUzI,IAAI,SAAAjB,GACtC,IAAMuV,EAAO9a,EAAKtC,MAAMgd,gBAAgBnV,GACxC,OAAOuV,EAAOA,EAAK3c,KAAOoH,IAK5B,OAHKrF,KAAKxC,MAAMsR,UACdpP,EAAO5C,KAAKoB,OAAAsH,EAAA,EAAAtH,CAAU,eAEjBwB,GAmBTga,EAAArY,UAAAwZ,WAAA,eAAA/a,EAAAE,KACU0a,EAAA1a,KAAAxC,MAAAkd,MAER,IAAKA,EACH,OAAO,KAGT,IAAM3L,EAAY/C,IAChB9N,OAAO+N,KAAKyO,GAEZ,SAAAvS,GAAO,MAAS,KAARA,EAAa,EAAd,GAEP,SAAAA,GAAO,OAACuS,EAADvS,KAGT,OACEM,EAAA,cAACqS,GAAA,EAAc,KACZ/L,EAAUzI,IAAI,SAAAjB,GAAY,OACzBoD,EAAA,cAACsS,GAAA,GACCC,OAAQlb,EAAKwa,iBAAiBjV,GAC9B8C,IAAK9C,EACL7E,QAASV,EAAKtC,MAAMgD,QACpBvC,KAAM6B,EAAKya,gBAAgBlV,GAC3B3B,QAAS5D,EAAK6Z,gBACdsB,KAAM/c,OAAA8H,EAAA,EAAA9H,CAAgB4B,EAAK2a,QAAQpV,GAAWvF,EAAKtC,MAAM0d,WACzDC,QAAyC,IAAhCrb,EAAKtC,MAAMuR,UAAUhO,SAAiBjB,EAAKwa,iBAAiBjV,GACrEpG,MATuBoG,QAgBjCqU,EAAArY,UAAA+Z,aAAA,WACE,OAAKpb,KAAKxC,MAAMkd,MAKdjS,EAAA,cAACjK,GAAA,GACC6B,SAAUL,KAAKE,aACfW,SAAUb,KAAKoa,aACfzX,aAAc3C,KAAK2C,eAPd,MAYX+W,EAAArY,UAAAK,OAAA,WACE,OACE+G,EAAA,cAAC4S,GAAA,GAASnN,SAAUlO,KAAKkO,UACvBzF,EAAA,cAAC6S,GAAA,GACCrd,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,eAAgB8B,KAAKkO,UACrCqN,QAASvb,KAAKma,YACdzW,QAAS1D,KAAKia,kBACduB,KAAMxb,KAAKxC,MAAMge,KACjB9b,OAAQM,KAAK2a,cAGd3a,KAAKxC,MAAMge,MAAQxb,KAAK6a,aACxB7a,KAAKxC,MAAMge,MAAQxb,KAAKob,iBAjKxB1B,EAAA+B,cACLD,MAAM,GAoKV9B,EAxKA,CAA2CjR,EAAA,gUCP3C,SAAA5I,GAAA,SAAA6b,IAAA,IAAA5b,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAoO,SAAW,UAMXpO,EAAA6Z,gBAAkB,SAACC,EAAmBC,GAC5B,QAAA8B,EAAA7b,EAAAtC,MAAAme,QACR,GAAI9B,EAAU,CACZ,IAAMC,EAAW9N,IACf2P,EAAQpP,SAASqN,GAAaG,IAAQ4B,EAAS/B,GAAiB+B,EAAO3B,QAAEJ,KAE3E9Z,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW4L,EAAQrc,SAE/CqC,EAAKtC,MAAMgF,WAAQoE,MAChB9G,EAAKoO,UAAWyN,EAAQpP,SAASqN,IAAc+B,EAAQ5a,OAAS,MAAU6Y,GAC3EhT,KAIN9G,EAAAma,kBAAoB,WAClBna,EAAKtC,MAAM0c,SAASpa,EAAKoO,WAG3BpO,EAAAqa,YAAc,iBACZra,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,aAAazQ,OAkD7C,OA5EyCme,GAAAF,EAAA7b,GA6BvC6b,EAAAra,UAAAoZ,QAAA,SAAQoB,GACE,IAAAnB,EAAA1a,KAAAxC,MAAAkd,MACR,OAAOA,EAAQA,EAAMmB,QAAUxe,GAGjCqe,EAAAra,UAAAwZ,WAAA,eAAA/a,EAAAE,KACU0a,EAAA1a,KAAAxC,MAAAkd,MAER,IAAKA,EACH,OAAO,KAGT,IAAMiB,EAAU3P,IAAO9N,OAAO+N,KAAKyO,GAAQ,SAAAvS,GAAO,OAACuS,EAADvS,KAElD,OACEM,EAAA,cAACqS,GAAA,EAAc,KACZa,EAAQrV,IAAI,SAAAuV,GAAU,OACrBpT,EAAA,cAACsS,GAAA,GACCC,OAAQlb,EAAKtC,MAAMme,QAAQpP,SAASsP,GACpC1T,IAAK0T,EACLrb,QAASV,EAAKtC,MAAMgD,QACpBvC,KAAM4d,EACNnY,QAAS5D,EAAK6Z,gBACdsB,KAAM/c,OAAA8H,EAAA,EAAA9H,CAAgB4B,EAAK2a,QAAQoB,GAAS/b,EAAKtC,MAAM0d,WACvDC,QAAuC,IAA9Brb,EAAKtC,MAAMme,QAAQ5a,SAAiBjB,EAAKtC,MAAMme,QAAQpP,SAASsP,GACzE5c,MATmB4c,QAgB7BH,EAAAra,UAAAK,OAAA,WACE,OACE+G,EAAA,cAAC4S,GAAA,GAASnN,SAAUlO,KAAKkO,UACvBzF,EAAA,cAAC6S,GAAA,GACCrd,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,eAAgB8B,KAAKkO,UACrCqN,QAASvb,KAAKma,YACdzW,QAAS1D,KAAKia,kBACduB,KAAMxb,KAAKxC,MAAMge,KACjB9b,OAAQM,KAAKxC,MAAMme,UAGpB3b,KAAKxC,MAAMge,MAAQxb,KAAK6a,eArExBa,EAAAD,cACLD,MAAM,GAwEVE,EA5EA,CAAyCjT,EAAA,2ZCIzC,SAAA5I,GAAA,SAAAic,IAAA,IAAAhc,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAsT,YAAc,SAAC2I,GACTjc,EAAKtC,MAAMwe,YACblc,EAAKtC,MAAMwe,WAAWD,IAI1Bjc,EAAAmc,aAAe,SAACC,EAA2BC,GACnC,IAAA1e,EAAAqC,EAAAtC,MAAEuJ,EAAAtJ,EAAAsJ,KAAMH,EAAAnJ,EAAA2e,cAAA,IAAAxV,OAEd,IAAKwV,EAAOrb,OACV,OAAO,KAGT,IAAMsb,EAAQD,EAAO9V,IAAI,SAACgW,EAAMxd,GAC9B,IAAMid,EAAQhV,EAAKjI,GACbmJ,EAAIsU,KAAKC,MAAON,EAAOH,EAAM9T,GAAgBiU,EAAOO,YAAc,GAClEC,EAAIP,EAAOQ,QAAQ,GACnB7I,EAAI/M,EAAKjI,GACTsT,EACJ3J,EAAA,sBACE1K,UAAU,iBACV6e,GAAG,QACHzU,IAAKrJ,EACL4E,QAAS,WAAM,OAAA5D,EAAKsT,YAAL2I,IACfxR,OAASI,OAAQ7K,EAAKtC,MAAMwe,WAAa,UAAY,WACrD/T,EAAGA,EACHyU,EAAGA,GACFJ,GAGL,OACE7T,EAAA,cAACuL,GAAA,GAAQ7L,IAAKrJ,EAAOiM,QAAS+I,EAAEqH,cAAW9d,GACxC+U,KAIP,OAAO3J,EAAA,uBAAI4T,IAGbvc,EAAA+c,cAAgB,SAACX,EAA2BC,GACpC,IAAA1e,EAAAqC,EAAAtC,MAAEuJ,EAAAtJ,EAAAsJ,KAAMH,EAAAnJ,EAAAqf,eAAA,IAAAlW,OAEd,IAAKkW,EAAQ/b,OACX,OAAO,KAGT,IAAMsb,EAAQS,EAAQxW,IAAI,SAACrH,EAAOH,GAChC,IAAMid,EAAQhV,EAAKjI,GACbmJ,EAAIsU,KAAKC,MAAON,EAAOH,EAAM9T,GAAgBiU,EAAOO,YAAc,GAClEC,EAAIP,EAAOJ,EAAMW,GACjBtK,EACJ3J,EAAA,sBACE1K,UAAU,iBACV6e,GAAG,OACHzU,IAAKrJ,EACL4E,QAAS,WAAM,OAAA5D,EAAKsT,YAAL2I,IACfxR,OAASI,OAAQ7K,EAAKtC,MAAMwe,WAAa,UAAY,WACrD/T,EAAGA,EACHyU,EAAGA,GACFzd,GAGL,OACEwJ,EAAA,cAACuL,GAAA,GAAQ7L,IAAKrJ,EAAOiM,QAASgR,EAAMZ,cAAW9d,GAC5C+U,KAIP,OAAO3J,EAAA,uBAAI4T,IAGbvc,EAAAid,WAAa,SAACb,EAA2BC,GACvC,IAAMa,EAAOld,EAAKtC,MAAMuJ,KAAKT,IAAI,SAACyV,EAAOjd,GACvC,IAAMmJ,EAAIsU,KAAKC,MAAMN,EAAOH,EAAM9T,IAC5BgV,EAAOd,EAAOQ,QAAQ,GACtBD,EAAIH,KAAKC,MAAML,EAAOJ,EAAMW,IAA+B,EAC3D9I,EAASqJ,EAAOP,EAChBQ,EACJzU,EAAA,sBACE1K,UAAU,gBACV6V,OAAQA,EACRzL,IAAKrJ,EACL4E,QAAS,WAAM,OAAA5D,EAAKsT,YAAL2I,IACfxR,OAASI,OAAQ7K,EAAKtC,MAAMwe,WAAa,UAAY,WACrD/Q,MAAOnL,EAAKtC,MAAM2f,UAClBlV,EAAGA,EACHyU,EAAGA,IAGP,OACEjU,EAAA,cAACuL,GAAA,GAAQ7L,IAAKrJ,EAAOiM,QAASgR,EAAMZ,cAAW9d,GAC5C6f,KAIP,OAAOzU,EAAA,uBAAIuU,MA+Bf,OA/HyCI,GAAAtB,EAAAjc,GAmGvCic,EAAAza,UAAAK,OAAA,WACQ,IAAAjE,EAAAuC,KAAAxC,MAAE2f,EAAA1f,EAAA0f,UAAWpW,EAAAtJ,EAAAsJ,KAAMkE,EAAAxN,EAAAwN,MAAO2I,EAAAnW,EAAAmW,OAAQhN,EAAAnJ,EAAA4f,eAAA,IAAAzW,GAAA,aAAAA,EAElC0W,EAAiBrS,EAAQoS,EAAQ,GAAKA,EAAQ,GAC9CE,EAAkB3J,EAASyJ,EAAQ,GAAKA,EAAQ,GAEhDG,GAAgBF,EAAiBH,EAAYpW,EAAKhG,SAAWgG,EAAKhG,OAAS,GAC3E0c,EAAuBD,GAAgBA,EAAeL,GAEtDF,EAAO/e,OAAAwf,GAAA,EAAAxf,CAAI6I,EAAM,SAAA+M,GAAK,OAAAA,EAAA4I,IACtBR,EAAShe,OAAAyf,GAAA,EAAAzf,GACZ0f,OAAO7W,EAAKT,IAAI,SAAAwN,GAAK,OAAAA,EAAA7L,KACrB0U,OAAO,EAAGW,IACVO,aAAaJ,GACVtB,EAASje,OAAAyf,GAAA,EAAAzf,GACZ0f,QAAQ,EAAGX,IACXN,OAAOY,EAAiB,IAE3B,OACE9U,EAAA,qBAAK1K,UAAU,YAAY6V,OAAQA,EAAQ3I,MAAOA,GAChDxC,EAAA,mBAAGtL,UAAW,aAAakgB,EAAQ,GAAE,KAAKA,EAAQ,GAAE,KACjDrd,KAAKic,aAAaC,EAAQC,GAC1Bnc,KAAK6c,cAAcX,EAAQC,GAC3Bnc,KAAK+c,WAAWb,EAAQC,MAKnCL,EA/HA,CAAyCrT,EAAA,wfCSzC,SAAA5I,GAAA,SAAAie,IAAA,IAAAhe,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAoO,SAAW,YAUXpO,EAAAie,SAAW,WACT,YAA4B1gB,IAA5ByC,EAAKtC,MAAMwgB,cACXle,EAAKtC,MAAMygB,UAAUld,OAAS,QACD1D,IAA7ByC,EAAKtC,MAAM0gB,eACXpe,EAAKtC,MAAM2gB,cAAcpd,OAAS,GAClCjB,EAAKtC,MAAM4gB,iBAEbte,EAAAma,kBAAoB,WAClBna,EAAKtC,MAAM0c,SAASpa,EAAKoO,WAG3BpO,EAAAqa,YAAc,WACZra,EAAKue,aAGPve,EAAAue,QAAU,SAACC,GACTxe,EAAKtC,MAAMgF,SAAQ+b,IACjBP,kBAAc3gB,EACd4gB,eAAW5gB,EACX6gB,mBAAe7gB,EACf8gB,mBAAe9gB,EACf+gB,qBAAiB/gB,GACdihB,KAIPxe,EAAA0e,eAAiB,SAAC/gB,OAChBugB,EAAAvgB,EAAAugB,aACAE,EAAAzgB,EAAAygB,cAKApe,EAAKue,SAAUL,aAAYA,EAAEE,cAAaA,KAG5Cpe,EAAA2e,mBAAqB,SAAChhB,OAAEihB,EAAAjhB,EAAAihB,KAAMnR,EAAA9P,EAAA8P,GAC5BzN,EAAKue,SAAUL,aAAcU,EAAMR,cAAe3Q,KAGpDzN,EAAA6e,kBAAoB,SAACC,GAAmB,OAAA9e,EAAKue,SAAUF,cAAfS,KAExC9e,EAAA+e,sBAAwB,WAAM,OAAA/e,EAAKue,SAAUD,iBAAf,OAkMhC,OAvP+CU,GAAAhB,EAAAje,GAuD7Cie,EAAAzc,UAAAsZ,UAAA,WACQ,IAAAld,EAAAuC,KAAAxC,MAAEwgB,EAAAvgB,EAAAugB,aAAcC,EAAAxgB,EAAAwgB,UAAWC,EAAAzgB,EAAAygB,cAAeC,EAAA1gB,EAAA0gB,cAAeC,EAAA3gB,EAAA2gB,gBACvDW,EAAA/e,KAAAgf,QAAAC,KAAAF,WACFrf,KAsBN,OArBIse,GACFte,EAAO5C,KAAKiiB,EAAWf,EAAckB,GAAA,IAEnCjB,GACFve,EAAO5C,KAAKiiB,EAAWd,EAAWiB,GAAA,IAEhChB,GACFxe,EAAO5C,KAAKiiB,EAAWb,EAAegB,GAAA,IAElB,OAAlBf,GACFze,EAAO5C,KAAKoB,OAAAsH,EAAA,EAAAtH,CAAU,qCAEF,OAAlBigB,GACFze,EAAO5C,KAAKoB,OAAAsH,EAAA,EAAAtH,CAAU,sCAEF,OAAlBigB,GACFze,EAAO5C,KAAKoB,OAAAsH,EAAA,EAAAtH,CAAU,qCAEpBkgB,GACF1e,EAAO5C,KAAKoB,OAAAsH,EAAA,EAAAtH,CAAU,uBAEjBwB,GAGToe,EAAAzc,UAAA8d,eAAA,eAAArf,EAAAE,KACQvC,EAAAuC,KAAAxC,MAAE0gB,EAAAzgB,EAAAygB,cAAexD,EAAAjd,EAAAid,MAEvB,IAAKA,EACH,OAAO,KAGT,IAAM0E,EAAUlhB,OAAO+N,KAAKyO,GAE5B,GAAI0E,EAAQre,OAAS,GAAKqe,EAAQ7M,MAAM,SAAAqM,GAAU,OAAClE,EAADkE,KAChD,OAAO,KAGD,IAAAG,EAAA/e,KAAAgf,QAAAC,KAAAF,WACFhY,EAAOqY,EAAQ9Y,IAAI,SAAC+Y,EAAOvgB,GAC/B,IACIwgB,EADEC,EAAYrhB,OAAAshB,GAAA,EAAAthB,CAAUmhB,GAExBvgB,EAAQsgB,EAAQre,OAAS,GAC3Bue,EAAUphB,OAAAshB,GAAA,EAAAthB,CAAUkhB,EAAQtgB,EAAQ,KAC5B2gB,QAAQH,EAAQI,UAAY,GAEpCJ,EAAUpB,EAAgBhgB,OAAAshB,GAAA,EAAAthB,CAAUggB,QAAiB7gB,EAGvD,IAAMsiB,EAAiBL,GAAW,IAAIM,KAWtC,OACE5B,aAAcuB,EACdrB,cAAeoB,EACfnE,QAZA1S,EAAA,cAACA,EAAA,SAAc,KACZvK,OAAA8W,GAAA,cAAA9W,CAAcwc,EAAM2E,GAAQ,aAC7B5W,EAAA,yBACCsW,EAAWQ,EAAWL,GAAA,IACrBhhB,OAAAshB,GAAA,EAAAthB,CAAUyhB,EAAgBJ,IAC1B,MAAMR,EAAWY,EAAgBT,GAAA,IAQrCjX,EAAGnJ,EACH4d,EAAG5c,EAAKtC,MAAMgD,QAAU,EAAIka,EAAM2E,MAIhClC,EAAYZ,KAAKsD,MAAM,IAAM9Y,EAAKhG,QAClCkK,EAAQkS,EAAYpW,EAAKhG,OAAS,EAAI,GAEtC+e,EAAWC,KAAIhZ,EAAKT,IAAI,SAAAwN,GAAK,OAAAA,EAAA4I,KAC7BsD,EAAkC,UAAzBhgB,KAAKxC,MAAM0d,UAAwB,YAAc,iBAC1D4B,EAAU/V,EAAKT,IAAI,SAAAwN,GAAK,OAACA,EAAE4I,IAAMoD,EAAW5hB,OAAA8W,GAAA,cAAA9W,CAAc4hB,EAAUE,GAA5C,KAE9B,OACEvX,EAAA,cAACwX,IACC9C,UAAWA,EAAY,EACvBpW,KAAMA,EACN6M,OAAQ,GACRoI,WAAYhc,KAAKwe,eACjBnB,SAAU,GAAI,EAAG,EAAG,IACpBpS,MAAOA,EACP6R,QAASA,KAKfgB,EAAAzc,UAAA6e,gBAAA,WACE,OACEzX,EAAA,qBAAK1K,UAAU,oCACb0K,EAAA,cAAC0X,GAAA,GAAkBC,KAAMpgB,KAAKxC,MAAMygB,YACpCxV,EAAA,yBACAA,EAAA,sBAAM1K,UAAU,QACd0K,EAAA,cAAC4X,GAAA,GAAYD,KAAMpgB,KAAKxC,MAAMygB,eAMtCH,EAAAzc,UAAAif,sBAAA,WACQ,IAAA7iB,EAAAuC,KAAAxC,MAAEwgB,EAAAvgB,EAAAugB,aAAcE,EAAAzgB,EAAAygB,cACtB,OACEzV,EAAA,qBAAK1K,UAAU,yCACb0K,EAAA,cAAC8X,GAAA,GACC/d,SAAUxC,KAAKye,mBACfxf,OAASyf,KAAMV,EAAczQ,GAAI2Q,OAMzCJ,EAAAzc,UAAAmf,wBAAA,WACQ,IAAA/iB,EAAAuC,KAAAxC,MAAEoO,EAAAnO,EAAAmO,UAAWuS,EAAA1gB,EAAA0gB,cAAeC,EAAA3gB,EAAA2gB,gBAClC,OACE3V,EAAA,qBAAK1K,UAAU,wCACb0K,EAAA,cAACsS,GAAA,GACCC,QAAShb,KAAK+d,WACdvd,QAASR,KAAKxC,MAAMgD,QACpBvC,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,8BAChBwF,QAAS1D,KAAK2e,kBACd1f,MAAM,KAEP2M,EACCnD,EAAA,cAACsS,GAAA,GACCC,OAAQoD,EACR5d,QAASR,KAAKxC,MAAMgD,QACpBvC,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,sBAChBwF,QAAS1D,KAAK6e,sBACd5f,MAAM,KAGRwJ,EAAA,cAAAA,EAAA,cACEA,EAAA,cAACsS,GAAA,GACCC,OAA0B,OAAlBmD,EACR3d,QAASR,KAAKxC,MAAMgD,QACpBvC,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,oCAChBwF,QAAS1D,KAAK2e,kBACd1f,MAAM,OAERwJ,EAAA,cAACsS,GAAA,GACCC,OAA0B,OAAlBmD,EACR3d,QAASR,KAAKxC,MAAMgD,QACpBvC,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,qCAChBwF,QAAS1D,KAAK2e,kBACd1f,MAAM,OAERwJ,EAAA,cAACsS,GAAA,GACCC,OAA0B,OAAlBmD,EACR3d,QAASR,KAAKxC,MAAMgD,QACpBvC,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,oCAChBwF,QAAS1D,KAAK2e,kBACd1f,MAAM,UAQlB6e,EAAAzc,UAAAof,YAAA,WAEE,OADQzgB,KAAAxC,MAAAygB,UAENje,KAAKkgB,kBAELzX,EAAA,yBACGzI,KAAKmf,iBACLnf,KAAKsgB,wBACLtgB,KAAKwgB,4BAKZ1C,EAAAzc,UAAAK,OAAA,WACE,OACE+G,EAAA,cAAC4S,GAAA,GAASnN,SAAUlO,KAAKkO,UACvBzF,EAAA,cAAC6S,GAAA,GACCrd,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,eAAgB8B,KAAKkO,UACrCqN,QAASvb,KAAKma,YACdzW,QAAS1D,KAAKia,kBACduB,KAAMxb,KAAKxC,MAAMge,KACjB9b,OAAQM,KAAK2a,cAGd3a,KAAKxC,MAAMge,MAAQxb,KAAKygB,gBAhPxB3C,EAAArC,cACLD,MAAM,GAGDsC,EAAA4C,cACLzB,KAAM0B,GAAA,GA+OV7C,EAvPA,CAA+CrV,EAAA,yUCV/C,SAAA5I,GAAA,SAAA+gB,IAAA,IAAA9gB,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAoO,SAAW,cAMXpO,EAAA6Z,gBAAkB,SAACC,EAAmBC,GAC5B,QAAAgH,EAAA/gB,EAAAtC,MAAAqjB,YACR,GAAIhH,EAAU,CACZ,IAAMC,EAAW9N,IACf6U,EAAYtU,SAASqN,GACjBG,IAAQ8G,EAAajH,GACjBiH,EAAW7G,QAAEJ,KAEvB9Z,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW4L,EAAQrc,SAE/CqC,EAAKtC,MAAMgF,WAAQoE,MAChB9G,EAAKoO,UACJ2S,EAAYtU,SAASqN,IAAciH,EAAY9f,OAAS,MAAU6Y,GACpEhT,KAIN9G,EAAAma,kBAAoB,WAClBna,EAAKtC,MAAM0c,SAASpa,EAAKoO,WAG3BpO,EAAAqa,YAAc,iBACZra,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,aAAazQ,OA8D7C,OA3F4CqjB,GAAAF,EAAA/gB,GAgC1C+gB,EAAAvf,UAAAoZ,QAAA,SAAQsG,GACE,IAAArG,EAAA1a,KAAAxC,MAAAkd,MACR,OAAOA,EAAQA,EAAMqG,QAAa1jB,GAGpCujB,EAAAvf,UAAA2f,WAAA,SAAWD,GACT,OACEtY,EAAA,0BACEA,EAAA,cAACwY,GAAA,GAAcljB,UAAU,sBAAsB8O,UAAU,QACxDkU,IAKPH,EAAAvf,UAAAwZ,WAAA,eAAA/a,EAAAE,KACU0a,EAAA1a,KAAAxC,MAAAkd,MAER,IAAKA,EACH,OAAO,KAGT,IAAMmG,EAAc7U,IAAO9N,OAAO+N,KAAKyO,GAAQ,SAAAvS,GAAO,OAACuS,EAADvS,KAEtD,OACEM,EAAA,cAACqS,GAAA,EAAc,KACZ+F,EAAYva,IAAI,SAAAya,GAAa,OAC5BtY,EAAA,cAACsS,GAAA,GACCC,OAAQlb,EAAKtC,MAAMqjB,YAAYtU,SAASwU,GACxC5Y,IAAK4Y,EACLvgB,QAASV,EAAKtC,MAAMgD,QACpBvC,KAAM6B,EAAKkhB,WAAWD,GACtBrd,QAAS5D,EAAK6Z,gBACdsB,KAAM/c,OAAA8H,EAAA,EAAA9H,CAAgB4B,EAAK2a,QAAQsG,GAAYjhB,EAAKtC,MAAM0d,WAC1DC,QACoC,IAAlCrb,EAAKtC,MAAMqjB,YAAY9f,SAAiBjB,EAAKtC,MAAMqjB,YAAYtU,SAASwU,GAE1E9hB,MAX0B8hB,QAkBpCH,EAAAvf,UAAAK,OAAA,WACE,IAAMhC,EAASM,KAAKxC,MAAMqjB,YAAYva,IAAI,SAAA4a,GAAO,OAAAhjB,OAAAwP,EAAA,EAAAxP,CAAAgjB,KACjD,OACEzY,EAAA,cAAC4S,GAAA,GAASnN,SAAUlO,KAAKkO,UACvBzF,EAAA,cAAC6S,GAAA,GACCrd,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,eAAgB8B,KAAKkO,UACrCqN,QAASvb,KAAKma,YACdzW,QAAS1D,KAAKia,kBACduB,KAAMxb,KAAKxC,MAAMge,KACjB9b,OAAQA,IAGTM,KAAKxC,MAAMge,MAAQxb,KAAK6a,eApFxB+F,EAAAnF,cACLD,MAAM,GAuFVoF,EA3FA,CAA4CnY,EAAA,gUCT5C,SAAA5I,GAAA,SAAAshB,IAAA,IAAArhB,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAoO,SAAW,YAEXpO,EAAA6Z,gBAAkB,SAACC,SACjB9Z,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW0L,EAASnc,OA0BpD,OA9BuC2jB,GAAAD,EAAAthB,GAOrCshB,EAAA9f,UAAAK,OAAA,eAAA5B,EAAAE,KACUkb,EAAAlb,KAAAxC,MAAA0d,UAGR,OACEzS,EAAA,cAAC4S,GAAA,GAASnN,SAAUlO,KAAKkO,UACvBzF,EAAA,cAAC6S,GAAA,GAAYrd,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,qBAAsBsd,MAAM,IAEzD/S,EAAA,cAACqS,GAAA,EAAc,MANJ,QAAS,UAOXxU,IAAI,SAAA+a,GAAQ,OACjB5Y,EAAA,cAACsS,GAAA,GACCC,OAAQE,IAAcmG,EACtBC,WAAW,EACXnZ,IAAKkZ,EACLpjB,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,oBAAqBmjB,GACrC3d,QAAS5D,EAAK6Z,gBACd1a,MAPeoiB,SAc7BF,EA9BA,CAAuC1Y,EAAA,gUCSvC,SAAA5I,GAAA,SAAA0hB,IAAA,IAAAzhB,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAoO,SAAW,QAMXpO,EAAA6Z,gBAAkB,SAACC,EAAmBC,GAC5B,QAAAvK,EAAAxP,EAAAtC,MAAA8R,MACR,GAAIuK,EAAU,CACZ,IAAMC,EAAW9N,IACfsD,EAAM/C,SAASqN,GAAaG,IAAQzK,EAAOsK,GAAiBtK,EAAK0K,QAAEJ,KAErE9Z,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW4L,EAAQrc,SAE/CqC,EAAKtC,MAAMgF,WAAQoE,MAChB9G,EAAKoO,UAAWoB,EAAM/C,SAASqN,IAActK,EAAMvO,OAAS,MAAU6Y,GACvEhT,KAIN9G,EAAAma,kBAAoB,WAClBna,EAAKtC,MAAM0c,SAASpa,EAAKoO,WAG3BpO,EAAAqa,YAAc,iBACZra,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,aAAazQ,OAkE7C,OA5FuC+jB,GAAAD,EAAA1hB,GA6BrC0hB,EAAAlgB,UAAAoZ,QAAA,SAAQgH,GACE,IAAA/G,EAAA1a,KAAAxC,MAAAkd,MACR,OAAOA,EAAQA,EAAM+G,QAAQpkB,GAG/BkkB,EAAAlgB,UAAAqgB,YAAA,SAAYD,GACF,IAAAE,EAAA3hB,KAAAxC,MAAAmkB,qBACR,OAAOA,EAAqBF,GAAQvjB,OAAAwP,EAAA,EAAAxP,CAAayjB,EAAqBF,GAAM9I,KAAM,IAAM8I,GAG1FF,EAAAlgB,UAAA2f,WAAA,SAAWS,GACT,IAAMxjB,EAAO+B,KAAK0hB,YAAYD,GAC9B,OACEhZ,EAAA,0BACEA,EAAA,cAACwY,GAAA,GAAcljB,UAAU,sBAAsB8O,UAAU,QACxD5O,IAKPsjB,EAAAlgB,UAAAwZ,WAAA,eAAA/a,EAAAE,KACU0a,EAAA1a,KAAAxC,MAAAkd,MAER,IAAKA,EACH,OAAO,KAGT,IAAMpL,EAAQtD,IAAO9N,OAAO+N,KAAKyO,GAAQ,SAAAvS,GAAO,OAACuS,EAADvS,KAEhD,OACEM,EAAA,cAACqS,GAAA,EAAc,KACZxL,EAAMhJ,IAAI,SAAAmb,GAAQ,OACjBhZ,EAAA,cAACsS,GAAA,GACCC,OAAQlb,EAAKtC,MAAM8R,MAAM/C,SAASkV,GAClCtZ,IAAKsZ,EACLjhB,QAASV,EAAKtC,MAAMgD,QACpBvC,KAAM6B,EAAKkhB,WAAWS,GACtB/d,QAAS5D,EAAK6Z,gBACdsB,KAAM/c,OAAA8H,EAAA,EAAA9H,CAAgB4B,EAAK2a,QAAQgH,GAAO3hB,EAAKtC,MAAM0d,WACrDC,QAAqC,IAA5Brb,EAAKtC,MAAM8R,MAAMvO,SAAiBjB,EAAKtC,MAAM8R,MAAM/C,SAASkV,GACrExiB,MATewiB,QAgBzBF,EAAAlgB,UAAAK,OAAA,eAAA5B,EAAAE,KACQN,EAASM,KAAKxC,MAAM8R,MAAMhJ,IAAI,SAAAmb,GAAQ,OAAA3hB,EAAK4hB,YAALD,KAC5C,OACEhZ,EAAA,cAAC4S,GAAA,GAASnN,SAAUlO,KAAKkO,UACvBzF,EAAA,cAAC6S,GAAA,GACCrd,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,eAAgB8B,KAAKkO,UACrCqN,QAASvb,KAAKma,YACdzW,QAAS1D,KAAKia,kBACduB,KAAMxb,KAAKxC,MAAMge,KACjB9b,OAAQA,IAGTM,KAAKxC,MAAMge,MAAQxb,KAAK6a,eArFxB0G,EAAA9F,cACLD,MAAM,GAwFV+F,EA5FA,CAAuC9Y,EAAA,qWCTvCmZ,GAAA,SAAA/hB,GAAA,SAAAgiB,IAAA,IAAA/hB,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAW,aAAe,SAACC,GACdZ,EAAKtC,MAAMqD,SAASH,EAAOzB,UA4B/B,OA9BkC6iB,GAAAD,EAAAhiB,GAKhCgiB,EAAAxgB,UAAAK,OAAA,WACE,IAAMzE,EAAU8kB,KACd/hB,KAAKxC,MAAMwkB,UACXhiB,KAAKxC,MAAMwS,SACX,SAACiS,EAAU9Z,GAAQ,OAAA8Z,EAAS9Z,MAATA,IACnB7B,IAAI,SAAA2b,GAAY,OAAGhe,MAAOge,EAAShkB,KAAMgB,MAAOgjB,EAAhC9Z,OAElB,OAAuB,IAAnBlL,EAAQ8D,OACH,KAIP0H,EAAA,qBAAK1K,UAAU,iCACb0K,EAAA,cAACmB,EAAA,GACC7L,UAAU,oBACViE,WAAW,EACXK,cAAenE,OAAAsH,EAAA,EAAAtH,CAAU,qBACzBsE,SAAUxC,KAAKS,aACfxD,QAASA,EACT2F,YAAa1E,OAAAsH,EAAA,EAAAtH,CAAU,+BACvB4E,YAAY,MAKtB+e,EA9BA,CAAkCpZ,EAAA,eAoClCyZ,GAAehkB,OAAAikB,GAAA,QAAAjkB,CAJS,SAACE,GAAe,OACtC4jB,UAAW9jB,OAAOwB,OAAOxB,OAAAkkB,GAAA,aAAAlkB,CAAaE,MAGxC,CAAwCwjB,qTC5BxC,SAAA/hB,GAAA,SAAAwiB,IAAA,IAAAviB,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAoO,SAAW,YAMXpO,EAAA6Z,gBAAkB,SAACC,EAAmBC,GAC5B,QAAAmI,EAAAliB,EAAAtC,MAAAwkB,UACR,GAAInI,EAAU,CACZ,IAAMC,EAAW9N,IACfgW,EAAUzV,SAASqN,GAAaG,IAAQiI,EAAWpI,GAAiBoI,EAAShI,QAAEJ,KAEjF9Z,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW4L,EAAQrc,SAE/CqC,EAAKtC,MAAMgF,WAAQoE,MAChB9G,EAAKoO,UAAW8T,EAAUzV,SAASqN,IAAcoI,EAAUjhB,OAAS,MAAU6Y,GAC/EhT,KAIN9G,EAAAma,kBAAoB,WAClBna,EAAKtC,MAAM0c,SAASpa,EAAKoO,WAG3BpO,EAAAqa,YAAc,iBACZra,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,aAAazQ,KAa3CqC,EAAAsa,aAAe,SAAC6H,GACN,MAAAD,EAAAliB,EAAAtC,MAAAwkB,UACRliB,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW2J,KAASmK,EAAShI,QAAEiI,KAAUxkB,OAyDzE,OAlG2C6kB,GAAAD,EAAAxiB,GA6BzCwiB,EAAAhhB,UAAAkhB,gBAAA,SAAgBN,GACN,IAAAO,EAAAxiB,KAAAxC,MAAAglB,oBACR,OAAOA,EAAoBP,GAAYO,EAAoBP,GAAUhkB,KAAOgkB,GAG9EI,EAAAhhB,UAAAoZ,QAAA,SAAQwH,GACE,IAAAvH,EAAA1a,KAAAxC,MAAAkd,MACR,OAAOA,EAAQA,EAAMuH,QAAY5kB,GAQnCglB,EAAAhhB,UAAAwZ,WAAA,eAAA/a,EAAAE,KACU0a,EAAA1a,KAAAxC,MAAAkd,MAER,IAAKA,EACH,OAAO,KAGT,IAAMsH,EAAYhW,IAAO9N,OAAO+N,KAAKyO,GAAQ,SAAAvS,GAAO,OAACuS,EAADvS,KAEpD,OACEM,EAAA,cAACqS,GAAA,EAAc,KACZkH,EAAU1b,IAAI,SAAA2b,GAAY,OACzBxZ,EAAA,cAACsS,GAAA,GACCC,OAAQlb,EAAKtC,MAAMwkB,UAAUzV,SAAS0V,GACtC9Z,IAAK8Z,EACLzhB,QAASV,EAAKtC,MAAMgD,QACpBvC,KAAM6B,EAAKyiB,gBAAgBN,GAC3Bve,QAAS5D,EAAK6Z,gBACdsB,KAAM/c,OAAA8H,EAAA,EAAA9H,CAAgB4B,EAAK2a,QAAQwH,GAAWniB,EAAKtC,MAAM0d,WACzDC,QAAyC,IAAhCrb,EAAKtC,MAAMwkB,UAAUjhB,SAAiBjB,EAAKtC,MAAMwkB,UAAUzV,SAAS0V,GAC7EhjB,MATuBgjB,QAgBjCI,EAAAhhB,UAAA+Z,aAAA,WACE,OAAKpb,KAAKxC,MAAMkd,MAKdjS,EAAA,cAACyZ,IAAoBrhB,SAAUb,KAAKoa,aAAcpK,SAAU9R,OAAO+N,KAAKjM,KAAKxC,MAAMkd,SAJ5E,MAQX2H,EAAAhhB,UAAAK,OAAA,eAAA5B,EAAAE,KACQN,EAASM,KAAKxC,MAAMwkB,UAAU1b,IAAI,SAAA2b,GAAY,OAAAniB,EAAKyiB,gBAALN,KACpD,OACExZ,EAAA,cAAC4S,GAAA,GAASnN,SAAUlO,KAAKkO,UACvBzF,EAAA,cAAC6S,GAAA,GACCrd,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,eAAgB8B,KAAKkO,UACrCqN,QAASvb,KAAKma,YACdzW,QAAS1D,KAAKia,kBACduB,KAAMxb,KAAKxC,MAAMge,KACjB9b,OAAQA,IAGTM,KAAKxC,MAAMge,MAAQxb,KAAK6a,aACxB7a,KAAKxC,MAAMge,MAAQxb,KAAKob,iBA3FxBiH,EAAA5G,cACLD,MAAM,GA8FV6G,EAlGA,CAA2C5Z,EAAA,gUCA3C,SAAA5I,GAAA,SAAA4iB,IAAA,IAAA3iB,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAoO,SAAW,UAMXpO,EAAA6Z,gBAAkB,SAACC,EAAmBC,GAC5B,QAAAxK,EAAAvP,EAAAtC,MAAA6R,QACR,GAAIwK,EAAU,CACZ,IAAMC,EAAW9N,IACfqD,EAAQ9C,SAASqN,GAAaG,IAAQ1K,EAASuK,GAAiBvK,EAAO2K,QAAEJ,KAE3E9Z,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW4L,EAAQrc,SAE/CqC,EAAKtC,MAAMgF,WAAQoE,MAChB9G,EAAKoO,UAAWmB,EAAQ9C,SAASqN,IAAcvK,EAAQtO,OAAS,MAAU6Y,GAC3EhT,KAIN9G,EAAAma,kBAAoB,WAClBna,EAAKtC,MAAM0c,SAASpa,EAAKoO,WAG3BpO,EAAAqa,YAAc,iBACZra,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,aAAazQ,OAiE7C,OA3FyCilB,GAAAD,EAAA5iB,GA6BvC4iB,EAAAphB,UAAAoZ,QAAA,SAAQ9d,GACE,IAAA+d,EAAA1a,KAAAxC,MAAAkd,MACR,OAAOA,EAAQA,EAAM/d,QAAUU,GAGjColB,EAAAphB,UAAAshB,cAAA,SAAchmB,GACJ,IAAAglB,EAAA3hB,KAAAxC,MAAAmkB,qBACR,OAAOA,EAAqBhlB,GAAUglB,EAAqBhlB,GAAQsB,KAAOtB,GAG5E8lB,EAAAphB,UAAA2f,WAAA,SAAWrkB,GACT,OACE8L,EAAA,0BACEA,EAAA,cAACwY,GAAA,GAAcljB,UAAU,sBAAsB8O,UAAU,QACxD7M,KAAK2iB,cAAchmB,KAK1B8lB,EAAAphB,UAAAwZ,WAAA,eAAA/a,EAAAE,KACU0a,EAAA1a,KAAAxC,MAAAkd,MAER,IAAKA,EACH,OAAO,KAGT,IAAMrL,EAAUrD,IAAO9N,OAAO+N,KAAKyO,GAAQ,SAAAvS,GAAO,OAACuS,EAADvS,KAElD,OACEM,EAAA,cAACqS,GAAA,EAAc,KACZzL,EAAQ/I,IAAI,SAAA3J,GAAU,OACrB8L,EAAA,cAACsS,GAAA,GACCC,OAAQlb,EAAKtC,MAAM6R,QAAQ9C,SAAS5P,GACpCwL,IAAKxL,EACL6D,QAASV,EAAKtC,MAAMgD,QACpBvC,KAAM6B,EAAKkhB,WAAWrkB,GACtB+G,QAAS5D,EAAK6Z,gBACdsB,KAAM/c,OAAA8H,EAAA,EAAA9H,CAAgB4B,EAAK2a,QAAQ9d,GAASmD,EAAKtC,MAAM0d,WACvDC,QAAuC,IAA9Brb,EAAKtC,MAAM6R,QAAQtO,SAAiBjB,EAAKtC,MAAM6R,QAAQ9C,SAAS5P,GACzEsC,MATmBtC,QAgB7B8lB,EAAAphB,UAAAK,OAAA,eAAA5B,EAAAE,KACQN,EAASM,KAAKxC,MAAM6R,QAAQ/I,IAAI,SAAA3J,GAAU,OAAAmD,EAAK6iB,cAALhmB,KAChD,OACE8L,EAAA,cAAC4S,GAAA,GAASnN,SAAUlO,KAAKkO,UACvBzF,EAAA,cAAC6S,GAAA,GACCrd,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,eAAgB8B,KAAKkO,UACrCqN,QAASvb,KAAKma,YACdzW,QAAS1D,KAAKia,kBACduB,KAAMxb,KAAKxC,MAAMge,KACjB9b,OAAQA,IAGTM,KAAKxC,MAAMge,MAAQxb,KAAK6a,eApFxB4H,EAAAhH,cACLD,MAAM,GAuFViH,EA3FA,CAAyCha,EAAA,yUCMzC,SAAA5I,GAAA,SAAA+iB,IAAA,IAAA9iB,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAoO,SAAW,WAMXpO,EAAA6Z,gBAAkB,SAACC,EAAmBC,GAC5B,QAAA3K,EAAApP,EAAAtC,MAAA0R,SACR,GAAI2K,EAAU,CACZ,IAAMC,EAAW9N,IACfkD,EAAS3C,SAASqN,GAAaG,IAAQ7K,EAAU0K,GAAiB1K,EAAQ8K,QAAEJ,KAE9E9Z,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW4L,EAAQrc,SAE/CqC,EAAKtC,MAAMgF,WAAQoE,MAChB9G,EAAKoO,UAAWgB,EAAS3C,SAASqN,IAAc1K,EAASnO,OAAS,MAAU6Y,GAC7EhT,KAIN9G,EAAAma,kBAAoB,WAClBna,EAAKtC,MAAM0c,SAASpa,EAAKoO,WAG3BpO,EAAAqa,YAAc,iBACZra,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,aAAazQ,KAG3CqC,EAAAI,aAAe,SAACC,GACR,IAAA1C,EAAAqC,EAAAtC,MAAEoO,EAAAnO,EAAAmO,UAAWjO,EAAAF,EAAAE,aACnB,OAAIiO,IAAc,KAAM,MAAO,OAAOW,SAASX,EAAUiB,WAChD3O,OAAA2kB,GAAA,EAAA3kB,CAAQ0N,EAAUzD,KAAOrD,GAAI,GAAIsB,EAAGjG,EAAO2iB,WAAY,QAASxiB,KAAK,SAAAyiB,GAC1E,OAAAA,EAASF,WAAWvc,IAAI,SAACsF,GAAmB,OAC1C3H,MAAO2H,EAAU3N,KACjBN,aAAciO,EAAUjO,aACxBsB,MAAO2M,EAAUoX,WAKhB9kB,OAAA2kB,GAAA,EAAA3kB,EACL4G,GAAI,GACJK,OAAQhF,EAAQ,YAAYA,EAAK,IAAM,GACvCxC,aAAcA,GAAgBA,EAAawK,MAC1C7H,KAAK,SAAAyiB,GACN,OAAAA,EAASF,WAAWvc,IAAI,SAAAsF,GAAa,OACnC3H,MAAO2H,EAAU3N,KACjBN,aAAciO,EAAUjO,aACxBsB,MAAO2M,EAAUnI,SAKvB3D,EAAAsa,aAAe,SAAC1Z,GACN,MAAAwO,EAAApP,EAAAtC,MAAA0R,SACRpP,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW2J,KAAS3I,EAAQ8K,QAAEtZ,EAAOzB,SAAOxB,KA+B1EqC,EAAA6C,aAAe,SAACjC,GACd,OACE+H,EAAA,0BACEA,EAAA,cAAClL,EAAA,GAAaG,MAAM,EAAOa,gBAAiBmC,EAAO/C,eAClD+C,EAAOuD,UAgEhB,OA3J0Cgf,GAAAL,EAAA/iB,GA2DxC+iB,EAAAvhB,UAAAoZ,QAAA,SAAQhN,GACE,IAAAiN,EAAA1a,KAAAxC,MAAAkd,MACR,OAAOA,EAAQA,EAAMjN,QAAWpQ,GAGlCulB,EAAAvhB,UAAA6hB,eAAA,SAAezV,GACL,IAAAkU,EAAA3hB,KAAAxC,MAAAmkB,qBACR,OAAOA,EAAqBlU,GAAWkU,EAAqBlU,GAASxP,KAAOwP,GAG9EmV,EAAAvhB,UAAA2f,WAAA,SAAWvT,GACH,IAAAhQ,EAAAuC,KAAAxC,MAAEG,EAAAF,EAAAE,aAAcgkB,EAAAlkB,EAAAkkB,qBACtB,OAAOA,EAAqBlU,GAC1BhF,EAAA,0BACEA,EAAA,cAACwY,GAAA,GAAcljB,UAAU,sBAAsB8O,UAAU,SACvDlP,GACA8K,EAAA,cAAClL,EAAA,GAAaG,MAAM,EAAOa,gBAAiBojB,EAAqBlU,GAAS9P,eAE3EgkB,EAAqBlU,GAASxP,MAGjCwK,EAAA,0BACEA,EAAA,cAACwY,GAAA,GAAcljB,UAAU,sBAAsB8O,UAAU,QACxDY,IAcPmV,EAAAvhB,UAAAwZ,WAAA,eAAA/a,EAAAE,KACU0a,EAAA1a,KAAAxC,MAAAkd,MAER,IAAKA,EACH,OAAO,KAGT,IAAMxL,EAAWlD,IAAO9N,OAAO+N,KAAKyO,GAAQ,SAAAvS,GAAO,OAACuS,EAADvS,KAEnD,OACEM,EAAA,cAACqS,GAAA,EAAc,KACZ5L,EAAS5I,IAAI,SAAAmH,GAAW,OACvBhF,EAAA,cAACsS,GAAA,GACCC,OAAQlb,EAAKtC,MAAM0R,SAAS3C,SAASkB,GACrCtF,IAAKsF,EACLjN,QAASV,EAAKtC,MAAMgD,QACpBvC,KAAM6B,EAAKkhB,WAAWvT,GACtB/J,QAAS5D,EAAK6Z,gBACdsB,KAAM/c,OAAA8H,EAAA,EAAA9H,CAAgB4B,EAAK2a,QAAQhN,GAAU3N,EAAKtC,MAAM0d,WACxDC,QAAwC,IAA/Brb,EAAKtC,MAAM0R,SAASnO,SAAiBjB,EAAKtC,MAAM0R,SAAS3C,SAASkB,GAC3ExO,MATqBwO,QAgB/BmV,EAAAvhB,UAAA+Z,aAAA,WACE,OAAKpb,KAAKxC,MAAMkd,MAKdjS,EAAA,cAACjK,GAAA,GACCwC,mBAAoB,EACpBX,SAAUL,KAAKE,aACfW,SAAUb,KAAKoa,aACfzX,aAAc3C,KAAK2C,eARd,MAaXigB,EAAAvhB,UAAAK,OAAA,eAAA5B,EAAAE,KACQN,EAASM,KAAKxC,MAAM0R,SAAS5I,IAAI,SAAAmH,GAAW,OAAA3N,EAAKojB,eAALzV,KAClD,OACEhF,EAAA,cAAC4S,GAAA,GAASnN,SAAUlO,KAAKkO,UACvBzF,EAAA,cAAC6S,GAAA,GACCrd,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,eAAgB8B,KAAKkO,UACrCqN,QAASvb,KAAKma,YACdzW,QAAS1D,KAAKia,kBACduB,KAAMxb,KAAKxC,MAAMge,KACjB9b,OAAQA,IAGTM,KAAKxC,MAAMge,MAAQxb,KAAK6a,aACxB7a,KAAKxC,MAAMge,MAAQxb,KAAKob,iBApJxBwH,EAAAnH,cACLD,MAAM,GAuJVoH,EA3JA,CAA0Cna,EAAA,qVCP1C,SAAA5I,GAAA,SAAAsjB,IAAA,IAAArjB,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAoO,SAAW,cAMXpO,EAAA6Z,gBAAkB,SAACC,EAAmBC,GAC5B,QAAAhL,EAAA/O,EAAAtC,MAAAqR,YACR,GAAkB,KAAd+K,EAEF9Z,EAAKtC,MAAMgF,UAAWoM,UAAW9O,EAAKtC,MAAMoR,SAAUC,sBACjD,GAAIgL,EAAU,CACnB,IAAMC,EAAWsJ,KACfvU,EAAYtC,SAASqN,GACjBG,IAAQlL,EAAa+K,GACjB/K,EAAWmL,QAAEJ,KAEvB9Z,EAAKtC,MAAMgF,WAAQ/E,GAAGmR,UAAU,IAAO9O,EAAKoO,UAAW4L,EAAQrc,SAE/DqC,EAAKtC,MAAMgF,WAAQoE,GACjBgI,UAAU,IACT9O,EAAKoO,UACJW,EAAYtC,SAASqN,IAAc/K,EAAY9N,OAAS,MAAU6Y,GACpEhT,KAIN9G,EAAAma,kBAAoB,WAClBna,EAAKtC,MAAM0c,SAASpa,EAAKoO,WAG3BpO,EAAAqa,YAAc,WACZra,EAAKtC,MAAMgF,UAAWoM,UAAU,EAAOC,kBAgBzC/O,EAAAujB,WAAa,SAAC1U,GACZ,IAAMqM,EAASlb,EAAKwjB,kBAAkB3U,GAChCsM,EAAOnb,EAAK2a,QAAQ9L,GAE1B,OACElG,EAAA,cAACsS,GAAA,GACCC,OAAQA,EACRrP,SAAmB,IAATsP,IAAeD,EACzBsG,WAAW,EACXnZ,IAAKwG,EACLnO,QAASV,EAAKtC,MAAMgD,QACpBvC,KAAM6B,EAAKyjB,iBAAiB5U,GAC5BjL,QAAS5D,EAAK6Z,gBACdsB,KAAM/c,OAAA8H,EAAA,EAAA9H,CAAgB+c,EAAMnb,EAAKtC,MAAM0d,WACvCC,QACoC,IAAlCrb,EAAKtC,MAAMqR,YAAY9N,QACR,KAAf4N,IACC7O,EAAKtC,MAAMqR,YAAYtC,SAASoC,GAEnC1P,MAAO0P,OAuBf,OA3F6C6U,GAAAL,EAAAtjB,GAoC3CsjB,EAAA9hB,UAAAiiB,kBAAA,SAAkB3U,GAChB,MAAsB,KAAfA,GAAqB3O,KAAKxC,MAAMoR,SAAW5O,KAAKxC,MAAMqR,YAAYtC,SAASoC,IAGpFwU,EAAA9hB,UAAAkiB,iBAAA,SAAiB5U,GACf,MAAsB,KAAfA,EAAoBzQ,OAAAsH,EAAA,EAAAtH,CAAU,cAAgBA,OAAAsH,EAAA,EAAAtH,CAAU,mBAAoByQ,IAGrFwU,EAAA9hB,UAAAoZ,QAAA,SAAQ9L,GACE,IAAA+L,EAAA1a,KAAAxC,MAAAkd,MACR,OAAOA,EAAQA,EAAM/L,QAActR,GA2BrC8lB,EAAA9hB,UAAAK,OAAA,eAAA5B,EAAAE,KAEQN,EAASM,KAAKxC,MAAMqR,YAAYvI,IAAI,SAAAqI,GAAc,OAAA7O,EAAKyjB,iBAAL5U,KAExD,OACElG,EAAA,cAAC4S,GAAA,GAASnN,SAAUlO,KAAKkO,UACvBzF,EAAA,cAAC6S,GAAA,GACCrd,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,eAAgB8B,KAAKkO,UACrCqN,QAASvb,KAAKma,YACdzW,QAAS1D,KAAKia,kBACduB,KAAMxb,KAAKxC,MAAMge,KACjB9b,OAAQA,IAGTM,KAAKxC,MAAMge,MAAQ/S,EAAA,cAACqS,GAAA,EAAc,MAblB,GAAI,QAAS,iBAAkB,UAAW,WAaVxU,IAAItG,KAAKqjB,eApFzDF,EAAA1H,cACLD,MAAM,GAuFV2H,EA3FA,CAA6C1a,EAAA,0UCI7C,SAAA5I,GAAA,SAAA4jB,IAAA,IAAA3jB,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAoO,SAAW,QAMXpO,EAAA6Z,gBAAkB,SAACC,EAAmBC,GAC5B,QAAA7K,EAAAlP,EAAAtC,MAAAwR,MACR,GAAI6K,EAAU,CACZ,IAAMC,EAAW9N,IACfgD,EAAMzC,SAASqN,GAAaG,IAAQ/K,EAAO4K,GAAiB5K,EAAKgL,QAAEJ,KAErE9Z,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW4L,EAAQrc,SAE/CqC,EAAKtC,MAAMgF,WAAQoE,MAChB9G,EAAKoO,UAAWc,EAAMzC,SAASqN,IAAc5K,EAAMjO,OAAS,MAAU6Y,GACvEhT,KAIN9G,EAAAma,kBAAoB,WAClBna,EAAKtC,MAAM0c,SAASpa,EAAKoO,WAG3BpO,EAAAqa,YAAc,iBACZra,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,aAAazQ,KAG3CqC,EAAAI,aAAe,SAACC,GACR,IAAA1C,EAAAqC,EAAAtC,MAAEwkB,EAAAvkB,EAAAukB,UAAWrkB,EAAAF,EAAAE,aACnB,OAAOO,OAAAwlB,GAAA,EAAAxlB,EACLylB,EAAG,gBACH3B,UAAWA,EAAUjhB,OAASihB,EAAU3a,YAAShK,EACjDM,aAAYA,EACZyI,EAAGjG,EACHyjB,kBAAkB,IACjBtjB,KAAK,SAAAyiB,GACN,OAAAA,EAAS/T,MAAM1I,IAAI,SAAA2I,GAAQ,OAAGhL,MAAO,IAAIgL,EAAK4U,SAAQ,KAAK5U,EAAKhR,KAAQgB,MAAOgQ,EAApD9G,UAI/BrI,EAAAsa,aAAe,SAAC1Z,GACN,MAAAsO,EAAAlP,EAAAtC,MAAAwR,MACRlP,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW2J,KAAS7I,EAAKgL,QAAEtZ,EAAOzB,SAAOxB,OAiEzE,OA7GuCqmB,GAAAL,EAAA5jB,GA+CrC4jB,EAAApiB,UAAA0iB,YAAA,SAAY9U,GACF,IAAA+U,EAAAhkB,KAAAxC,MAAAwmB,gBACR,OAAOA,EAAgB/U,GAAQ+U,EAAgB/U,GAAMhR,KAAOgR,GAG9DwU,EAAApiB,UAAAoZ,QAAA,SAAQxL,GACE,IAAAyL,EAAA1a,KAAAxC,MAAAkd,MACR,OAAOA,EAAQA,EAAMzL,QAAQ5R,GAG/BomB,EAAApiB,UAAAwZ,WAAA,eAAA/a,EAAAE,KACU0a,EAAA1a,KAAAxC,MAAAkd,MAER,IAAKA,EACH,OAAO,KAGT,IAAM1L,EAAQhD,IAAO9N,OAAO+N,KAAKyO,GAAQ,SAAAvS,GAAO,OAACuS,EAADvS,IAAa,SAAAA,GAAO,OAAArI,EAAKikB,YAAL5b,KAEpE,OACEM,EAAA,cAACqS,GAAA,EAAc,KACZ9L,EAAM1I,IAAI,SAAA2I,GAAQ,OACjBxG,EAAA,cAACsS,GAAA,GACCC,OAAQlb,EAAKtC,MAAMwR,MAAMzC,SAAS0C,GAClC9G,IAAK8G,EACLzO,QAASV,EAAKtC,MAAMgD,QACpBvC,KAAM6B,EAAKikB,YAAY9U,GACvBvL,QAAS5D,EAAK6Z,gBACdsB,KAAM/c,OAAA8H,EAAA,EAAA9H,CAAgB4B,EAAK2a,QAAQxL,GAAOnP,EAAKtC,MAAM0d,WACrDC,QAAqC,IAA5Brb,EAAKtC,MAAMwR,MAAMjO,SAAiBjB,EAAKtC,MAAMwR,MAAMzC,SAAS0C,GACrEhQ,MATegQ,QAgBzBwU,EAAApiB,UAAA+Z,aAAA,WACE,OAAKpb,KAAKxC,MAAMkd,MAITjS,EAAA,cAACjK,GAAA,GAAY6B,SAAUL,KAAKE,aAAcW,SAAUb,KAAKoa,eAHvD,MAMXqJ,EAAApiB,UAAAK,OAAA,eAAA5B,EAAAE,KACQN,EAASM,KAAKxC,MAAMwR,MAAM1I,IAAI,SAAA2I,GAAQ,OAAAnP,EAAKikB,YAAL9U,KAC5C,OACExG,EAAA,cAAC4S,GAAA,GAASnN,SAAUlO,KAAKkO,UACvBzF,EAAA,cAAC6S,GAAA,GACCrd,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,eAAgB8B,KAAKkO,UACrCqN,QAASvb,KAAKma,YACdzW,QAAS1D,KAAKia,kBACduB,KAAMxb,KAAKxC,MAAMge,KACjB9b,OAAQA,IAGTM,KAAKxC,MAAMge,MAAQxb,KAAK6a,aACxB7a,KAAKxC,MAAMge,MAAQxb,KAAKob,iBAtGxBqI,EAAAhI,cACLD,MAAM,GAyGViI,EA7GA,CAAuChb,EAAA,gUCJvC,SAAA5I,GAAA,SAAAokB,IAAA,IAAAnkB,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAoO,SAAW,aAMXpO,EAAA6Z,gBAAkB,SAACC,EAAmBC,GAC5B,QAAArL,EAAA1O,EAAAtC,MAAAgR,WACR,GAAIqL,EAAU,CACZ,IAAMC,EAAWsJ,KACf5U,EAAWjC,SAASqN,GAAaG,IAAQvL,EAAYoL,GAAiBpL,EAAUwL,QAAEJ,KAEpF9Z,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW4L,EAAQrc,SAE/CqC,EAAKtC,MAAMgF,WAAQoE,MAChB9G,EAAKoO,UAAWM,EAAWjC,SAASqN,IAAcpL,EAAWzN,OAAS,MAAU6Y,GACjFhT,KAIN9G,EAAAma,kBAAoB,WAClBna,EAAKtC,MAAM0c,SAASpa,EAAKoO,WAG3BpO,EAAAqa,YAAc,iBACZra,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,aAAazQ,KAQ3CqC,EAAAujB,WAAa,SAACtb,GACZ,IAAMiT,EAASlb,EAAKtC,MAAMgR,WAAWjC,SAASxE,GACxCkT,EAAOnb,EAAK2a,QAAQ1S,GAE1B,OACEU,EAAA,cAACsS,GAAA,GACCC,OAAQA,EACRrP,SAAmB,IAATsP,IAAeD,EACzBsG,WAAW,EACXnZ,IAAKJ,EACLvH,QAASV,EAAKtC,MAAMgD,QACpBvC,KAAMwK,EAAA,cAACqB,EAAA,GAAe/B,SAAUA,IAChCrE,QAAS5D,EAAK6Z,gBACdsB,KAAM/c,OAAA8H,EAAA,EAAA9H,CAAgB+c,EAAMnb,EAAKtC,MAAM0d,WACvCC,QAA0C,IAAjCrb,EAAKtC,MAAMgR,WAAWzN,SAAiBjB,EAAKtC,MAAMgR,WAAWjC,SAASxE,GAC/E9I,MAAO8I,OAuBf,OAxE2Cmc,GAAAD,EAAApkB,GA6BzCokB,EAAA5iB,UAAAoZ,QAAA,SAAQ1S,GACE,IAAA2S,EAAA1a,KAAAxC,MAAAkd,MACR,OAAOA,EAAQA,EAAM3S,QAAY1K,GAuBnC4mB,EAAA5iB,UAAAK,OAAA,WACE,IACMhC,EAASM,KAAKxC,MAAMgR,WAAWlI,IAAI,SAAAyB,GAAY,OAAA7J,OAAAsH,EAAA,EAAAtH,CAAU,WAAV6J,KAErD,OACEU,EAAA,cAAC4S,GAAA,GAASnN,SAAUlO,KAAKkO,UACvBzF,EAAA,cAAC6S,GAAA,GACCrd,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,eAAgB8B,KAAKkO,UACrCqN,QAASvb,KAAKma,YACdzW,QAAS1D,KAAKia,kBACduB,KAAMxb,KAAKxC,MAAMge,KACjB9b,OAAQA,IAGTM,KAAKxC,MAAMge,MAAQ/S,EAAA,cAACqS,GAAA,EAAc,MAbnB,UAAW,QAAS,WAAY,OAAQ,SAaRxU,IAAItG,KAAKqjB,eAjExDY,EAAAxI,cACLD,MAAM,GAoEVyI,EAxEA,CAA2Cxb,EAAA,2UCA3C,SAAA5I,GAAA,SAAAskB,IAAA,IAAArkB,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAoO,SAAW,WAMXpO,EAAA6Z,gBAAkB,SAACC,EAAmBC,GAC5B,QAAApL,EAAA3O,EAAAtC,MAAAiR,SACR,GAAIoL,EAAU,CACZ,IAAMC,EAAWsJ,KACf3U,EAASlC,SAASqN,GAAaG,IAAQtL,EAAUmL,GAAiBnL,EAAQuL,QAAEJ,KAE9E9Z,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW4L,EAAQrc,SAE/CqC,EAAKtC,MAAMgF,WAAQoE,MAChB9G,EAAKoO,UAAWO,EAASlC,SAASqN,IAAcnL,EAAS1N,OAAS,MAAU6Y,GAC7EhT,KAIN9G,EAAAma,kBAAoB,WAClBna,EAAKtC,MAAM0c,SAASpa,EAAKoO,WAG3BpO,EAAAqa,YAAc,iBACZra,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,aAAazQ,KAQ3CqC,EAAAujB,WAAa,SAAC3U,GACZ,IAAMsM,EAASlb,EAAKtC,MAAMiR,SAASlC,SAASmC,GACtCuM,EAAOnb,EAAK2a,QAAQ/L,GAE1B,OACEjG,EAAA,cAACsS,GAAA,GACCC,OAAQA,EACRrP,SAAmB,IAATsP,IAAeD,EACzBsG,WAAW,EACXnZ,IAAKuG,EACLlO,QAASV,EAAKtC,MAAMgD,QACpBvC,KAAMwK,EAAA,cAAC2b,GAAA,GAAazV,gBAAYtR,EAAWqR,OAAQA,IACnDhL,QAAS5D,EAAK6Z,gBACdsB,KAAM/c,OAAA8H,EAAA,EAAA9H,CAAgB+c,EAAMnb,EAAKtC,MAAM0d,WACvCC,QAAwC,IAA/Brb,EAAKtC,MAAMiR,SAAS1N,SAAiBjB,EAAKtC,MAAMiR,SAASlC,SAASmC,GAC3EzP,MAAOyP,OAuBf,OAxEyC2V,GAAAF,EAAAtkB,GA6BvCskB,EAAA9iB,UAAAoZ,QAAA,SAAQ/L,GACE,IAAAgM,EAAA1a,KAAAxC,MAAAkd,MACR,OAAOA,EAAQA,EAAMhM,QAAUrR,GAuBjC8mB,EAAA9iB,UAAAK,OAAA,WACE,IACMhC,EAASM,KAAKxC,MAAMiR,SAASnI,IAAI,SAAAoI,GAAU,OAAAxQ,OAAAsH,EAAA,EAAAtH,CAAU,eAAVwQ,KAEjD,OACEjG,EAAA,cAAC4S,GAAA,GAASnN,SAAUlO,KAAKkO,UACvBzF,EAAA,cAAC6S,GAAA,GACCrd,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,eAAgB8B,KAAKkO,UACrCqN,QAASvb,KAAKma,YACdzW,QAAS1D,KAAKia,kBACduB,KAAMxb,KAAKxC,MAAMge,KACjB9b,OAAQA,IAGTM,KAAKxC,MAAMge,MAAQ/S,EAAA,cAACqS,GAAA,EAAc,MAbrB,OAAQ,WAAY,WAAY,SAAU,aAaVxU,IAAItG,KAAKqjB,eAjEtDc,EAAA1I,cACLD,MAAM,GAoEV2I,EAxEA,CAAyC1b,EAAA,kVCMzC,SAAA5I,GAAA,SAAAykB,IAAA,IAAAxkB,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAoO,SAAW,OAMXpO,EAAA6Z,gBAAkB,SAACC,EAAmBC,GAC5B,QAAAxT,EAAAvG,EAAAtC,MAAA6I,KACR,GAAIwT,EAAU,CACJ,IAAA0K,EAAAzkB,EAAAtC,MAAA6I,KACFyT,EAAW9N,IACfuY,EAAKhY,SAASqN,GAAaG,IAAQwK,EAAM3K,GAAiB2K,EAAIvK,QAAEJ,KAElE9Z,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW4L,EAAQrc,SAE/CqC,EAAKtC,MAAMgF,WAAQoE,MAChB9G,EAAKoO,UAAW7H,EAAKkG,SAASqN,IAAcvT,EAAKtF,OAAS,MAAU6Y,GACrEhT,KAIN9G,EAAAma,kBAAoB,WAClBna,EAAKtC,MAAM0c,SAASpa,EAAKoO,WAG3BpO,EAAAqa,YAAc,iBACZra,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,aAAazQ,KAG3CqC,EAAAI,aAAe,SAACC,GACd,IAAIxC,EAAemC,EAAKtC,MAAMoO,WAAa9L,EAAKtC,MAAMoO,UAAUjO,aAIhE,OAHImC,EAAKtC,MAAMG,eAAiBA,IAC9BA,EAAemC,EAAKtC,MAAMG,aAAawK,KAElCjK,OAAAiI,EAAA,EAAAjI,EAAkBP,aAAYA,EAAEmH,GAAI,GAAIsB,EAAGjG,IAASG,KAAK,SAAA+F,GAC9D,OAAAA,EAAKC,IAAI,SAAAC,GAAO,OAAGtC,MAAOsC,EAAKtH,MAAfsH,QAIpBzG,EAAAsa,aAAe,SAAC1Z,GACN,MAAA2F,EAAAvG,EAAAtC,MAAA6I,KACRvG,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW2J,KAASxR,EAAI2T,QAAEtZ,EAAOzB,SAAOxB,OAqExE,OA/GsC+mB,GAAAF,EAAAzkB,GA6CpCykB,EAAAjjB,UAAAoZ,QAAA,SAAQlU,GACE,IAAAmU,EAAA1a,KAAAxC,MAAAkd,MACR,OAAOA,EAAQA,EAAMnU,QAAOlJ,GAG9BinB,EAAAjjB,UAAAojB,UAAA,SAAUle,GACR,OACEkC,EAAA,0BACEA,EAAA,cAACic,GAAA,GAAS3mB,UAAU,sBAAsB4mB,KAAMC,GAAA,SAC/Cre,IAKP+d,EAAAjjB,UAAAwZ,WAAA,eAAA/a,EAAAE,KACU0a,EAAA1a,KAAAxC,MAAAkd,MAER,IAAKA,EACH,OAAO,KAGT,IAAMrU,EAAO2F,IAAO9N,OAAO+N,KAAKyO,GAAQ,SAAAvS,GAAO,OAACuS,EAADvS,KAE/C,OACEM,EAAA,cAACqS,GAAA,EAAc,KACZzU,EAAKC,IAAI,SAAAC,GAAO,OACfkC,EAAA,cAACsS,GAAA,GACCC,OAAQlb,EAAKtC,MAAM6I,KAAKkG,SAAShG,GACjC4B,IAAK5B,EACL/F,QAASV,EAAKtC,MAAMgD,QACpBvC,KAAM6B,EAAK2kB,UAAUle,GACrB7C,QAAS5D,EAAK6Z,gBACdsB,KAAM/c,OAAA8H,EAAA,EAAA9H,CAAgB4B,EAAK2a,QAAQlU,GAAMzG,EAAKtC,MAAM0d,WACpDC,QAAoC,IAA3Brb,EAAKtC,MAAM6I,KAAKtF,SAAiBjB,EAAKtC,MAAM6I,KAAKkG,SAAShG,GACnEtH,MATasH,QAgBvB+d,EAAAjjB,UAAA+Z,aAAA,WACE,OAAKpb,KAAKxC,MAAMkd,MAITjS,EAAA,cAACjK,GAAA,GAAY6B,SAAUL,KAAKE,aAAcW,SAAUb,KAAKoa,eAHvD,MAMXkK,EAAAjjB,UAAAK,OAAA,WACE,OACE+G,EAAA,cAAC4S,GAAA,GAASnN,SAAUlO,KAAKkO,UACvBzF,EAAA,cAAC6S,GAAA,GACCrd,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,eAAgB8B,KAAKkO,UACrCqN,QAASvb,KAAKma,YACdzW,QAAS1D,KAAKia,kBACduB,KAAMxb,KAAKxC,MAAMge,KACjB9b,OAAQM,KAAKxC,MAAM6I,OAGpBrG,KAAKxC,MAAMge,MAAQxb,KAAK6a,aAExB7a,KAAKxC,MAAMge,MAAQxb,KAAKob,iBAxGxBkJ,EAAA7I,cACLD,MAAM,GA2GV8I,EA/GA,CAAsC7b,EAAA,gUCNtC,SAAA5I,GAAA,SAAAglB,IAAA,IAAA/kB,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAoO,SAAW,QAMXpO,EAAA6Z,gBAAkB,SAACC,EAAmBC,GAC5B,QAAAtL,EAAAzO,EAAAtC,MAAA+Q,MACR,GAAIsL,EAAU,CACZ,IAAMC,EAAWsJ,KACf7U,EAAMhC,SAASqN,GAAaG,IAAQxL,EAAOqL,GAAiBrL,EAAKyL,QAAEJ,KAErE9Z,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,UAAW4L,EAAQrc,SAE/CqC,EAAKtC,MAAMgF,WAAQoE,MAChB9G,EAAKoO,UAAWK,EAAMhC,SAASqN,IAAcrL,EAAMxN,OAAS,MAAU6Y,GACvEhT,KAIN9G,EAAAma,kBAAoB,WAClBna,EAAKtC,MAAM0c,SAASpa,EAAKoO,WAG3BpO,EAAAqa,YAAc,iBACZra,EAAKtC,MAAMgF,WAAQ/E,MAAIqC,EAAKoO,aAAazQ,KAQ3CqC,EAAAujB,WAAa,SAACvf,GACZ,IAAMkX,EAASlb,EAAKtC,MAAM+Q,MAAMhC,SAASzI,GACnCmX,EAAOnb,EAAK2a,QAAQ3W,GAE1B,OACE2E,EAAA,cAACsS,GAAA,GACCC,OAAQA,EACRrP,SAAmB,IAATsP,IAAeD,EACzB7S,IAAKrE,EACLtD,QAASV,EAAKtC,MAAMgD,QACpBvC,KACEwK,EAAA,0BACEA,EAAA,cAACkB,EAAA,GAAcxJ,MAAO2D,QAAU5F,OAAAsH,EAAA,EAAAtH,CAAU,aAAc4F,IAG5DJ,QAAS5D,EAAK6Z,gBACdsB,KAAM/c,OAAA8H,EAAA,EAAA9H,CAAgB+c,EAAMnb,EAAKtC,MAAM0d,WACvCC,QAAqC,IAA5Brb,EAAKtC,MAAM+Q,MAAMxN,SAAiBjB,EAAKtC,MAAM+Q,MAAMhC,SAASzI,GACrE7E,MAAO6E,OAuBf,OA3EuCghB,GAAAD,EAAAhlB,GA6BrCglB,EAAAxjB,UAAAoZ,QAAA,SAAQ3W,GACE,IAAA4W,EAAA1a,KAAAxC,MAAAkd,MACR,OAAOA,EAAQA,EAAM5W,QAAQzG,GA0B/BwnB,EAAAxjB,UAAAK,OAAA,WACE,IACMhC,EAASM,KAAKxC,MAAM+Q,MAAMjI,IAAI,SAAAxC,GAAQ,OAAA5F,OAAAsH,EAAA,EAAAtH,CAAU,aAAV4F,KAE5C,OACE2E,EAAA,cAAC4S,GAAA,GAASnN,SAAUlO,KAAKkO,UACvBzF,EAAA,cAAC6S,GAAA,GACCrd,KAAMC,OAAAsH,EAAA,EAAAtH,CAAU,eAAgB8B,KAAKkO,UACrCqN,QAASvb,KAAKma,YACdzW,QAAS1D,KAAKia,kBACduB,KAAMxb,KAAKxC,MAAMge,KACjB9b,OAAQA,IAGTM,KAAKxC,MAAMge,MAAQ/S,EAAA,cAACqS,GAAA,EAAc,MAbxB,MAAO,gBAAiB,cAaQxU,IAAItG,KAAKqjB,eApEnDwB,EAAApJ,cACLD,MAAM,GAuEVqJ,EA3EA,CAAuCpc,EAAA,gUCevC,SAAA5I,GAAA,SAAAklB,mDAiLA,OAjLqCC,GAAAD,EAAAllB,GACnCklB,EAAA1jB,UAAAK,OAAA,WACQ,IAAAjE,EAAAuC,KAAAxC,MAAEoO,EAAAnO,EAAAmO,UAAWqZ,EAAAxnB,EAAAwnB,OAAQC,EAAAznB,EAAAynB,WAAY/kB,EAAA1C,EAAA0C,MAEjCglB,GACHvZ,KAAe,MAAO,MAAO,MAAO,WAAWW,SAASX,EAAUiB,WAC/DuY,OAAoC/nB,IAAduO,GAAmD,QAAxBA,EAAUiB,UAC3DwY,OAAwChoB,IAAduO,GAAmD,QAAxBA,EAAUiB,UAC/DyY,OAAkCjoB,IAAduO,EACpB2Z,GAAsB3Z,GAAqC,QAAxBA,EAAUiB,UAEnD,OACEpE,EAAA,qBAAK1K,UAAU,gCACb0K,EAAA,cAAC+c,IAAUtK,UAAW/a,EAAM+a,UAAW1Y,SAAUxC,KAAKxC,MAAM2Q,iBAC5D1F,EAAA,cAACgd,IACCvK,UAAW/a,EAAM+a,UACjB1a,QAASR,KAAKxC,MAAMgD,QACpBgC,SAAUxC,KAAKxC,MAAM2Q,eACrB+L,SAAUla,KAAKxC,MAAMkoB,cACrBlK,OAAQ0J,EAAW3W,MACnBmM,MAAOuK,EAAO1W,MACdA,MAAOpO,EAAMoO,QAEf9F,EAAA,cAACkd,IACCzK,UAAW/a,EAAM+a,UACjB1a,QAASR,KAAKxC,MAAMgD,QACpBgC,SAAUxC,KAAKxC,MAAM2Q,eACrB+L,SAAUla,KAAKxC,MAAMkoB,cACrBlK,OAAQ0J,EAAW1W,WACnBA,WAAYrO,EAAMqO,WAClBkM,MAAOuK,EAAOzW,aAEhB/F,EAAA,cAACmd,IACC1K,UAAW/a,EAAM+a,UACjB1a,QAASR,KAAKxC,MAAMgD,QACpBgC,SAAUxC,KAAKxC,MAAM2Q,eACrB+L,SAAUla,KAAKxC,MAAMkoB,cACrBlK,OAAQ0J,EAAWrW,YACnBA,YAAa1O,EAAM0O,YACnBD,SAAUzO,EAAMyO,SAChB8L,MAAOuK,EAAOpW,cAEhBpG,EAAA,cAACod,IACC3K,UAAW/a,EAAM+a,UACjB1a,QAASR,KAAKxC,MAAMgD,QACpBgC,SAAUxC,KAAKxC,MAAM2Q,eACrB+L,SAAUla,KAAKxC,MAAMkoB,cACrBlK,OAAQ0J,EAAWzW,SACnBiM,MAAOuK,EAAOxW,SACdA,SAAUtO,EAAMsO,WAElBhG,EAAA,cAACqd,IACCla,UAAWA,EACXoS,aAAc7d,EAAM6d,aACpBC,UAAW9d,EAAM8d,UACjBC,cAAe/d,EAAM+d,cACrBC,cAAehe,EAAMge,cACrBjD,UAAW/a,EAAM+a,UACjB1a,QAASR,KAAKxC,MAAMgD,QACpBgC,SAAUxC,KAAKxC,MAAM2Q,eACrB+L,SAAUla,KAAKxC,MAAMkoB,cACrBlK,OAAQ0J,EAAWjH,UACnBG,gBAAiBje,EAAMie,gBACvB1D,MAAOuK,EAAOhH,YAEhBxV,EAAA,cAACsd,IACC7K,UAAW/a,EAAM+a,UACjB8G,UAAW7hB,EAAM6hB,UACjBxhB,QAASR,KAAKxC,MAAMgD,QACpBgC,SAAUxC,KAAKxC,MAAM2Q,eACrB+L,SAAUla,KAAKxC,MAAMkoB,cACrBlK,OAAQ0J,EAAWlW,MACnBrR,aAAcqC,KAAKxC,MAAMG,cAAgBqC,KAAKxC,MAAMG,aAAawK,IACjE6b,gBAAiBhkB,KAAKxC,MAAMwmB,gBAC5BhV,MAAO7O,EAAM6O,MACb0L,MAAOuK,EAAOjW,QAEhBvG,EAAA,cAACud,IACCpa,UAAWA,EACXsP,UAAW/a,EAAM+a,UACjB1a,QAASR,KAAKxC,MAAMgD,QACpBgC,SAAUxC,KAAKxC,MAAM2Q,eACrB+L,SAAUla,KAAKxC,MAAMkoB,cACrBlK,OAAQ0J,EAAW7e,KACnB1I,aAAcqC,KAAKxC,MAAMG,aACzB+c,MAAOuK,EAAO5e,KACdA,KAAMlG,EAAMkG,OAEb8e,GACC1c,EAAA,cAACwd,IACCra,UAAWA,EACXsP,UAAW/a,EAAM+a,UACjB1a,QAASR,KAAKxC,MAAMgD,QACpBgC,SAAUxC,KAAKxC,MAAM2Q,eACrB+L,SAAUla,KAAKxC,MAAMkoB,cACrBlK,OAAQ0J,EAAWhW,SACnBvR,aAAcqC,KAAKxC,MAAMG,aACzBuR,SAAU/O,EAAM+O,SAChByS,qBAAsB3hB,KAAKxC,MAAMmkB,qBACjCjH,MAAOuK,EAAO/V,WAGjBkW,GACC3c,EAAA,cAACyd,IACChL,UAAW/a,EAAM+a,UACjB1a,QAASR,KAAKxC,MAAMgD,QACpB6O,QAASlP,EAAMkP,QACf7M,SAAUxC,KAAKxC,MAAM2Q,eACrB+L,SAAUla,KAAKxC,MAAMkoB,cACrBlK,OAAQ0J,EAAW7V,QACnBsS,qBAAsB3hB,KAAKxC,MAAMmkB,qBACjCjH,MAAOuK,EAAO5V,UAGjBgW,GACC5c,EAAA,cAAC0d,IACCtF,YAAa1gB,EAAM0gB,YACnB3F,UAAW/a,EAAM+a,UACjB1a,QAASR,KAAKxC,MAAMgD,QACpBgC,SAAUxC,KAAKxC,MAAM2Q,eACrB+L,SAAUla,KAAKxC,MAAMkoB,cACrBlK,OAAQ0J,EAAWrE,YACnBc,qBAAsB3hB,KAAKxC,MAAMmkB,qBACjCjH,MAAOuK,EAAOpE,cAGjByE,GACC7c,EAAA,cAAC2d,IACClL,UAAW/a,EAAM+a,UACjB5L,MAAOnP,EAAMmP,MACb9O,QAASR,KAAKxC,MAAMgD,QACpBgC,SAAUxC,KAAKxC,MAAM2Q,eACrB+L,SAAUla,KAAKxC,MAAMkoB,cACrBlK,OAAQ0J,EAAW5V,MACnBqS,qBAAsB3hB,KAAKxC,MAAMmkB,qBACjCjH,MAAOuK,EAAO3V,SAGhBtP,KAAKxC,MAAM6V,UACX5K,EAAA,cAAC4d,IACCvX,SAAU3O,EAAM2O,SAChBC,UAAW5O,EAAM4O,UACjBnD,UAAWA,EACXsP,UAAW/a,EAAM+a,UACjB1a,QAASR,KAAKxC,MAAMgD,QACpBgC,SAAUxC,KAAKxC,MAAM2Q,eACrB+L,SAAUla,KAAKxC,MAAMkoB,cACrBlK,OAAQ0J,EAAWnW,UACnBpR,aAAcqC,KAAKxC,MAAMG,aACzB6c,gBAAiBxa,KAAKxC,MAAMgd,gBAC5BE,MAAOuK,EAAOlW,YAGjBwW,GACC9c,EAAA,cAAC6d,IACC3K,QAASxb,EAAMwb,QACfT,UAAW/a,EAAM+a,UACjB1a,QAASR,KAAKxC,MAAMgD,QACpBgC,SAAUxC,KAAKxC,MAAM2Q,eACrB+L,SAAUla,KAAKxC,MAAMkoB,cACrBlK,OAAQ0J,EAAWvJ,QACnBjB,MAAOuK,EAAOtJ,UAGlBlT,EAAA,cAAC8d,IACCrL,UAAW/a,EAAM+a,UACjB8G,UAAW7hB,EAAM6hB,UACjBxhB,QAASR,KAAKxC,MAAMgD,QACpBgC,SAAUxC,KAAKxC,MAAM2Q,eACrB+L,SAAUla,KAAKxC,MAAMkoB,cACrBlK,OAAQ0J,EAAWlD,UACnBQ,oBAAqBxiB,KAAKxC,MAAMglB,oBAChC9H,MAAOuK,EAAOjD,cAKxB+C,EAjLA,CAAqCtc,EAAA,yBChC/B,SAAA+d,GAAmCpoB,GAC/B,IAAA0S,EAAA1S,EAAA0S,UAAWnE,EAAAvO,EAAAuO,sBACnB,GAAImE,IAAcA,EAAUyE,mBAAmBxU,OAAS,GAAK+P,EAAU0E,MAAMzU,OAAS,GAAI,CACxF,IAAM2L,EACJtO,EAAMsO,oBAAsBoE,EAAU0E,MAAMzU,OAAS,EAAI,OAAI1D,GAE/D,IAAKa,OAAA8H,EAAA,EAAA9H,CAAkB4S,EAAWpE,GAChC,OACEyF,oBAAoB,EACpBzF,kBAAiBA,EAEjBC,uBACGA,GAAyBA,EAAwB,EAAI,EAAIA,IAO9D,SAAA8Z,KACJ,OAAStU,oBAAoB,GAuBzB,SAAAuU,GAA6BtoB,GACzB,IAAAsO,EAAAtO,EAAAsO,kBAAmB5N,EAAAV,EAAAuO,sBAA8BmE,EAAA1S,EAAA0S,UACzD,GAAIA,EAAW,CACb,IAIM6V,QAHkBtpB,IAAtBqP,EACIoE,EAAU0E,MAAM9I,GAChBoE,EAAUyE,oBACkBxU,OAAS,EAC3C,OAAIjC,IAAU6nB,GAEHha,uBAAwB,IAGjCA,2BAAiCtP,IAAVyB,GAAuBA,EAAQ6nB,EAAkB7nB,EAAQ,EAAIA,IAMpF,SAAA8nB,GAAiCxoB,GAC7B,IAAAsO,EAAAtO,EAAAsO,kBAAmB5N,EAAAV,EAAAuO,sBAA8BmE,EAAA1S,EAAA0S,UACzD,GAAIA,EACF,OAAe,IAAXhS,GAMO6N,4BAJetP,IAAtBqP,EACIoE,EAAU0E,MAAM9I,GAChBoE,EAAUyE,oBACkBxU,OAAS,IAGpC4L,2BAAiCtP,IAAVyB,GAAuBA,EAAQ,EAAIA,EAAQ,EAAIA,GAW7E,SAAA+nB,GAAyBzoB,GACrB,IAAA0S,EAAA1S,EAAA0S,UAAWpE,EAAAtO,EAAAsO,kBACnB,GACEoE,QACsBzT,IAAtBqP,GACAoE,EAAU0E,MAAMzU,OAAS2L,EAAoB,EAE7C,OAASA,kBAAmBA,EAAoB,EAAGC,sBAAuB,GAKxE,SAAAma,GAA6B1oB,GACzB,IAAA0S,EAAA1S,EAAA0S,UAAWpE,EAAAtO,EAAAsO,kBACnB,GAAIoE,QAAmCzT,IAAtBqP,GAAmCA,EAAoB,EACtE,OAASA,kBAAmBA,EAAoB,EAAGC,sBAAuB,m1BCDxEoa,IAAkBnY,SAAU,SAElCoY,GAAA,SAAAnnB,GAOE,SAAAonB,EAAYzpB,GAAZ,IAAAsC,EACED,EAAAE,KAAAC,KAAMxC,IAAMwC,YAPdF,EAAAG,SAAU,EAsIVH,EAAAonB,cAAgB,SAACxhB,GACQ,WAAnByhB,EAAA,aAGkB,KAAlBzhB,EAAM0hB,SAER1hB,EAAMC,iBACN7F,EAAKS,SAASimB,KACa,KAAlB9gB,EAAM0hB,SAAkB1hB,EAAM2hB,QAEvC3hB,EAAMC,iBACN7F,EAAK4mB,sBACsB,KAAlBhhB,EAAM0hB,SAAkB1hB,EAAM2hB,QAEvC3hB,EAAMC,iBACN7F,EAAK8mB,0BACsB,KAAlBlhB,EAAM0hB,SAAkB1hB,EAAM2hB,QAEvC3hB,EAAMC,iBACN7F,EAAKgnB,sBACsB,KAAlBphB,EAAM0hB,SAAkB1hB,EAAM2hB,SAEvC3hB,EAAMC,iBACN7F,EAAK+mB,oBAIT/mB,EAAAwnB,YAAc,SAAC5hB,GACU,WAAnByhB,EAAA,YAGkB,KAAlBzhB,EAAM0hB,SAERtnB,EAAKS,SAASkmB,KAUlB3mB,EAAAynB,aAAe,SAAC/pB,EAAcyH,GAC5B,IAAMuW,EAAOtd,OAAA8H,EAAA,EAAA9H,CAAQV,EAAMyU,SAAS9R,OACpC,OAAOqb,EAAOvW,EAAOuiB,KAAK,SAAApiB,GAAS,OAAAA,EAAM+C,MAANqT,SAAsBne,GAG3DyC,EAAA2nB,gBAAkB,WACR,IAAAxiB,EAAAnF,EAAA1B,MAAA6G,OACFoP,EAAgBvU,EAAK4nB,wBACLrqB,IAAlBgX,GAA+BA,EAAgBpP,EAAOlE,OAAS,IAC7DjB,EAAK1B,MAAM0S,UACbhR,EAAKgR,UAAU7L,EAAOoP,EAAgB,GAAGlM,KAEzCrI,EAAKS,UACHyP,SAAU/K,EAAOoP,EAAgB,GAAGlM,IACpCuE,uBAAmBrP,EACnBsP,2BAAuBtP,MAM/ByC,EAAA6nB,oBAAsB,WACZ,IAAA1iB,EAAAnF,EAAA1B,MAAA6G,OACFoP,EAAgBvU,EAAK4nB,wBACLrqB,IAAlBgX,GAA+BA,EAAgB,IAC7CvU,EAAK1B,MAAM0S,UACbhR,EAAKgR,UAAU7L,EAAOoP,EAAgB,GAAGlM,KAEzCrI,EAAKS,UACHyP,SAAU/K,EAAOoP,EAAgB,GAAGlM,IACpCuE,uBAAmBrP,EACnBsP,2BAAuBtP,MAM/ByC,EAAAgR,UAAY,SAAC8W,GACX,IAAMjP,GACJkP,SAAU/nB,EAAKtC,MAAMyU,SAAS4V,SAC9B1nB,MAAK2nB,MACA5pB,OAAA8H,EAAA,EAAA9H,CAAe4B,EAAK1B,MAAM+B,OAC1BjC,OAAA6pB,GAAA,EAAA7pB,CAAmB4B,EAAKtC,MAAMiP,aACjChJ,GAAI3D,EAAKtC,MAAMoO,WAAa9L,EAAKtC,MAAMoO,UAAUzD,IACjDkL,SAAUvT,EAAK1B,MAAMiV,SAAW,YAAShW,EACzCme,KAAMoM,KAGN9nB,EAAK1B,MAAM0S,UACT6H,EAAKxY,MAAMqb,MAAQ7C,EAAKxY,MAAMqb,OAAS1b,EAAK1B,MAAM0S,UAAU3I,IAC9DrI,EAAKS,UAED4R,oBAAoB,EACpBzF,uBAAmBrP,EACnBsP,2BAAuBtP,GAEzByC,EAAKkoB,uBAGPloB,EAAKkf,QAAQiJ,OAAOC,QAAQvP,GAG9B7Y,EAAKkf,QAAQiJ,OAAOnrB,KAAK6b,IAI7B7Y,EAAAqoB,WAAa,WACProB,EAAK1B,MAAM+B,QACbL,EAAKkf,QAAQiJ,OAAOnrB,MAClB+qB,SAAU/nB,EAAKtC,MAAMyU,SAAS4V,SAC9B1nB,MAAK2nB,MACA5pB,OAAA8H,EAAA,EAAA9H,CAAe4B,EAAK1B,MAAM+B,OAC1BjC,OAAA6pB,GAAA,EAAA7pB,CAAmB4B,EAAKtC,MAAMiP,aACjChJ,GAAI3D,EAAKtC,MAAMoO,WAAa9L,EAAKtC,MAAMoO,UAAUzD,IACjDkL,SAAUvT,EAAK1B,MAAMiV,SAAW,YAAShW,EACzCme,UAAMne,MAGVyC,EAAKkoB,uBAAsB,KAI/BloB,EAAAsoB,kBAAoB,WACV,IAAApY,EAAAlQ,EAAA1B,MAAA4R,SACJA,GACFlQ,EAAKgR,UAAUd,IAInBlQ,EAAAkoB,sBAAwB,SAACtX,QAAA,IAAAA,OAAA,GACf,IAAAV,EAAAlQ,EAAA1B,MAAA4R,SACR,GAAIA,EAAU,CACZ,IAAMY,EAAUqI,SAASpI,cAAc,gBAAgBb,EAAQ,MAC3DY,GACF1S,OAAAiT,EAAA,EAAAjT,CAAgB0S,GAAWQ,UAAW,IAAKC,aAAc,IAAKX,OAAMA,MAK1E5Q,EAAA8E,YAAc,SACZyjB,EACAC,EACAC,QADA,IAAAD,OAAA,QACA,IAAAC,OAAA,GAEM,IAAA9qB,EAAAqC,EAAAtC,MAAEoO,EAAAnO,EAAAmO,UAAWjO,EAAAF,EAAAE,aACbiJ,EAAA9G,EAAA1B,MAAEiV,EAAAzM,EAAAyM,SAAU6R,EAAAte,EAAAse,WAAY/kB,EAAAyG,EAAAzG,MAExB8kB,EAASqD,EACXpqB,OAAO+N,KAAKiZ,GACT/f,OAAO,SAAAqjB,GAAS,OAAAtD,EAAAsD,KAChBliB,IAAIN,EAAA,GACJqB,KAAK,UACRhK,EAEEorB,EAAUX,MACX5pB,OAAA6pB,GAAA,EAAA7pB,CAAmB4B,EAAKtC,MAAMiP,aACjCic,cAAe9c,GAAaA,EAAUzD,IACtCwgB,EAAG,aACAzqB,OAAA8H,EAAA,EAAA9H,CAAeiC,IAClB2E,GAAI,MACJnH,aAAcA,GAAgBA,EAAawK,IAC3C8c,OAAMA,GACHoD,GAYL,OARIloB,EAAMyoB,MACR1qB,OAAOoJ,OAAOmhB,GAAcI,IAAK,UAG/BxV,GACFnV,OAAOoJ,OAAOmhB,GAAc1Z,UAAW,WAGlCjP,EAAKtC,MAAMoH,YAAY6jB,EAAYF,GAAsBjoB,KAAK,SAAAwoB,GAEnE,OADAhpB,EAAKS,UAAWC,SAAS,IAClBsoB,KAoCXhpB,EAAAipB,gBAAkB,SAACC,GACjB,OAAOlpB,EAAK8E,aAAcokB,EAACA,KAG7BlpB,EAAAmpB,iBAAmB,SACjBD,EACAE,GAEA,OAAOppB,EAAKipB,gBAAgBC,GAAG1oB,KAAK,SAAAyiB,GAC1B,IAAA9d,EAAA8d,EAAA9d,OAAQoG,EAAA0X,EAAA1X,OAEhB,OAAO6d,EAAKjkB,EAAQoG,IACdpG,OAAMA,EAAEoG,OAAMA,GAChBvL,EAAKmpB,iBAAiBD,EAAI,EAAGE,GAAM5oB,KAAK,SAAA6oB,GACtC,OACElkB,OAAYA,EAAM+U,OAAKmP,EAAalkB,QACpCoG,OAAQ8d,EAAa9d,aAMjCvL,EAAAspB,gBAAkB,WACR,IAAA/d,EAAAvL,EAAA1B,MAAAiN,OAER,GAAKA,EAAL,CAIA,IAAM2d,EAAI3d,EAAOE,UAAY,EAE7BzL,EAAKS,UAAWC,SAAS,IACzBV,EAAKipB,gBAAgBC,GAAG1oB,KACtB,SAAAyiB,GACMjjB,EAAKG,SACPH,EAAKS,SAAS,SAAAnC,GAAS,OACrBoC,SAAS,EACTyE,OAAY7G,EAAM6G,OAAM+U,OAAK+I,EAAS9d,QACtCoG,OAAQ0X,EAAS1X,WAIvB,WACMvL,EAAKG,SACPH,EAAKS,UAAWC,SAAS,QAMjCV,EAAAupB,wBAA0B,SAACC,EAAoBC,EAAehc,GACtD,IAAA9P,EAAAqC,EAAA1B,MAAE6G,EAAAxH,EAAAwH,OAAQ6L,EAAArT,EAAAqT,UAAWzF,EAAA5N,EAAA4N,OAE3B,IAAKyF,IAAczF,EACjB,OAAOQ,QAAQ2d,YAAOnsB,GAGxB,IAAMosB,EAAkB,SAACrkB,GAAiB,OAAAA,EAAMwG,YAAckF,EAApBlF,WAEpCsd,EAAO,SAACjkB,EAAiBoG,GAC7B,GAAIA,EAAOnH,OAASmH,EAAOE,UAAYF,EAAOG,SAC5C,OAAO,EAET,IAAMke,EAAYzkB,EAAOA,EAAOlE,OAAS,GACzC,OAAI2oB,EAAU9d,YAAckF,EAAUlF,gBAGPvO,IAAxBqsB,EAAU7X,WAA2B6X,EAAU7X,UAAUE,QAAUxE,GAG5E,OAAI2b,EAAKjkB,EAAQoG,GACRQ,QAAQ2G,QAAQvN,EAAOE,OAAOskB,KAGvC3pB,EAAKS,UAAWC,SAAS,IAClBV,EAAKmpB,iBAAiB5d,EAAOE,UAAY,EAAG2d,GAAM5oB,KACvD,SAAAyiB,GACE,IAAM4G,EAAiB1kB,EAAM+U,OAAK+I,EAAS9d,QAQ3C,OAPInF,EAAKG,SACPH,EAAKS,UACH0E,OAAQ0kB,EACRnpB,SAAS,EACT6K,OAAQ0X,EAAS1X,SAGdse,EAAWxkB,OAAOskB,IAE3B,WAIE,OAHI3pB,EAAKG,SACPH,EAAKS,UAAWC,SAAS,WAOjCV,EAAA8pB,WAAa,SAACpB,GACZ,IAAMD,EAAiC,aAAVC,EAC7B,OAAO1oB,EAAK8E,aAAcE,GAAI,EAAGmgB,OAAQ/mB,OAAA8H,EAAA,EAAA9H,CAASsqB,KAAU,EAAOD,GAAsBjoB,KACvF,SAAC7C,GAAE,IAAAwnB,EAAAxnB,EAAAwnB,OAAQ/lB,EAAA2qB,GAAApsB,GAAA,WACLqC,EAAKG,SACPH,EAAKS,SAAS,SAAAnC,GAAS,OACrB6mB,OAAM6C,MAAO1pB,EAAM6mB,OAAW/mB,OAAA8H,EAAA,EAAA9H,CAAY+mB,IAC1CtD,qBAAoBmG,MACf1pB,EAAMujB,qBACNmI,IAAM5qB,EAAM2jB,WAAY,SAE7BL,oBAAmBsF,MAAO1pB,EAAMokB,oBAAwBsH,IAAM5qB,EAAM8iB,UAAW,QAC/EgC,gBAAe8D,MAAO1pB,EAAM4lB,gBAAoB8F,IAAM5qB,EAAM8P,MAAO,QACnEwL,gBAAesN,MAAO1pB,EAAMoc,gBAAoBsP,IAAM5qB,EAAM6qB,MAAO,cAIzE,eAIJjqB,EAAAkqB,WAAa,WACX,IAAMC,EAAa/rB,OAAA8H,EAAA,EAAA9H,CAAe4B,EAAK1B,MAAM+B,OAC7C,OAAQjC,OAAA8H,EAAA,EAAA9H,CAAgB+rB,EAAYlD,KAGtCjnB,EAAAoqB,iBAAmB,WACjB,IAAMjlB,EAASnF,EAAK1B,MAAMuI,QACvBL,IAAI,SAAAK,GAAW,OAAA7G,EAAK1B,MAAM6G,OAAOuiB,KAAK,SAAApiB,GAAS,OAAAA,EAAM+C,MAANxB,MAC/CxB,OAAO,SAACC,GAA0B,YAAA/H,IAAA+H,IAC/BiG,GAAWE,UAAW,EAAGC,SAAUvG,EAAOlE,OAAQmD,MAAOe,EAAOlE,QACtE,OAAO8K,QAAQ2G,SAAUvN,OAAMA,EAAEoG,OAAMA,KAGzCvL,EAAAqqB,mBAAqB,SAAC7L,GACpBxe,EAAKS,UAAWC,SAAS,IACzBV,EAAKkf,QAAQiJ,OAAOnrB,MAClB+qB,SAAU/nB,EAAKtC,MAAMyU,SAAS4V,SAC9B1nB,MAAK2nB,MACA5pB,OAAA8H,EAAA,EAAA9H,CAAc4pB,MAAMhoB,EAAK1B,MAAM+B,MAAUme,IACzCpgB,OAAA6pB,GAAA,EAAA7pB,CAAmB4B,EAAKtC,MAAMiP,aACjChJ,GAAI3D,EAAKtC,MAAMoO,WAAa9L,EAAKtC,MAAMoO,UAAUzD,IACjDkL,SAAUvT,EAAK1B,MAAMiV,SAAW,YAAShW,OAK/CyC,EAAAsqB,qBAAuB,SAAC/W,GACtBvT,EAAKuqB,WAAW,aACXvqB,EAAKtC,MAAMoO,WACd1N,OAAA8H,EAAA,EAAA9H,CAAamV,GAEfvT,EAAKkf,QAAQiJ,OAAOnrB,MAClB+qB,SAAU/nB,EAAKtC,MAAMyU,SAAS4V,SAC9B1nB,MAAK2nB,MACA5pB,OAAA8H,EAAA,EAAA9H,CAAc4pB,MAAMhoB,EAAK1B,MAAM+B,OAAO2O,UAAU,EAAMC,gBACtD7Q,OAAA6pB,GAAA,EAAA7pB,CAAmB4B,EAAKtC,MAAMiP,aACjChJ,GAAI3D,EAAKtC,MAAMoO,WAAa9L,EAAKtC,MAAMoO,UAAUzD,IACjDkL,SAAUA,EAAW,YAAShW,OAKpCyC,EAAAuqB,WAAa,SAACnc,GACZpO,EAAKS,SAAS,SAAAnC,GAAS,OACrB8mB,WAAU4C,MAAO1pB,EAAM8mB,YAAUznB,OAAGyQ,IAAW,EAAKzQ,cAIxDqC,EAAAwqB,kBAAoB,SAACpc,GACnBpO,EAAKS,SAAS,SAAAnC,GAAS,OACrB8mB,WAAU4C,MAAO1pB,EAAM8mB,YAAUznB,OAAGyQ,IAAY9P,EAAM8mB,WAAWhX,GAASzQ,aAEvEqC,EAAK1B,MAAM6mB,OAAO/W,IACrBpO,EAAK8pB,WAAW1b,IAIpBpO,EAAAyqB,YAAc,WACZzqB,EAAKkf,QAAQiJ,OAAOnrB,MAClB+qB,SAAU/nB,EAAKtC,MAAMyU,SAAS4V,SAC9B1nB,MAAK2nB,MACAf,GACA7oB,OAAA6pB,GAAA,EAAA7pB,CAAmB4B,EAAKtC,MAAMiP,aACjChJ,GAAI3D,EAAKtC,MAAMoO,WAAa9L,EAAKtC,MAAMoO,UAAUzD,IACjDkL,SAAUvT,EAAK1B,MAAMiV,SAAW,YAAShW,OAK/CyC,EAAA0qB,kBAAoB,SAACplB,EAAeqlB,EAAmBjP,GACrD1b,EAAKS,SAAS,SAACnC,GACb,IAAMssB,EACJtsB,EAAM2R,WAAa3R,EAAM2R,UAAU9R,OAASwsB,GAAarsB,EAAM2R,UAAU3K,QAAUA,EACrF,OAAa,IAAToW,GAAmBkP,GAEH,IAATlP,GAAiBkP,GACjB3a,eAAW1S,GAEfe,GAJI2R,WAAa3K,MAAKA,EAAEnH,KAAMwsB,OAQzC3qB,EAAA6qB,iBAAmB,SAACvlB,EAAeM,GAEzB,IAAAklB,EAAA9qB,EAAA1B,MAAAwsB,YACJllB,EAAMmlB,UAAYD,EACpB9qB,EAAKS,SAAS,SAAAnC,GACZ,IAAM8J,EAAY9J,EAAM6G,OAAOqB,IAAI,SAAAlB,GAAS,OAAAA,EAAA+C,MACtC2iB,EAAoB5iB,EAAU6iB,QAAQ3lB,GACtC4lB,EAAoB9iB,EAAU6iB,QAAQH,GACtCK,EAAc7sB,EAAMuI,QAAQ4F,SAASqe,GACrCjkB,EAAAvI,EAAAuI,QACN,GAAImkB,EAAoB,EACtB,OAAO,KAIT,IAFA,IAAMzL,EAAQ9C,KAAK2O,IAAIJ,EAAmBE,GACpCG,EAAM5O,KAAK6O,IAAIN,EAAmBE,GAC/BjuB,EAAIsiB,EAAOtiB,EAAIouB,EAAM,EAAGpuB,IAC/B4J,EAAUskB,EACNI,IAAM1kB,GAAUvI,EAAM6G,OAAOlI,GAAGoL,MAChC4R,IAAQpT,EAASvI,EAAM6G,OAAOlI,GAAGoL,KAEvC,OAASxB,QAAOA,KAGlB7G,EAAKS,SAAS,SAAAnC,GAAS,OACrBwsB,YAAaxlB,EACbuB,QAASvI,EAAMuI,QAAQ4F,SAASnH,GAC5B2U,IAAQ3b,EAAMuI,QAASvB,GACnBhH,EAAMuI,QAAOqT,QAAE5U,QAK7BtF,EAAAwrB,kBAAoB,SAAClmB,GACnBtF,EAAKS,SAAS,SAAAnC,GAAS,OACrB6G,OAAQ7G,EAAM6G,OAAOqB,IAAI,SAAAilB,GAAa,OAACA,EAAUpjB,MAAQ/C,EAAM+C,IAAM/C,EAA/BmmB,QAI1CzrB,EAAA0rB,eAAiB,SAACnK,GAChBvhB,EAAKS,UAAWkrB,WAAYpK,IAC5B8F,EAAA,SAAa,uBAGfrnB,EAAA4rB,gBAAkB,WAChBvE,EAAA,SAAa,UACbrnB,EAAKS,UAAWkrB,gBAAYpuB,KAG9ByC,EAAA6rB,sBAAwB,WACtB7rB,EAAK0rB,eAAe,QAGtB1rB,EAAA8rB,8BAAgC,SAAClmB,GAC/BA,EAAMC,iBACND,EAAME,cAAcC,OACpB/F,EAAK0rB,eAAe,aAGtB1rB,EAAA+rB,qBAAuB,WACrB/rB,EAAKgsB,mBACLhsB,EAAK4rB,mBAGP5rB,EAAAisB,aAAe,WACbjsB,EAAKgsB,oBACD5tB,OAAA6pB,GAAA,EAAA7pB,CAAoB4B,EAAKtC,MAAMiP,aAAevO,OAAA6pB,GAAA,EAAA7pB,CAAc4B,EAAKtC,MAAMiP,cACzE3M,EAAKtC,MAAMwuB,oBAIflsB,EAAAmsB,yBAA2B,WACzBnsB,EAAKgsB,mBAAmBxrB,KACtB,SAAA2E,GACMA,EAAOlE,OAAS,GAClBjB,EAAKgR,UAAU7L,EAAO,GAAGkD,MAG7B,eAIJrI,EAAAosB,eAAiB,SAACptB,GDnsBd,IAAyBqtB,ECosB3BrsB,EAAKS,UDpsBsB4rB,ECosBUrtB,EDnsBhC,SAACV,GACE,IAAAU,EAAAV,EAAAuO,sBACR,GADsCvO,EAAA0S,UAEpC,GAAK1S,EAAM+T,oBAIJ,QAAc9U,IAAVyB,EAET,OACEqT,mBAAoBga,IAAcrtB,EAClC6N,sBAAuBwf,QAPzB,QAAkB9uB,IAAd8uB,EACF,OAASha,oBAAoB,EAAMxF,sBAAuBwf,OCisBlErsB,EAAA4mB,mBAAqB,WACnB5mB,EAAKS,SAASmmB,KAGhB5mB,EAAA8mB,uBAAyB,WACvB9mB,EAAKS,SAASqmB,KAGhB9mB,EAAAssB,WAAa,SAACzlB,GACRA,EACF7G,EAAKS,SAAS,SAAAnC,GAAS,OAAGuI,QAASvI,EAAM6G,OAAOqB,IAAI,SAAAlB,GAAS,OAAAA,EAAA+C,SAE7DrI,EAAKS,UAAWoG,cAIpB7G,EAAAusB,WAAa,SAACvtB,GDhqBV,IAAqBqtB,ECiqBvBrsB,EAAKS,UDjqBkB4rB,ECiqBUrtB,EDhqB5B,WACL,OAAS4N,kBAAmByf,EAAWxf,sBAAuB,OCkqBhE7M,EAAA+mB,eAAiB,WACf/mB,EAAKS,SAASsmB,KAGhB/mB,EAAAgnB,mBAAqB,WACnBhnB,EAAKS,SAASumB,KA1oBdhnB,EAAK1B,OACHuI,WACAse,UACAhgB,UACAzE,SAAS,EACT2R,oBAAoB,EACpBkB,SAAU7V,EAAM6V,UAAYnV,OAAA8H,EAAA,EAAA9H,CAAoBV,EAAMyU,SAAS9R,OAC/D+kB,YAAc1W,YAAY,EAAMD,OAAO,GACvCpO,MAAOjC,OAAA8H,EAAA,EAAA9H,CAAWV,EAAMyU,SAAS9R,OACjCwhB,wBACAa,uBACAwB,mBACAxJ,mBACAxK,SAAU9R,OAAA8H,EAAA,EAAA9H,CAAQV,EAAMyU,SAAS9R,UA25BvC,OAj7BiCmsB,GAAArF,EAAApnB,GA0B/BonB,EAAA5lB,UAAAC,kBAAA,WAGE,GAFAtB,KAAKC,SAAU,GAEXD,KAAK5B,MAAMiV,UAAarT,KAAKxC,MAAMwH,YAAYunB,WAAnD,CAKAtT,SAASuT,KAAKC,UAAUC,IAAI,cAE5BzT,SAAS0T,gBAAgBF,UAAUC,IAAI,cAEvC,IAAME,EAAS3T,SAAS4T,eAAe,UACnCD,GACFA,EAAOH,UAAUC,IAAI,4BAGvB1sB,KAAK8sB,kBACL9sB,KAAK8rB,wBAdH5tB,OAAA6uB,GAAA,QAAA7uB,IAiBJ+oB,EAAA5lB,UAAAgW,0BAAA,SAA0BC,GACxB,IAAMxG,EAAY9Q,KAAKunB,aAAajQ,EAAWtX,KAAK5B,MAAM6G,QAEtD6L,GAAaA,EAAU3I,MAAQnI,KAAK5B,MAAM4R,UAC5ChQ,KAAKO,UACH4R,oBAAoB,EACpBnC,SAAUc,EAAU3I,IACpBuE,uBAAmBrP,EACnBsP,2BAAuBtP,IAItByT,GACH9Q,KAAKO,UAAWmM,uBAAmBrP,EAAWsP,2BAAuBtP,IAGvE2C,KAAKO,UACH8S,SAAUiE,EAAUjE,UAAYnV,OAAA8H,EAAA,EAAA9H,CAAoBoZ,EAAUrF,SAAS9R,OACvE2Q,UAASA,EACT3Q,MAAOjC,OAAA8H,EAAA,EAAA9H,CAAWoZ,EAAUrF,SAAS9R,UAIzC8mB,EAAA5lB,UAAAmQ,mBAAA,SAAmBC,EAAkBub,GAC3B,IAAA7sB,EAAAH,KAAAxC,MAAAyU,SAAA9R,MACA8sB,EAAAxb,EAAAQ,SAAA9R,MAENsR,EAAU7F,YAAc5L,KAAKxC,MAAMoO,WAClC1N,OAAA6pB,GAAA,EAAA7pB,CAAiBuT,EAAUhF,WAAYzM,KAAKxC,MAAMiP,aAClDvO,OAAA8H,EAAA,EAAA9H,CAAgB+uB,EAAW9sB,IAC5BjC,OAAA8H,EAAA,EAAA9H,CAAoB+uB,KAAe/uB,OAAA8H,EAAA,EAAA9H,CAAoBiC,GAItDH,KAAK5B,MAAM0S,WACXkc,EAAUhd,WAAahQ,KAAK5B,MAAM4R,WAAYgd,EAAUlc,WAIzD9Q,KAAKgoB,wBAPLhoB,KAAK8rB,oBAWT7E,EAAA5lB,UAAAE,qBAAA,WACEvB,KAAKktB,kBAELjU,SAASuT,KAAKC,UAAUU,OAAO,cAE/BlU,SAAS0T,gBAAgBF,UAAUU,OAAO,cAE1C,IAAMP,EAAS3T,SAAS4T,eAAe,UACnCD,GACFA,EAAOH,UAAUU,OAAO,4BAG1BntB,KAAKC,SAAU,GAGjBgnB,EAAA5lB,UAAAyrB,gBAAA,eAAAhtB,EAAAE,KACEmnB,EAAA,SAAa,UACbA,EAAI,KAAM,SAAU,WAElB,OADArnB,EAAK6nB,uBACE,IAETR,EAAI,OAAQ,SAAU,WAEpB,OADArnB,EAAK2nB,mBACE,IAETN,EAAI,QAAS,SAAU,WAErB,OADArnB,EAAKsoB,qBACE,IAETjB,EAAI,OAAQ,SAAU,WAIpB,OAHuC,IAAnCrnB,EAAK1B,MAAM+B,MAAM8E,OAAOlE,QAC1BjB,EAAKqoB,cAEA,IAETlX,OAAOmc,iBAAiB,UAAWptB,KAAKknB,eACxCjW,OAAOmc,iBAAiB,QAASptB,KAAKsnB,cAGxCL,EAAA5lB,UAAA6rB,gBAAA,WACE/F,EAAA,YAAgB,UAChBlW,OAAOoc,oBAAoB,UAAWrtB,KAAKknB,eAC3CjW,OAAOoc,oBAAoB,QAASrtB,KAAKsnB,cAwC3CL,EAAA5lB,UAAAqmB,iBAAA,WACQ,IAAAjqB,EAAAuC,KAAA5B,MAAEwI,EAAAnJ,EAAAwH,cAAA,IAAA2B,OAAaoJ,EAAAvS,EAAAuS,SACflR,EAAQmG,EAAOqoB,UAAU,SAAAloB,GAAS,OAAAA,EAAM+C,MAAN6H,IACxC,OAAkB,IAAXlR,EAAeA,OAAQzB,GA+IhC4pB,EAAA5lB,UAAAyqB,iBAAA,eAAAhsB,EAAAE,KAEE,OADAA,KAAKO,UAAWoG,WAAanG,SAAS,IAC/BR,KAAK4E,gBAAgB,GAAMtE,KAChC,SAAC7C,GAAE,IAAAwnB,EAAAxnB,EAAAwnB,OAAQhgB,EAAAxH,EAAAwH,OAAQoG,EAAA5N,EAAA4N,OAAQnM,EAAA2qB,GAAApsB,GAAA,6BACzB,GAAIqC,EAAKG,QAAS,CAChB,IAAM6Q,EAAYhR,EAAKynB,aAAaznB,EAAKtC,MAAOyH,GAChDnF,EAAKS,UACH0kB,OAAQ/mB,OAAA8H,EAAA,EAAA9H,CAAY+mB,GACpBzkB,SAAS,EACTyE,OAAMA,EACN6L,UAASA,EACTzF,OAAMA,EACNsW,qBAAsBmI,IAAM5qB,EAAM2jB,WAAY,QAC9CL,oBAAqBsH,IAAM5qB,EAAM8iB,UAAW,OAC5CgC,gBAAiB8F,IAAM5qB,EAAM8P,MAAO,OACpCwL,gBAAiBsP,IAAM5qB,EAAM6qB,MAAO,SACpC/Z,SAAU/K,EAAOlE,OAAS,EAAK+P,EAAYA,EAAU3I,IAAMlD,EAAO,GAAGkD,SAAO9K,EAC5EqP,uBAAmBrP,EACnBsP,2BAAuBtP,IAG3B,OAAO4H,GAET,WAIE,OAHInF,EAAKG,SACPH,EAAKS,UAAWC,SAAS,UA+TjCymB,EAAA5lB,UAAAksB,iBAAA,SAAiBzc,GACT,IAAArT,EAAAuC,KAAAxC,MAAEoO,EAAAnO,EAAAmO,UAAW5G,EAAAvH,EAAAuH,YACb4B,EAAA5G,KAAA5B,MAAEqtB,EAAA7kB,EAAA6kB,WAAY9kB,EAAAC,EAAAD,QAAS0E,EAAAzE,EAAAyE,OAAQpG,EAAA2B,EAAA3B,OAE/BuoB,EAAe7mB,EAAQ5F,OAAS,GAAKkE,EAAOlE,SAAW4F,EAAQ5F,OAC/D0sB,EAAa9mB,EAAQ5F,OAAS,IAAMysB,EACpCE,EAAYF,GAAgBC,EAElC,OAAKzoB,EAAYunB,YAAczb,EACtB,KAIPrI,EAAA,qBAAK1K,UAAU,aACb0K,EAAA,cAACI,EAAA,GACClC,QAAS+mB,EACT3vB,UAAU,+BACV0F,GAAG,mBACHqF,QAAS9I,KAAKosB,WACdqB,WAAYA,IAEb9mB,EAAQ5F,OAAS,EAChB0H,EAAA,cAACklB,GAAA,GACC5vB,UAAU,uBACVgN,QACEtC,EAAA,oBAAI1K,UAAU,QACZ0K,EAAA,wBACEA,EAAA,mBAAGC,KAAK,IAAIhF,QAAS1D,KAAK2rB,uBACvBztB,OAAAsH,EAAA,EAAAtH,CAAwB,qBAAsBmN,EAASA,EAAOnH,MAAQ,KAG3EuE,EAAA,wBACEA,EAAA,mBAAGC,KAAK,IAAIhF,QAAS1D,KAAK4rB,+BACvB1tB,OAAAsH,EAAA,EAAAtH,CAAwB,8BAA+ByI,EAAQ5F,YAKxE0H,EAAA,cAACiD,EAAA,GAAOjI,GAAG,sBACRvF,OAAAsH,EAAA,EAAAtH,CAAU,eACXuK,EAAA,cAACmlB,GAAA,GAAa7vB,UAAU,yBAI5B0K,EAAA,cAACiD,EAAA,GAAOjI,GAAG,qBAAqBC,QAAS1D,KAAK2rB,uBAC3CztB,OAAAsH,EAAA,EAAAtH,CAAU,gBAGdutB,GACChjB,EAAA,cAAColB,GACCjiB,UAAWA,EACX5G,YAAaA,EACbJ,YAA4B,QAAf6mB,EAAuBzrB,KAAK4E,YAAc5E,KAAKkqB,iBAC5DpkB,QAAS9F,KAAK0rB,gBACdrjB,OAAQrI,KAAK6rB,qBACbluB,aAAcqC,KAAKxC,MAAMG,iBAOnCspB,EAAA5lB,UAAAysB,aAAA,WACQ,IAAArwB,EAAAuC,KAAAxC,MAAEoO,EAAAnO,EAAAmO,UAAW5G,EAAAvH,EAAAuH,YACX7E,EAAAH,KAAA5B,MAAA+B,MAER,OACEsI,EAAA,qBAAK1K,UAAU,uBACZiH,EAAYunB,aACVruB,OAAAyW,GAAA,EAAAzW,IACCuK,EAAA,cAACslB,IACC1a,SAAUrT,KAAK5B,MAAMiV,SACrBC,iBAAkBtT,KAAKoqB,uBAG7B3hB,EAAA,cAACpF,GAAA,GAAcC,aAActD,KAAKgqB,aAAczmB,QAASvD,KAAKuqB,cAC9D9hB,EAAA,cAACulB,IACCpiB,UAAWA,EACXqZ,OAAQjlB,KAAK5B,MAAM6mB,OACnBzkB,QAASR,KAAK5B,MAAMoC,QACpB6S,SAAUrT,KAAK5B,MAAMiV,SACrBqS,cAAe1lB,KAAKsqB,kBACpBnc,eAAgBnO,KAAKmqB,mBACrBjF,WAAYllB,KAAK5B,MAAM8mB,WACvBvnB,aAAcqC,KAAKxC,MAAMG,aACzBwC,MAAOA,EACPwhB,qBAAsB3hB,KAAK5B,MAAMujB,qBACjCa,oBAAqBxiB,KAAK5B,MAAMokB,oBAChCwB,gBAAiBhkB,KAAK5B,MAAM4lB,gBAC5BxJ,gBAAiBxa,KAAK5B,MAAMoc,oBAMpCyM,EAAA5lB,UAAA4sB,wBAAA,WACQ,IAAAxwB,EAAAuC,KAAA5B,MAAE6G,EAAAxH,EAAAwH,OAAQoG,EAAA5N,EAAA4N,OAAQlL,EAAA1C,EAAA0C,MAExB,OACEsI,EAAA,qBAAK1K,UAAU,uBACb0K,EAAA,cAAC8Q,IACCC,kBAA2C,IAAxBrZ,EAAM8E,OAAOlE,OAChCP,QAASR,KAAK5B,MAAMoC,QACpBiZ,YAAazZ,KAAKmoB,WAClB5T,SAAUvU,KAAKisB,yBACf5gB,OAAQA,EACRgJ,cAAerU,KAAK0nB,qBAEtBjf,EAAA,cAACylB,IACCjpB,OAAQA,EACR0Q,aAAc3V,KAAKqsB,WACnBtZ,cAAe/S,KAAK8Q,UACpBmC,iBAAkBjT,KAAKksB,eACvBlc,SAAUhQ,KAAK5B,MAAM4R,SACrBtD,kBAAmB1M,KAAK5B,MAAMsO,kBAC9BC,sBAAuB3M,KAAK5B,MAAMuO,wBAEnCtB,GACCA,EAAOnH,MAAQ,GACbuE,EAAA,cAAC0lB,GAAA,GACCvjB,MAAO3F,EAAOlE,OACdqtB,SAAUpuB,KAAKopB,gBACfllB,MAAOmH,EAAOnH,UAO1B+iB,EAAA5lB,UAAAgtB,WAAA,SAAWvd,GAAX,IAAAhR,EAAAE,KACE,OACEyI,EAAA,cAAC6lB,GAAA,GAAqBvwB,UAAU,0BAC7B,SAACN,OAAE8wB,EAAA9wB,EAAA8wB,IAAU,OACZ9lB,EAAA,qBAAK1K,UAAU,mBAAmBwM,OAASgkB,IAAGA,IAC5C9lB,EAAA,qBAAK1K,UAAU,0BACZ+S,EAAYhR,EAAKmuB,0BAA4BnuB,EAAKguB,oBAQ/D7G,EAAA5lB,UAAAwZ,WAAA,WACQ,IAAApd,EAAAuC,KAAAxC,MAAEiP,EAAAhP,EAAAgP,WAAYb,EAAAnO,EAAAmO,UAAW5G,EAAAvH,EAAAuH,YAAarH,EAAAF,EAAAE,aACtCiJ,EAAA5G,KAAA5B,MAAE6G,EAAA2B,EAAA3B,OAAQ6L,EAAAlK,EAAAkK,UAAWzF,EAAAzE,EAAAyE,OACrBgJ,EAAgBrU,KAAK0nB,mBACrBvX,OAAkC9S,IAAlBgX,EAA8BpP,EAAOoP,QAAiBhX,EAE5E,IAAKgO,GAAUyF,EACb,OAAO,KAGT,IAAI0d,EAAkB,KAWtB,OAVqB,IAAjBnjB,EAAOnH,QAEPsqB,EADExuB,KAAKgqB,aACWvhB,EAAA,cAACgmB,GAAA,EAAW,MACrBzuB,KAAK5B,MAAMiV,SACF5K,EAAA,cAACgL,GAAU,MAEXhL,EAAA,cAAC+K,GAAQ,OAK7B/K,EAAA,yBACG4C,EAAOnH,MAAQ,GACduE,EAAA,cAACimB,GACCjiB,WAAYA,EACZ9F,QAAS3G,KAAK5B,MAAMuI,QACpBiF,UAAWA,EACX3G,OAAQA,EACRkJ,eAAgBnO,KAAKmqB,mBACrB9Z,cAAerQ,KAAKsrB,kBACpBhb,aAActL,EAAYunB,WAAavsB,KAAK2qB,sBAAmBttB,EAC/DkT,aAAcvQ,KAAK8Q,UACnBhB,cAAe9P,KAAKwqB,kBACpBza,UAAW/P,KAAK5B,MAAM2R,UACtBpS,aAAcA,EACdwS,cAAeA,IAIlB9E,EAAOnH,MAAQ,GACduE,EAAA,cAAC0lB,GAAA,GAAWvjB,MAAO3F,EAAOlE,OAAQqtB,SAAUpuB,KAAKopB,gBAAiBllB,MAAOmH,EAAOnH,QAGjFsqB,IAKPvH,EAAA5lB,UAAAstB,4BAAA,WACU,IAAA7d,EAAA9Q,KAAA5B,MAAA0S,UACR,IAAKA,IAAeA,EAAUyE,mBAAmBxU,SAAW+P,EAAU0E,MAAMzU,OAC1E,OAAO,KAET,IAAM6tB,EAAkB9d,EAAU0E,MAAMzU,OAAS,EACjD,OACE0H,EAAA,qBAAK1K,UAAU,mBACb0K,EAAA,sBAAM1K,UAAU,uCAAqC,OACrD0K,EAAA,sBAAM1K,UAAU,uBAAuB,KACvC0K,EAAA,sBAAM1K,UAAU,uCAAqC,KACrD0K,EAAA,sBAAM1K,UAAU,uCAAqC,KACpD6wB,GACCnmB,EAAA,0BACEA,EAAA,sBAAM1K,UAAU,uCAAqC,KACrD0K,EAAA,sBAAM1K,UAAU,uCAAqC,MAGxDG,OAAAsH,EAAA,EAAAtH,CAAU,wCAKjB+oB,EAAA5lB,UAAAK,OAAA,WACU,IAAAkK,EAAA5L,KAAAxC,MAAAoO,UACFnO,EAAAuC,KAAA5B,MAAE0S,EAAArT,EAAAqT,UAAWzF,EAAA5N,EAAA4N,OACbgJ,EAAgBrU,KAAK0nB,mBAC3B,OACEjf,EAAA,qBAAK1K,UAAU,qBAAqB0F,GAAG,eACrCgF,EAAA,cAAComB,GAAA,GAAYC,YAAY,WACzBrmB,EAAA,cAACsmB,EAAAC,GAAO5hB,MAAO0D,EAAYA,EAAUkF,QAAU9X,OAAAsH,EAAA,EAAAtH,CAAU,iBAExD8B,KAAKquB,WAAWvd,GAEjBrI,EAAA,qBAAK1K,UAAU,oBACb0K,EAAA,qBAAK1K,UAAU,uEACb0K,EAAA,qBAAK1K,UAAU,gEACb0K,EAAA,qBAAK1K,UAAU,0BACZiC,KAAKutB,iBAAiBzc,GACtBA,EACCrI,EAAA,qBAAK1K,UAAU,sBACb0K,EAAA,cAAC+D,GACCC,WAAYzM,KAAKxC,MAAMiP,WACvBb,UAAWA,EACXxG,MAAO0L,EACPnT,aAAcqC,KAAKxC,MAAMG,aACzB+O,kBAAmB1M,KAAK5B,MAAMsO,kBAC9BC,sBAAuB3M,KAAK5B,MAAMuO,yBAItClE,EAAA,cAACwmB,IACCza,WAAY0a,SACTlvB,KAAKxC,MAAMG,eACTqC,KAAKxC,MAAMoO,aACV1N,OAAAyW,GAAA,EAAAzW,IAAkB8B,KAAKxC,MAAM6V,WAEnC7S,QAASR,KAAK5B,MAAMoC,QACpB+T,SAAUvU,KAAK+rB,aACf1gB,OAAQA,EACRgJ,cAAeA,IAGlBrU,KAAK2uB,iCAKZlmB,EAAA,qBAAK1K,UAAU,0BACb0K,EAAA,yBACGqI,EACCrI,EAAA,cAAC0mB,IACC1iB,WAAYzM,KAAKxC,MAAMiP,WACvB9H,WAAY3E,KAAKqpB,wBACjBlX,mBAAoBnS,KAAK5B,MAAM+T,mBAC/B9B,cAAerQ,KAAKsrB,kBACpBvY,cAAe/S,KAAK8Q,UACpBmC,iBAAkBjT,KAAKksB,eACvBpb,UAAWA,EACXpE,kBAAmB1M,KAAK5B,MAAMsO,kBAC9BC,sBAAuB3M,KAAK5B,MAAMuO,wBAGpC3M,KAAK6a,kBAt6BZoM,EAAAvG,cACLuH,OAAQmH,EAAA,OAAiBC,YA66B7BpI,EAj7BA,CAAiCxe,EAAA,wWC/FjComB,EAAA,SAAAhvB,GAAA,SAAAgvB,mDAyBA,OAzByCztB,EAAAytB,EAAAhvB,GAOvCgvB,EAAAxtB,UAAAC,kBAAA,WACEtB,KAAKgf,QAAQ8P,YAAYQ,eAAetvB,KAAKxC,MAAMsxB,cAGrDD,EAAAxtB,UAAAmQ,mBAAA,SAAmBC,GACbA,EAAUqd,cAAgB9uB,KAAKxC,MAAMsxB,cACvC9uB,KAAKgf,QAAQ8P,YAAYS,kBAAkBvvB,KAAKxC,MAAMsxB,aACtD9uB,KAAKgf,QAAQ8P,YAAYQ,eAAe7d,EAAUqd,eAItDD,EAAAxtB,UAAAE,qBAAA,WACEvB,KAAKgf,QAAQ8P,YAAYS,kBAAkBvvB,KAAKxC,MAAMsxB,cAGxDD,EAAAxtB,UAAAK,OAAA,WACE,OAAO,MApBFmtB,EAAAnO,cACLoO,YAAaU,EAAA,OAAiBH,YAqBlCR,EAzBA,CAAyChxB,EAAA,0CC3BzC,IAAA4xB,EAAA5yB,EAAA,KACA6yB,EAAA7yB,EAAA,KAMA8yB,EAHAzxB,OAAAmD,UAGAsuB,eAyBAC,EAAAF,EAAA,SAAA3wB,EAAAE,EAAAkJ,GACAwnB,EAAA5vB,KAAAhB,EAAAoJ,GACApJ,EAAAoJ,GAAArL,KAAAmC,GAEAwwB,EAAA1wB,EAAAoJ,GAAAlJ,MAIAtC,EAAAC,QAAAgzB,sFCZc,SAAAvU,EAAmB7d,GAC/B,OACEK,EAAA,qBACEE,UAAWoG,EAAW,6BAA8B3G,EAAMO,WAAU8xB,gBACrDryB,EAAM0Q,UACpB1Q,EAAMsyB,0WCKbC,EAAA,SAAAlwB,GAAA,SAAAkb,IAAA,IAAAjb,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YAOEF,EAAAsT,YAAc,SAAC1N,GACbA,EAAMC,iBACND,EAAME,cAAcC,OACpB/F,EAAKtC,MAAMkG,QAAQ5D,EAAKtC,MAAMyB,MAAOyG,EAAMsqB,SAAWtqB,EAAMuqB,YA0ChE,OApDuC7uB,EAAA2Z,EAAAlb,GAarCkb,EAAA1Z,UAAAK,OAAA,WACE,IAAM3D,EAAYkW,EAAW,QAAS,yBAA0BjU,KAAKxC,MAAMO,WACzEid,OAAQhb,KAAKxC,MAAMwd,OACnBkV,8BAA+BlwB,KAAKxC,MAAM8jB,YAGtCvW,EACJ/K,KAAKxC,MAAM2d,UAAYnb,KAAKxC,MAAMmO,SAC9BzN,OAAAsH,EAAA,EAAAtH,ECtC4C,IAA7CiyB,UAAUC,UAAUrF,QAAQ,YDwCrB,qDACA,uDAEN1tB,EAEN,OACEoL,EAAA,cAACuL,EAAA,GAAQjJ,QAASA,EAASslB,UAAU,SAClCrwB,KAAKxC,MAAMmO,SACVlD,EAAA,sBAAM1K,UAAWA,EAASuyB,aAActwB,KAAKxC,MAAMyB,OACjDwJ,EAAA,sBAAM1K,UAAU,cAAciC,KAAKxC,MAAMS,MACrB,MAAnB+B,KAAKxC,MAAMyd,MACVxS,EAAA,sBAAM1K,UAAU,cAAciC,KAAKxC,MAAMgD,QAAU,GAAKR,KAAKxC,MAAMyd,OAIvExS,EAAA,mBACE1K,UAAWA,EAASuyB,aACRtwB,KAAKxC,MAAMyB,MACvByJ,KAAK,IACLhF,QAAS1D,KAAKoT,aACd3K,EAAA,sBAAM1K,UAAU,cAAciC,KAAKxC,MAAMS,MACrB,MAAnB+B,KAAKxC,MAAMyd,MACVxS,EAAA,sBAAM1K,UAAU,cAAciC,KAAKxC,MAAMgD,QAAU,GAAKR,KAAKxC,MAAMyd,SA5CxEF,EAAAU,cACL9P,UAAU,EACV2V,WAAW,EACX9gB,SAAS,GAgDbua,EApDA,CAAuCtS,EAAA,2XEHvC6S,EAAA,SAAAzb,GAAA,SAAAyb,IAAA,IAAAxb,EAAA,OAAAD,KAAAiO,MAAA9N,KAAA+N,YAAA/N,YACEF,EAAAsT,YAAc,SAAC1N,GACbA,EAAMC,iBACND,EAAME,cAAcC,OAChB/F,EAAKtC,MAAMkG,SACb5D,EAAKtC,MAAMkG,aA8DjB,OAnEyCtC,EAAAka,EAAAzb,GASvCyb,EAAAja,UAAAkvB,aAAA,WACE,OAAKvwB,KAAKxC,MAAMgzB,OAGT3yB,EAAA,cAAC4yB,EAAA,GAAY1yB,UAAU,cAAcgN,QAAS/K,KAAKxC,MAAMgzB,SAFvD,MAKXlV,EAAAja,UAAAqvB,qBAAA,WACU,IAAAhxB,EAAAM,KAAAxC,MAAAkC,OACR,GAAIM,KAAKxC,MAAMge,OAAS9b,IAAWA,EAAOqB,OACxC,OAAO,KAET,IAAM9B,EACc,IAAlBS,EAAOqB,OAAerB,EAAO,GAAKxB,OAAAyyB,EAAA,EAAAzyB,CAAwB,aAAcwB,EAAOqB,QACjF,OACElD,EAAA,sBAAME,UAAU,iDAAiDqP,MAAOnO,GACrEA,IAKPqc,EAAAja,UAAAK,OAAA,WACE,IAAMkvB,EACiB,MAArB5wB,KAAKxC,MAAMkC,QAAkBM,KAAKxC,MAAMkC,OAAOqB,OAAS,GAA2B,MAAtBf,KAAKxC,MAAM+d,QAE1E,OACE1d,EAAA,qBAAKE,UAAU,yCACZiC,KAAKxC,MAAMkG,QACV7F,EAAA,sBAAME,UAAU,qDACdF,EAAA,mBAAG6K,KAAK,IAAIhF,QAAS1D,KAAKoT,aACxBvV,EAAA,cAACgzB,EAAA,GAAc9yB,UAAU,sBAAsByd,KAAMxb,KAAKxC,MAAMge,OAC/Dxb,KAAKxC,MAAMS,MAEb+B,KAAKuwB,gBAGR1yB,EAAA,sBAAME,UAAU,qDACbiC,KAAKxC,MAAMS,KACX+B,KAAKuwB,gBAITvwB,KAAKxC,MAAMsyB,SAEZjyB,EAAA,sBAAME,UAAU,iEACbiC,KAAK0wB,wBAGPE,GACC/yB,EAAA,cAACizB,EAAA,GACC/yB,UAAU,+DACV2F,QAAS1D,KAAKxC,MAAM+d,SACnBrd,OAAAyyB,EAAA,EAAAzyB,CAAU,YAMvBod,EAnEA,CAAyCzd,EAAA,kGCV3B,SAAAid,EAAyBtd,GACrC,OAAOK,EAAA,qBAAKE,UAAU,+BAA+BP,EAAMsyB,gCC1B7D,IAAA3wB,EAAAtC,EAAA,KACAuC,EAAAvC,EAAA,KACAwC,EAAAxC,EAAA,KACAyC,EAAAzC,EAAA,KAuBAk0B,EAAA1xB,EAAA,SAAAI,EAAAC,GACA,OAAAJ,EAAAG,GACAN,EAAAM,EAAAL,EAAAM,EAAA,EAAAJ,GAAA,SAIA3C,EAAAC,QAAAm0B,uTCJM,SAAAC,EAAsBjqB,GAG1B,OAAO7I,OAAA+yB,EAAA,QAAA/yB,CAAQ,iBAAkB6I,GAAMmqB,MAAMC,EAAA,GAYzC,SAAAC,EAAsBrqB,GAI1B,OAAO7I,OAAA+yB,EAAA,QAAA/yB,CAAQ,oBAAqB6I,GAAMmqB,MAAMC,EAAA,GAG5C,SAAAE,EAAoBtO,EAAe7U,GACvC,IAAMsa,EAAQzF,EAASkC,OAAOuC,KAAK,SAACgB,GAAe,OAAAA,EAAMta,WAANA,IACnD,OAAOsa,EAAQA,EAAM9oB,UAGjB,SAAA4xB,EAAyB7I,GAK7B,OAAOvqB,OAAA+yB,EAAA,QAAA/yB,CAAQ,kBAAmBuqB,GAAYyI,MAAMC,EAAA,GAGhD,SAAAI,EAAsB9I,GAK1B,OAAOvqB,OAAA+yB,EAAA,QAAA/yB,CAAQ,kBAAmBuqB,GAAYnoB,KAAK,SAAAkxB,GAAK,OAAAA,EAAAnrB,MAAQ8qB,EAAA,GAG5D,SAAAM,EAAqB1qB,GAYzB,OAAO7I,OAAA+yB,EAAA,SAAA/yB,CAAS,oBAAqB6I,GAAMzG,KACzC,SAAAkxB,GAAK,OAAAA,EAAAviB,MACL,SAAA3G,GAGE,OAAIA,GAASA,EAAMya,UAAsC,MAA1Bza,EAAMya,SAASrU,OACrC7C,QAAQ2d,OAAOlhB,EAAMya,UAErB7kB,OAAAizB,EAAA,EAAAjzB,CAAiBoK,KAM1B,SAAAopB,EAAqBjJ,GACzB,OAAOvqB,OAAA+yB,EAAA,KAAA/yB,CAAK,oBAAqBuqB,GAAYyI,MAAMC,EAAA,GAG/C,SAAAQ,EAAqB5qB,GAczB,OAAO7I,OAAA+yB,EAAA,SAAA/yB,CAAS,oBAAqB6I,GAAMzG,KAAK,SAAAkxB,GAAK,OAAAA,EAAAviB,MAAQkiB,EAAA,yBCnH/D,IAAAS,EAAA/0B,EAAA,KACA8D,EAAA9D,EAAA,IA6CAF,EAAAC,QAdA,SAAAi1B,EAAAC,EAAAC,EAAAC,GACA,aAAAH,MAGAlxB,EAAAmxB,KACAA,EAAA,MAAAA,UAGAnxB,EADAoxB,EAAAC,OAAA30B,EAAA00B,KAEAA,EAAA,MAAAA,UAEAH,EAAAC,EAAAC,EAAAC,2VChBAzD,EAAA,SAAAzuB,GAIE,SAAAyuB,EAAY9wB,GAAZ,IAAAsC,EACED,EAAAE,KAAAC,KAAMxC,IAAMwC,YAadF,EAAAmyB,YAAc,WACZ,IAAMC,EAAepyB,EAAKqyB,WAAaryB,EAAKqyB,UAAUC,wBACtD,OAAKF,GAIH3D,IAAKtd,OAAOohB,YAAcH,EAAa3D,IACvC7jB,KAAMuG,OAAOqhB,YAAcJ,EAAaxnB,OAJ/B6jB,IAAK,EAAG7jB,KAAM,IAfzB5K,EAAKyyB,kBAAoBpxB,IAAS,WAAM,OAAArB,EAAA0yB,eAAoB,OAgChE,OAtCkDpxB,EAAAktB,EAAAzuB,GAShDyuB,EAAAjtB,UAAAC,kBAAA,WACEtB,KAAKwyB,cACLvhB,OAAOmc,iBAAiB,SAAUptB,KAAKuyB,oBAGzCjE,EAAAjtB,UAAAE,qBAAA,WACE0P,OAAOoc,oBAAoB,SAAUrtB,KAAKuyB,oBAc5CjE,EAAAjtB,UAAAK,OAAA,eAAA5B,EAAAE,KACE,OACE8B,EAAA,qBACE/D,UAAWiC,KAAKxC,MAAMO,UACtB0U,IAAK,SAAA0f,GAAa,OAACryB,EAAKqyB,UAANA,IACjBnyB,KAAKxC,MAAMsyB,SAAS9vB,KAAKiyB,iBAIlC3D,EAtCA,CAAkDxsB,EAAA,0ECLpC,SAAA2wB,EAA0Bh1B,OAAEM,EAAAN,EAAAM,UAAW6I,EAAAnJ,EAAAknB,YAAA,IAAA/d,EAAA,eAAAA,EAAuB2C,EAAA9L,EAAA8L,KAC1E,OACEd,EAAA,cAACiqB,EAAA,GAAK30B,UAAWA,EAAWwL,KAAMA,GAChCd,EAAA,sBACEqL,EAAE,mTACFvJ,OAASoa,KAAIA,kfCCP,SAAAgO,EAAwBl1B,GAAE,IAAA+d,EAAA/d,EAAA+d,KAAMhe,EAAAqsB,EAAApsB,GAAA,SAC5C,OAAO+d,EAAO/S,EAAA,cAACgqB,EAAe/zB,KAAKlB,IAAYiL,EAAA,cAACmqB,EAAA,EAAgBl0B,KAAKlB,0BC7BvE,IAAAq1B,EAAAh2B,EAAA,KA+BAF,EAAAC,QAnBA,SAAA6C,EAAAZ,EAAAc,GAIA,IAHA,IAAAb,GAAA,EACAiC,EAAAtB,EAAAsB,SAEAjC,EAAAiC,GAAA,CACA,IAAA9B,EAAAQ,EAAAX,GACAkF,EAAAnF,EAAAI,GAEA,SAAA+E,SAAA3G,IAAAy1B,EACA9uB,OAAA6uB,EAAA7uB,GACArE,EAAAqE,EAAA8uB,IAEA,IAAAA,EAAA9uB,EACAjF,EAAAE,EAGA,OAAAF,yBC5BApC,EAAAC,QAAAC,EAAA,GAAAA,EAAA,IAKAC,MAAAH,EAAAI,EAAA,6kTAA0mT,0BCJ1mT,IAAAC,EAAAH,EAAA,KAEA,iBAAAG,QAAAL,EAAAI,EAAAC,EAAA,MAOA,IAAAC,GAAeC,KAAA,EAEfC,eAPAA,EAQAC,gBAAAC,GAEAR,EAAA,GAAAA,CAAAG,EAAAC,GAEAD,EAAAM,SAAAX,EAAAC,QAAAI,EAAAM,6BCjBA,IAAAgC,EAAAzC,EAAA,KAaAF,EAAAC,QAJA,SAAAqC,GACA,OAAAK,EAAAL,8BCVA,IAAA8zB,EAAAl2B,EAAA,KACAm2B,EAAAn2B,EAAA,KACAo2B,EAAAp2B,EAAA,KACAq2B,EAAAr2B,EAAA,KACAs2B,EAAAt2B,EAAA,KACAu2B,EAAAv2B,EAAA,KAGAw2B,EAAA9W,KAAA2O,IAiEAvuB,EAAAC,QArDA,SAAA2H,EAAA1F,EAAAc,GASA,IARA,IAAA4M,EAAA5M,EAAAszB,EAAAD,EACAjyB,EAAAwD,EAAA,GAAAxD,OACAuyB,EAAA/uB,EAAAxD,OACAwyB,EAAAD,EACAE,EAAAx0B,MAAAs0B,GACAG,EAAAC,IACA30B,KAEAw0B,KAAA,CACA,IAAA9zB,EAAA8E,EAAAgvB,GACAA,GAAA10B,IACAY,EAAAyzB,EAAAzzB,EAAA0zB,EAAAt0B,KAEA40B,EAAAJ,EAAA5zB,EAAAsB,OAAA0yB,GACAD,EAAAD,IAAA5zB,IAAAd,GAAAkC,GAAA,KAAAtB,EAAAsB,QAAA,KACA,IAAAgyB,EAAAQ,GAAA9zB,QACApC,EAEAoC,EAAA8E,EAAA,GAEA,IAAAzF,GAAA,EACA60B,EAAAH,EAAA,GAEAI,EACA,OAAA90B,EAAAiC,GAAAhC,EAAAgC,OAAA0yB,GAAA,CACA,IAAAx0B,EAAAQ,EAAAX,GACAg0B,EAAAj0B,IAAAI,KAGA,GADAA,EAAAU,GAAA,IAAAV,IAAA,IACA00B,EACAP,EAAAO,EAAAb,GACAvmB,EAAAxN,EAAA+zB,EAAAnzB,IACA,CAEA,IADA4zB,EAAAD,IACAC,GAAA,CACA,IAAAM,EAAAL,EAAAD,GACA,KAAAM,EACAT,EAAAS,EAAAf,GACAvmB,EAAAhI,EAAAgvB,GAAAT,EAAAnzB,IAEA,SAAAi0B,EAGAD,GACAA,EAAA72B,KAAAg2B,GAEA/zB,EAAAjC,KAAAmC,IAGA,OAAAF,wBCtEA,IAAAm0B,EAAAr2B,EAAA,KACAi3B,EAAAj3B,EAAA,KACAwC,EAAAxC,EAAA,KACAk3B,EAAAl3B,EAAA,KAmBAm3B,EAAA30B,EAAA,SAAAkF,GACA,IAAA0vB,EAAAf,EAAA3uB,EAAAwvB,GACA,OAAAE,EAAAlzB,QAAAkzB,EAAA,KAAA1vB,EAAA,GACAuvB,EAAAG,QAIAt3B,EAAAC,QAAAo3B","file":"js/284.b925d9ae.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".bar-chart-bar{fill:#4b9fd5}.bar-chart-tick{fill:#777;font-size:12px;text-anchor:middle}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./BarChart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./BarChart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./BarChart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getOrganizationByKey, areThereCustomOrganizations } from '../../store/rootReducer';\nimport OrganizationLink from '../ui/OrganizationLink';\n\ninterface OwnProps {\n  organizationKey: string;\n}\n\ninterface Props {\n  link?: boolean;\n  linkClassName?: string;\n  organization: { key: string; name: string } | null;\n  shouldBeDisplayed: boolean;\n}\n\nfunction Organization(props: Props) {\n  const { link = true, organization, shouldBeDisplayed } = props;\n\n  if (!shouldBeDisplayed || !organization) {\n    return null;\n  }\n\n  return (\n    <span>\n      {link ? (\n        <OrganizationLink className={props.linkClassName} organization={organization}>\n          {organization.name}\n        </OrganizationLink>\n      ) : (\n        organization.name\n      )}\n      <span className=\"slash-separator\" />\n    </span>\n  );\n}\n\nconst mapStateToProps = (state: any, ownProps: OwnProps) => ({\n  organization: getOrganizationByKey(state, ownProps.organizationKey),\n  shouldBeDisplayed: areThereCustomOrganizations(state)\n});\n\nexport default connect<any, any, any>(mapStateToProps)(Organization);\n\nexport const UnconnectedOrganization = Organization;\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./EmptySearch.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./EmptySearch.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./EmptySearch.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SearchSelect from '../controls/SearchSelect';\n\ntype Option = { label: string; value: string };\n\ninterface Props {\n  minimumQueryLength?: number;\n  onSearch: (query: string) => Promise<Option[]>;\n  onSelect: (option: Option) => void;\n  renderOption?: (option: Object) => JSX.Element;\n}\n\nexport default function FacetFooter(props: Props) {\n  return (\n    <div className=\"search-navigator-facet-footer\">\n      <SearchSelect autofocus={false} {...props} />\n    </div>\n  );\n}\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    last = require('./last');\n\n/**\n * This method is like `_.difference` except that it accepts `comparator`\n * which is invoked to compare elements of `array` to `values`. The order and\n * references of result values are determined by the first array. The comparator\n * is invoked with two arguments: (arrVal, othVal).\n *\n * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n *\n * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n * // => [{ 'x': 2, 'y': 1 }]\n */\nvar differenceWith = baseRest(function(array, values) {\n  var comparator = last(values);\n  if (isArrayLikeObject(comparator)) {\n    comparator = undefined;\n  }\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n    : [];\n});\n\nmodule.exports = differenceWith;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { debounce } from 'lodash';\nimport Select, { Creatable } from '../../components/controls/Select';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\ninterface Props<T> {\n  autofocus?: boolean;\n  canCreate?: boolean;\n  clearable?: boolean;\n  defaultOptions?: T[];\n  minimumQueryLength?: number;\n  multi?: boolean;\n  onSearch: (query: string) => Promise<T[]>;\n  onSelect?: (option: T) => void;\n  onMultiSelect?: (options: T[]) => void;\n  promptTextCreator?: (label: string) => string;\n  renderOption?: (option: T) => JSX.Element;\n  resetOnBlur?: boolean;\n  value?: T | T[];\n}\n\ninterface State<T> {\n  loading: boolean;\n  options: T[];\n  query: string;\n}\n\nexport default class SearchSelect<T extends { value: string }> extends React.PureComponent<\n  Props<T>,\n  State<T>\n> {\n  mounted = false;\n\n  constructor(props: Props<T>) {\n    super(props);\n    this.state = { loading: false, options: props.defaultOptions || [], query: '' };\n    this.handleSearch = debounce(this.handleSearch, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  get autofocus() {\n    return this.props.autofocus !== undefined ? this.props.autofocus : true;\n  }\n\n  get minimumQueryLength() {\n    return this.props.minimumQueryLength !== undefined ? this.props.minimumQueryLength : 2;\n  }\n\n  get resetOnBlur() {\n    return this.props.resetOnBlur !== undefined ? this.props.resetOnBlur : true;\n  }\n\n  handleSearch = (query: string) => {\n    // Ignore the result if the query changed\n    const currentQuery = query;\n    this.props.onSearch(currentQuery).then(\n      options => {\n        if (this.mounted) {\n          this.setState(state => ({\n            loading: false,\n            options: state.query === currentQuery ? options : state.options\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleChange = (option: T | T[]) => {\n    if (Array.isArray(option)) {\n      if (this.props.onMultiSelect) {\n        this.props.onMultiSelect(option);\n      }\n    } else if (this.props.onSelect) {\n      this.props.onSelect(option);\n    }\n  };\n\n  handleInputChange = (query: string) => {\n    if (query.length >= this.minimumQueryLength) {\n      this.setState({ loading: true, query });\n      this.handleSearch(query);\n    } else {\n      // `onInputChange` is called with an empty string after a user selects a value\n      // in this case we shouldn't reset `options`, because it also resets select value :(\n      const options = (query.length === 0 && this.props.defaultOptions) || [];\n      this.setState({ options, query });\n    }\n  };\n\n  // disable internal filtering\n  handleFilterOption = () => true;\n\n  render() {\n    const Component = this.props.canCreate ? Creatable : Select;\n    return (\n      <Component\n        autoFocus={this.autofocus}\n        className=\"input-super-large\"\n        clearable={this.props.clearable}\n        escapeClearsValue={false}\n        filterOption={this.handleFilterOption}\n        isLoading={this.state.loading}\n        multi={this.props.multi}\n        noResultsText={\n          this.state.query.length < this.minimumQueryLength\n            ? translateWithParameters('select2.tooShort', this.minimumQueryLength)\n            : translate('select2.noMatches')\n        }\n        onBlurResetsInput={this.resetOnBlur}\n        onChange={this.handleChange}\n        onInputChange={this.handleInputChange}\n        optionRenderer={this.props.renderOption}\n        options={this.state.options}\n        placeholder={translate('search_verb')}\n        promptTextCreator={this.props.promptTextCreator}\n        searchable={true}\n        value={this.props.value}\n        valueRenderer={this.props.renderOption}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport './EmptySearch.css';\n\nexport default function EmptySearch() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('no_results_search')}</h3>\n      <p className=\"big-spacer-top\">{translate('no_results_search.2')}</p>\n    </div>\n  );\n}\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".empty-search{padding:60px 0;border:1px solid #e6e6e6;border-radius:2px;color:#777;text-align:center}\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h3>{translate('filters')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from '../ui/IssueTypeIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  type: string;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: Props) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"js-page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".issues-main-header .component-name{line-height:24px}.issues-main-header-spinner{margin-right:2px}.concise-issues-list-header-inner{width:260px;text-align:center}.concise-issues-list-header .spinner{margin-top:4px;margin-left:1px;margin-right:1px}.concise-issues-list-header-button{border:none}.concise-issues-list-header-button path{fill:#777;transition:fill .3s ease}.concise-issues-list-header-button:hover path{fill:#4b9fd5}.concise-issue-component{margin-top:16px;margin-bottom:4px;padding-left:8px;padding-right:8px}.concise-issue-box{position:relative;z-index:1;margin-bottom:4px;padding:8px;border:1px solid #e6e6e6;background-color:#fff;cursor:pointer;transition:background-color .3s ease,border-color .3s ease}.concise-issue-box:hover{background-color:#ffeaea}.concise-issue-box:focus{outline:none}.concise-issue-box.selected{z-index:2;border-color:#dd4040;background-color:#ffeaea;cursor:default}.concise-issue-box-message{overflow:hidden;text-overflow:ellipsis;font-weight:700}.concise-issue-box-message:focus{outline:none}.concise-issue-box.selected .concise-issue-box-message{cursor:pointer}.concise-issue-box-attributes{margin-top:8px;line-height:16px;font-size:12px}.concise-issue-box:not(.selected) .location-index{background-color:#ccc}.concise-issue-locations{margin-right:-4px;margin-bottom:-4px}.concise-issue-locations .location-index{margin-right:4px;margin-bottom:4px}.concise-issue-locations-navigator-location{position:relative;z-index:3;display:inline-flex;align-items:flex-start;max-width:100%;border:none}.concise-issue-locations-navigator-file{position:relative}.concise-issue-locations-navigator-file+.concise-issue-locations-navigator-file{margin-top:12px}.concise-issue-locations-navigator-file:not(:last-child):before{position:absolute;display:block;width:0;top:13px;bottom:-16px;left:4px;border-left:1px dotted #d18582;content:\\\"\\\"}.concise-issue-location-file{height:16px;padding-bottom:4px;font-size:12px;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.concise-issue-location-file-circle,.concise-issue-location-file-circle-multiple,.concise-issue-location-file-circle-multiple:after,.concise-issue-location-file-circle-multiple:before{position:relative;top:1px;display:inline-block;width:9px;height:9px;border:1px solid #d18582;border-radius:100%;box-sizing:border-box;background-color:#ffeaea}.concise-issue-location-file-circle-multiple{top:-2px}.concise-issue-location-file-circle-multiple:before{position:absolute;z-index:7;top:2px;left:-1px;content:\\\"\\\"}.concise-issue-location-file-circle-multiple:after{position:absolute;z-index:8;top:5px;left:-1px;content:\\\"\\\"}.concise-issue-location-file-locations{padding-left:16px}.concise-issue-location-file-more{border-color:hsla(2,46%,66%,.2);color:#d18582!important;font-style:italic;font-weight:400}.concise-issue-location-file-more:focus,.concise-issue-location-file-more:hover{border-color:hsla(2,46%,66%,.6)}.issues-my-issues-filter{margin-bottom:24px;text-align:center}.issues-page-actions{display:inline-block;min-width:80px;text-align:right}.issues .issue-list{min-width:640px;width:800px}.issues .issue{border:1px solid transparent;cursor:pointer}.issues .issue:hover{border:1px dashed #dd4040;transition:all .3s ease}.issues .issue:focus{outline:none}@media (max-width:1320px){.issues .issue-list{width:calc(60vw - 40px)}}.issues-workspace-list-component{padding:10px 10px 6px}.issues-workspace-list-item+.issues-workspace-list-item{margin-top:5px}.issues-workspace-list-component+.issues-workspace-list-item{margin-top:10px}.issues-workspace-list-item:first-child .issues-workspace-list-component{padding-top:0}.issues-workspace-list-component+.issues-workspace-list-item{margin-top:0}.issues-predefined-periods{display:flex}.issues-predefined-periods .search-navigator-facet{width:auto;margin-right:4px}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nmodule.exports = union;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { pickBy, sortBy } from 'lodash';\nimport { searchAssignees } from '../utils';\nimport { searchIssueTags, bulkChangeIssues } from '../../../api/issues';\nimport { Component, CurrentUser, Issue, Paging, isLoggedIn } from '../../../app/types';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport SearchSelect from '../../../components/controls/SearchSelect';\nimport Checkbox from '../../../components/controls/Checkbox';\nimport Modal from '../../../components/controls/Modal';\nimport Select from '../../../components/controls/Select';\nimport HelpTooltip from '../../../components/controls/HelpTooltip';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport Avatar from '../../../components/ui/Avatar';\nimport { SubmitButton } from '../../../components/ui/buttons';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface AssigneeOption {\n  avatar?: string;\n  email?: string;\n  label: string;\n  value: string;\n}\n\ninterface TagOption {\n  label: string;\n  value: string;\n}\n\ninterface Props {\n  component: Component | undefined;\n  currentUser: CurrentUser;\n  fetchIssues: (x: {}) => Promise<{ issues: Issue[]; paging: Paging }>;\n  onClose: () => void;\n  onDone: () => void;\n  organization: { key: string } | undefined;\n}\n\ninterface FormFields {\n  addTags?: Array<{ label: string; value: string }>;\n  assignee?: AssigneeOption;\n  comment?: string;\n  notifications?: boolean;\n  organization?: string;\n  removeTags?: Array<{ label: string; value: string }>;\n  severity?: string;\n  transition?: string;\n  type?: string;\n}\n\ninterface State extends FormFields {\n  initialTags: Array<{ label: string; value: string }>;\n  issues: Issue[];\n  // used for initial loading of issues\n  loading: boolean;\n  paging?: Paging;\n  // used when submitting a form\n  submitting: boolean;\n}\n\ntype AssigneeSelectType = new () => SearchSelect<AssigneeOption>;\nconst AssigneeSelect = SearchSelect as AssigneeSelectType;\n\ntype TagSelectType = new () => SearchSelect<TagOption>;\nconst TagSelect = SearchSelect as TagSelectType;\n\nexport default class BulkChangeModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    let organization = props.component && props.component.organization;\n    if (props.organization && !organization) {\n      organization = props.organization.key;\n    }\n    this.state = { initialTags: [], issues: [], loading: true, submitting: false, organization };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    Promise.all([\n      this.loadIssues(),\n      searchIssueTags({ organization: this.state.organization })\n    ]).then(\n      ([issues, tags]) => {\n        if (this.mounted) {\n          this.setState({\n            initialTags: tags.map(tag => ({ label: tag, value: tag })),\n            issues: issues.issues,\n            loading: false,\n            paging: issues.paging\n          });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadIssues = () => this.props.fetchIssues({ additionalFields: 'actions,transitions', ps: 250 });\n\n  getDefaultAssignee = () => {\n    const { currentUser } = this.props;\n    const { issues } = this.state;\n    const options = [];\n\n    if (isLoggedIn(currentUser)) {\n      const canBeAssignedToMe =\n        issues.filter(issue => issue.assignee !== currentUser.login).length > 0;\n      if (canBeAssignedToMe) {\n        options.push({\n          avatar: currentUser.avatar,\n          label: currentUser.name,\n          value: currentUser.login\n        });\n      }\n    }\n\n    const canBeUnassigned = issues.filter(issue => issue.assignee).length > 0;\n    if (canBeUnassigned) {\n      options.push({ label: translate('unassigned'), value: '' });\n    }\n\n    return options;\n  };\n\n  handleCloseClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClose();\n  };\n\n  handleAssigneeSearch = (query: string) => {\n    return searchAssignees(query, this.state.organization);\n  };\n\n  handleAssigneeSelect = (assignee: AssigneeOption) => {\n    this.setState({ assignee });\n  };\n\n  handleTagsSearch = (query: string) => {\n    return searchIssueTags({ organization: this.state.organization, q: query }).then(tags =>\n      tags.map(tag => ({ label: tag, value: tag }))\n    );\n  };\n\n  handleTagsSelect = (field: 'addTags' | 'removeTags') => (\n    options: Array<{ label: string; value: string }>\n  ) => {\n    this.setState<keyof FormFields>({ [field]: options });\n  };\n\n  handleFieldCheck = (field: keyof FormFields) => (checked: boolean) => {\n    if (!checked) {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    } else if (field === 'notifications') {\n      this.setState<keyof FormFields>({ [field]: true });\n    }\n  };\n\n  handleFieldChange = (field: 'comment' | 'transition') => (\n    event: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => {\n    this.setState<keyof FormFields>({ [field]: event.currentTarget.value });\n  };\n\n  handleSelectFieldChange = (field: 'severity' | 'type') => (data: { value: string } | null) => {\n    if (data) {\n      this.setState<keyof FormFields>({ [field]: data.value });\n    } else {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    }\n  };\n\n  handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    /* eslint-disable camelcase */\n    const query = pickBy(\n      {\n        add_tags: this.state.addTags && this.state.addTags.map(t => t.value).join(),\n        assign: this.state.assignee ? this.state.assignee.value : null,\n        comment: this.state.comment,\n        do_transition: this.state.transition,\n        remove_tags: this.state.removeTags && this.state.removeTags.map(t => t.value).join(),\n        sendNotifications: this.state.notifications,\n        set_severity: this.state.severity,\n        set_type: this.state.type\n      },\n      x => x !== undefined\n    );\n    /* eslint-enable camelcase */\n    const issueKeys = this.state.issues.map(issue => issue.key);\n\n    this.setState({ submitting: true });\n    bulkChangeIssues(issueKeys, query).then(\n      () => {\n        this.setState({ submitting: false });\n        this.props.onDone();\n      },\n      error => {\n        this.setState({ submitting: false });\n        throwGlobalError(error);\n      }\n    );\n  };\n\n  getAvailableTransitions(issues: Issue[]) {\n    const transitions: { [x: string]: number } = {};\n    issues.forEach(issue => {\n      if (issue.transitions) {\n        issue.transitions.forEach(t => {\n          if (transitions[t] !== undefined) {\n            transitions[t]++;\n          } else {\n            transitions[t] = 1;\n          }\n        });\n      }\n    });\n    return sortBy(Object.keys(transitions)).map(transition => ({\n      transition,\n      count: transitions[transition]\n    }));\n  }\n\n  renderCancelButton = () => (\n    <a href=\"#\" id=\"bulk-change-cancel\" onClick={this.handleCloseClick}>\n      {translate('cancel')}\n    </a>\n  );\n\n  renderLoading = () => (\n    <div>\n      <div className=\"modal-head\">\n        <h2>{translate('bulk_change')}</h2>\n      </div>\n      <div className=\"modal-body\">\n        <div className=\"text-center\">\n          <i className=\"spinner spinner-margin\" />\n        </div>\n      </div>\n      <div className=\"modal-foot\">{this.renderCancelButton()}</div>\n    </div>\n  );\n\n  renderCheckbox = (field: keyof FormFields) => (\n    <Checkbox checked={this.state[field] !== undefined} onCheck={this.handleFieldCheck(field)} />\n  );\n\n  renderAffected = (affected: number) => (\n    <div className=\"pull-right note\">\n      ({translateWithParameters('issue_bulk_change.x_issues', affected)})\n    </div>\n  );\n\n  renderField = (\n    field: 'addTags' | 'assignee' | 'removeTags' | 'severity' | 'type',\n    label: string,\n    affected: number | undefined,\n    input: React.ReactNode\n  ) => (\n    <div className=\"modal-field\" id={`issues-bulk-change-${field}`}>\n      <label htmlFor={field}>{translate(label)}</label>\n      {input}\n      {affected !== undefined && this.renderAffected(affected)}\n    </div>\n  );\n\n  renderAssigneeOption = (option: AssigneeOption) => {\n    return (\n      <span>\n        {option.avatar !== undefined && (\n          <Avatar className=\"spacer-right\" hash={option.avatar} name={option.label} size={16} />\n        )}\n        {option.label}\n      </span>\n    );\n  };\n\n  renderAssigneeField = () => {\n    const affected = this.state.issues.filter(hasAction('assign')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <AssigneeSelect\n        clearable={true}\n        defaultOptions={this.getDefaultAssignee()}\n        onSearch={this.handleAssigneeSearch}\n        onSelect={this.handleAssigneeSelect}\n        renderOption={this.renderAssigneeOption}\n        resetOnBlur={false}\n        value={this.state.assignee}\n      />\n    );\n\n    return this.renderField('assignee', 'issue.assign.formlink', affected, input);\n  };\n\n  renderTypeField = () => {\n    const affected = this.state.issues.filter(hasAction('set_type')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const types = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n    const options = types.map(type => ({ label: translate('issue.type', type), value: type }));\n\n    const optionRenderer = (option: { label: string; value: string }) => (\n      <span>\n        <IssueTypeIcon className=\"little-spacer-right\" query={option.value} />\n        {option.label}\n      </span>\n    );\n\n    const input = (\n      <Select\n        clearable={true}\n        onChange={this.handleSelectFieldChange('type')}\n        optionRenderer={optionRenderer}\n        options={options}\n        searchable={false}\n        value={this.state.type}\n        valueRenderer={optionRenderer}\n      />\n    );\n\n    return this.renderField('type', 'issue.set_type', affected, input);\n  };\n\n  renderSeverityField = () => {\n    const affected = this.state.issues.filter(hasAction('set_severity')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const severities = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n    const options = severities.map(severity => ({\n      label: translate('severity', severity),\n      value: severity\n    }));\n\n    const input = (\n      <Select\n        clearable={true}\n        onChange={this.handleSelectFieldChange('severity')}\n        optionRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n        options={options}\n        searchable={false}\n        value={this.state.severity}\n        valueRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n      />\n    );\n\n    return this.renderField('severity', 'issue.set_severity', affected, input);\n  };\n\n  renderTagOption = (option: TagOption) => {\n    return <span>{option.label}</span>;\n  };\n\n  renderTagsField = (field: 'addTags' | 'removeTags', label: string, allowCreate: boolean) => {\n    const { initialTags } = this.state;\n    const affected = this.state.issues.filter(hasAction('set_tags')).length;\n\n    if (initialTags === undefined || affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <TagSelect\n        canCreate={allowCreate}\n        clearable={true}\n        defaultOptions={this.state.initialTags}\n        minimumQueryLength={0}\n        multi={true}\n        onMultiSelect={this.handleTagsSelect(field)}\n        onSearch={this.handleTagsSearch}\n        promptTextCreator={promptCreateTag}\n        renderOption={this.renderTagOption}\n        resetOnBlur={false}\n        value={this.state[field]}\n      />\n    );\n\n    return this.renderField(field, label, affected, input);\n  };\n\n  renderTransitionsField = () => {\n    const transitions = this.getAvailableTransitions(this.state.issues);\n\n    if (transitions.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label>{translate('issue.transition')}</label>\n        {transitions.map(transition => (\n          <span key={transition.transition}>\n            <input\n              checked={this.state.transition === transition.transition}\n              id={`transition-${transition.transition}`}\n              name=\"do_transition.transition\"\n              onChange={this.handleFieldChange('transition')}\n              type=\"radio\"\n              value={transition.transition}\n            />\n            <label\n              htmlFor={`transition-${transition.transition}`}\n              style={{ float: 'none', display: 'inline', left: 0, cursor: 'pointer' }}>\n              {translate('issue.transition', transition.transition)}\n            </label>\n            {this.renderAffected(transition.count)}\n            <br />\n          </span>\n        ))}\n      </div>\n    );\n  };\n\n  renderCommentField = () => {\n    const affected = this.state.issues.filter(hasAction('comment')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label htmlFor=\"comment\">\n          <span className=\"text-middle\">{translate('issue.comment.formlink')}</span>\n          <HelpTooltip\n            className=\"spacer-left\"\n            overlay={translate('issue_bulk_change.comment.help')}\n          />\n        </label>\n        <div>\n          <textarea\n            id=\"comment\"\n            onChange={this.handleFieldChange('comment')}\n            rows={4}\n            style={{ width: '100%' }}\n            value={this.state.comment || ''}\n          />\n        </div>\n        <div className=\"pull-right\">\n          <MarkdownTips />\n        </div>\n      </div>\n    );\n  };\n\n  renderNotificationsField = () => (\n    <div className=\"modal-field\">\n      <label htmlFor=\"send-notifications\">{translate('issue.send_notifications')}</label>\n      {this.renderCheckbox('notifications')}\n    </div>\n  );\n\n  renderForm = () => {\n    const { issues, paging, submitting } = this.state;\n\n    const limitReached = paging !== undefined && paging.total > paging.pageIndex * paging.pageSize;\n\n    return (\n      <form id=\"bulk-change-form\" onSubmit={this.handleSubmit}>\n        <div className=\"modal-head\">\n          <h2>{translateWithParameters('issue_bulk_change.form.title', issues.length)}</h2>\n        </div>\n\n        <div className=\"modal-body\">\n          {limitReached && (\n            <div className=\"alert alert-warning\">\n              {translateWithParameters('issue_bulk_change.max_issues_reached', issues.length)}\n            </div>\n          )}\n\n          {this.renderAssigneeField()}\n          {this.renderTypeField()}\n          {this.renderSeverityField()}\n          {this.renderTagsField('addTags', 'issue.add_tags', true)}\n          {this.renderTagsField('removeTags', 'issue.remove_tags', false)}\n          {this.renderTransitionsField()}\n          {this.renderCommentField()}\n          {this.renderNotificationsField()}\n        </div>\n\n        <div className=\"modal-foot\">\n          {submitting && <i className=\"spinner spacer-right\" />}\n          <SubmitButton disabled={submitting} id=\"bulk-change-submit\">\n            {translate('apply')}\n          </SubmitButton>\n          {this.renderCancelButton()}\n        </div>\n      </form>\n    );\n  };\n\n  render() {\n    return (\n      <Modal contentLabel=\"modal\" onRequestClose={this.props.onClose}>\n        {this.state.loading ? this.renderLoading() : this.renderForm()}\n      </Modal>\n    );\n  }\n}\n\nfunction hasAction(action: string) {\n  return (issue: Issue) => issue.actions && issue.actions.includes(action);\n}\n\nfunction promptCreateTag(label: string) {\n  return `+ ${label}`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { getSelectedLocation } from '../utils';\nimport { BranchLike, Component, Issue } from '../../../app/types';\nimport Organization from '../../../components/shared/Organization';\nimport { collapsePath, limitComponentName } from '../../../helpers/path';\nimport { getBranchLikeUrl, getCodeUrl } from '../../../helpers/urls';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component?: Component;\n  issue: Pick<\n    Issue,\n    | 'component'\n    | 'componentLongName'\n    | 'flows'\n    | 'organization'\n    | 'project'\n    | 'projectName'\n    | 'secondaryLocations'\n    | 'subProject'\n    | 'subProjectName'\n  >;\n  link?: boolean;\n  organization: { key: string } | undefined;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nexport default function ComponentBreadcrumbs({\n  branchLike,\n  component,\n  link = true,\n  issue,\n  organization,\n  selectedFlowIndex,\n  selectedLocationIndex\n}: Props) {\n  const displayOrganization =\n    !organization && (!component || ['VW', 'SVW'].includes(component.qualifier));\n  const displayProject = !component || !['TRK', 'BRC', 'DIR'].includes(component.qualifier);\n  const displaySubProject = !component || !['BRC', 'DIR'].includes(component.qualifier);\n\n  const selectedLocation = getSelectedLocation(issue, selectedFlowIndex, selectedLocationIndex);\n  const componentKey = selectedLocation ? selectedLocation.component : issue.component;\n  const componentName = selectedLocation ? selectedLocation.componentName : issue.componentLongName;\n\n  return (\n    <div className=\"component-name text-ellipsis\">\n      {displayOrganization && (\n        <Organization\n          link={link}\n          linkClassName=\"link-no-underline\"\n          organizationKey={issue.organization}\n        />\n      )}\n\n      {displayProject && (\n        <span title={issue.projectName}>\n          {link ? (\n            <Link className=\"link-no-underline\" to={getBranchLikeUrl(issue.project, branchLike)}>\n              {limitComponentName(issue.projectName)}\n            </Link>\n          ) : (\n            limitComponentName(issue.projectName)\n          )}\n          <span className=\"slash-separator\" />\n        </span>\n      )}\n\n      {displaySubProject &&\n        issue.subProject !== undefined &&\n        issue.subProjectName !== undefined && (\n          <span title={issue.subProjectName}>\n            {link ? (\n              <Link\n                className=\"link-no-underline\"\n                to={getBranchLikeUrl(issue.subProject, branchLike)}>\n                {limitComponentName(issue.subProjectName)}\n              </Link>\n            ) : (\n              limitComponentName(issue.subProjectName)\n            )}\n            <span className=\"slash-separator\" />\n          </span>\n        )}\n\n      {link ? (\n        <Link\n          className=\"link-no-underline\"\n          to={getCodeUrl(issue.project, branchLike, componentKey)}>\n          <span title={componentName}>{collapsePath(componentName || '')}</span>\n        </Link>\n      ) : (\n        collapsePath(componentName || '')\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ComponentBreadcrumbs from './ComponentBreadcrumbs';\nimport { Query } from '../utils';\nimport { BranchLike, Issue as IssueType, Component } from '../../../app/types';\nimport Issue from '../../../components/issue/Issue';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  checked: boolean;\n  component: Component | undefined;\n  issue: IssueType;\n  onChange: (issue: IssueType) => void;\n  onCheck: ((issueKey: string, event: Event) => void) | undefined;\n  onClick: (issueKey: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: string | undefined;\n  organization: { key: string } | undefined;\n  previousIssue: IssueType | undefined;\n  selected: boolean;\n}\n\ninterface State {\n  similarIssues: boolean;\n}\n\nexport default class ListItem extends React.PureComponent<Props, State> {\n  state: State = { similarIssues: false };\n\n  handleFilter = (property: string, issue: IssueType) => {\n    const { onFilterChange } = this.props;\n\n    const issuesReset = { issues: [] };\n\n    if (property.startsWith('tag###')) {\n      const tag = property.substr(6);\n      onFilterChange({ ...issuesReset, tags: [tag] });\n    } else {\n      switch (property) {\n        case 'type':\n          onFilterChange({ ...issuesReset, types: [issue.type] });\n          break;\n        case 'severity':\n          onFilterChange({ ...issuesReset, severities: [issue.severity] });\n          break;\n        case 'status':\n          onFilterChange({ ...issuesReset, statuses: [issue.status] });\n          break;\n        case 'resolution':\n          if (issue.resolution) {\n            onFilterChange({ ...issuesReset, resolved: true, resolutions: [issue.resolution] });\n          } else {\n            onFilterChange({ ...issuesReset, resolved: false, resolutions: [] });\n          }\n          break;\n        case 'assignee':\n          if (issue.assignee) {\n            onFilterChange({ ...issuesReset, assigned: true, assignees: [issue.assignee] });\n          } else {\n            onFilterChange({ ...issuesReset, assigned: false, assignees: [] });\n          }\n          break;\n        case 'rule':\n          onFilterChange({ ...issuesReset, rules: [issue.rule] });\n          break;\n        case 'project':\n          onFilterChange({ ...issuesReset, projects: [issue.projectUuid] });\n          break;\n        case 'module':\n          if (issue.subProjectUuid) {\n            onFilterChange({ ...issuesReset, modules: [issue.subProjectUuid] });\n          }\n          break;\n        case 'file':\n          onFilterChange({ ...issuesReset, files: [issue.componentUuid] });\n      }\n    }\n  };\n\n  render() {\n    const { branchLike, component, issue, previousIssue } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div className=\"issues-workspace-list-item\">\n        {displayComponent && (\n          <div className=\"issues-workspace-list-component note\">\n            <ComponentBreadcrumbs\n              branchLike={branchLike}\n              component={component}\n              issue={this.props.issue}\n              link={false}\n              organization={this.props.organization}\n            />\n          </div>\n        )}\n        <Issue\n          branchLike={branchLike}\n          checked={this.props.checked}\n          displayLocationsLink={false}\n          issue={issue}\n          onChange={this.props.onChange}\n          onCheck={this.props.onCheck}\n          onClick={this.props.onClick}\n          onFilter={this.handleFilter}\n          onPopupToggle={this.props.onPopupToggle}\n          openPopup={this.props.openPopup}\n          selected={this.props.selected}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ListItem from './ListItem';\nimport { Query } from '../utils';\nimport { BranchLike, Component, Issue } from '../../../app/types';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  checked: string[];\n  component: Component | undefined;\n  issues: Issue[];\n  onFilterChange: (changes: Partial<Query>) => void;\n  onIssueChange: (issue: Issue) => void;\n  onIssueCheck: ((issueKey: string, event: Event) => void) | undefined;\n  onIssueClick: (issueKey: string) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: { issue: string; name: string } | undefined;\n  organization: { key: string } | undefined;\n  selectedIssue: Issue | undefined;\n}\n\nexport default class IssuesList extends React.PureComponent<Props> {\n  render() {\n    const { branchLike, checked, component, issues, openPopup, selectedIssue } = this.props;\n\n    return (\n      <div>\n        {issues.map((issue, index) => (\n          <ListItem\n            branchLike={branchLike}\n            checked={checked.includes(issue.key)}\n            component={component}\n            issue={issue}\n            key={issue.key}\n            onChange={this.props.onIssueChange}\n            onCheck={this.props.onIssueCheck}\n            onClick={this.props.onIssueClick}\n            onFilterChange={this.props.onFilterChange}\n            onPopupToggle={this.props.onPopupToggle}\n            openPopup={openPopup && openPopup.issue === issue.key ? openPopup.name : undefined}\n            organization={this.props.organization}\n            previousIssue={index > 0 ? issues[index - 1] : undefined}\n            selected={selectedIssue != null && selectedIssue.key === issue.key}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getLocations, getSelectedLocation } from '../utils';\nimport { BranchLike, Issue } from '../../../app/types';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport { scrollToElement } from '../../../helpers/scrolling';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  loadIssues: (component: string, from: number, to: number) => Promise<Issue[]>;\n  locationsNavigator: boolean;\n  onIssueChange: (issue: Issue) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  openIssue: Issue;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class IssuesSourceViewer extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidUpdate(prevProps: Props) {\n    const { openIssue, selectedLocationIndex } = this.props;\n\n    // Scroll back to the issue when the selected location is set to -1\n    const shouldScrollBackToIssue =\n      selectedLocationIndex === -1 && selectedLocationIndex !== prevProps.selectedLocationIndex;\n    if (\n      prevProps.openIssue.component === openIssue.component &&\n      (prevProps.openIssue !== openIssue || shouldScrollBackToIssue)\n    ) {\n      this.scrollToIssue();\n    }\n  }\n\n  scrollToIssue = (smooth = true) => {\n    if (this.node) {\n      const element = this.node.querySelector(`[data-issue=\"${this.props.openIssue.key}\"]`);\n      if (element) {\n        this.handleScroll(element, smooth);\n      }\n    }\n  };\n\n  handleScroll = (element: Element, smooth = true) => {\n    const offset = window.innerHeight / 2;\n    scrollToElement(element, { topOffset: offset - 100, bottomOffset: offset, smooth });\n  };\n\n  handleLoaded = () => {\n    this.scrollToIssue(false);\n  };\n\n  render() {\n    const { openIssue, selectedFlowIndex, selectedLocationIndex } = this.props;\n\n    const locations = getLocations(openIssue, selectedFlowIndex);\n    const selectedLocation = getSelectedLocation(\n      openIssue,\n      selectedFlowIndex,\n      selectedLocationIndex\n    );\n\n    const component = selectedLocation ? selectedLocation.component : openIssue.component;\n\n    // if location is selected, show (and load) code around it\n    // otherwise show code around the open issue\n    const aroundLine = selectedLocation\n      ? selectedLocation.textRange.startLine\n      : openIssue.textRange && openIssue.textRange.endLine;\n\n    // replace locations in another file with `undefined` to keep the same location indexes\n    const highlightedLocations = locations.map(\n      location => (location.component === component ? location : undefined)\n    );\n\n    const highlightedLocationMessage =\n      this.props.locationsNavigator && selectedLocationIndex !== undefined\n        ? selectedLocation && { index: selectedLocationIndex, text: selectedLocation.msg }\n        : undefined;\n\n    const allMessagesEmpty = locations !== undefined && locations.every(location => !location.msg);\n\n    // do not load issues when open another file for a location\n    const loadIssues =\n      component === openIssue.component ? this.props.loadIssues : () => Promise.resolve([]);\n    const selectedIssue = component === openIssue.component ? openIssue.key : undefined;\n\n    return (\n      <div ref={node => (this.node = node)}>\n        <SourceViewer\n          aroundLine={aroundLine}\n          branchLike={this.props.branchLike}\n          component={component}\n          displayAllIssues={true}\n          displayIssueLocationsCount={false}\n          displayIssueLocationsLink={false}\n          displayLocationMarkers={!allMessagesEmpty}\n          highlightedLocationMessage={highlightedLocationMessage}\n          highlightedLocations={highlightedLocations}\n          loadIssues={loadIssues}\n          onIssueChange={this.props.onIssueChange}\n          onIssueSelect={this.props.onIssueSelect}\n          onLoaded={this.handleLoaded}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.handleScroll}\n          selectedIssue={selectedIssue}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  myIssues: boolean;\n  onMyIssuesChange: (myIssues: boolean) => void;\n}\n\nexport default class MyIssuesFilter extends React.PureComponent<Props> {\n  handleClick = (myIssues: boolean) => () => {\n    this.props.onMyIssuesChange(myIssues);\n  };\n\n  render() {\n    const { myIssues } = this.props;\n\n    return (\n      <div className=\"issues-my-issues-filter\">\n        <div className=\"button-group\">\n          <Button\n            className={myIssues ? 'button-active' : undefined}\n            onClick={this.handleClick(true)}>\n            {translate('issues.my_issues')}\n          </Button>\n          <Button\n            className={myIssues ? undefined : 'button-active'}\n            onClick={this.handleClick(false)}>\n            {translate('all')}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoMyIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_my_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport PageCounter from '../../../components/common/PageCounter';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  current: number | undefined;\n  total: number;\n}\n\nexport default function IssuesCounter(props: Props) {\n  return (\n    <PageCounter\n      className=\"spacer-left flash flash-heavy\"\n      current={props.current}\n      label={translate('issues.issues')}\n      total={props.total}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  onClick: () => void;\n}\n\n/* eslint-disable max-len */\nconst icon = (\n  <svg height=\"24\" viewBox=\"0 0 18 24\" width=\"18\">\n    <path d=\"M16.6454 8.1084c-.3-.5-.9-.7-1.4-.4-.5.3-.7.9-.4 1.4.9 1.6 1.1 3.4.6 5.1-.5 1.7-1.7 3.2-3.2 4-3.3 1.8-7.4.6-9.1-2.7-1.8-3.1-.8-6.9 2.1-8.8v3.3h2v-7h-7v2h3.9c-3.7 2.5-5 7.5-2.8 11.4 1.6 3 4.6 4.6 7.7 4.6 1.4 0 2.8-.3 4.2-1.1 2-1.1 3.5-3 4.2-5.2.6-2.2.3-4.6-.8-6.6z\" />\n  </svg>\n);\n/* eslint-enable max-len */\n\nexport default function ReloadButton(props: Props) {\n  const handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    props.onClick();\n  };\n\n  return (\n    <Tooltip overlay={translate('reload')}>\n      <a\n        className={classNames('concise-issues-list-header-button', props.className)}\n        href=\"#\"\n        onClick={handleClick}>\n        {icon}\n      </a>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssuesCounter from './IssuesCounter';\nimport ReloadButton from './ReloadButton';\nimport { HomePageType, Paging } from '../../../app/types';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport HomePageSelect from '../../../components/controls/HomePageSelect';\nimport { translate } from '../../../helpers/l10n';\nimport { isSonarCloud } from '../../../helpers/system';\n\ninterface Props {\n  canSetHome: boolean;\n  loading: boolean;\n  onReload: () => void;\n  paging: Paging | undefined;\n  selectedIndex: number | undefined;\n}\n\nexport default class PageActions extends React.PureComponent<Props> {\n  renderShortcuts() {\n    return (\n      <span className=\"note big-spacer-right\">\n        <span className=\"big-spacer-right\">\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          {translate('issues.to_select_issues')}\n        </span>\n\n        <span>\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          {translate('issues.to_navigate')}\n        </span>\n      </span>\n    );\n  }\n\n  render() {\n    const { paging, selectedIndex } = this.props;\n\n    return (\n      <div className=\"pull-right\">\n        {this.renderShortcuts()}\n\n        <div className=\"issues-page-actions\">\n          <DeferredSpinner className=\"issues-main-header-spinner\" loading={this.props.loading}>\n            <ReloadButton onClick={this.props.onReload} />\n          </DeferredSpinner>\n          {paging != null && (\n            <IssuesCounter className=\"spacer-left\" current={selectedIndex} total={paging.total} />\n          )}\n        </div>\n\n        {this.props.canSetHome && (\n          <HomePageSelect\n            className=\"huge-spacer-left\"\n            currentPage={\n              isSonarCloud() ? { type: HomePageType.MyIssues } : { type: HomePageType.Issues }\n            }\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LocationIndex from '../../../components/common/LocationIndex';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\ninterface Props {\n  count: number;\n  onClick?: () => void;\n  selected: boolean;\n}\n\nexport default function ConciseIssueLocationBadge(props: Props) {\n  return (\n    <Tooltip\n      mouseEnterDelay={0.5}\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(props.count, 'INT')\n      )}>\n      <LocationIndex onClick={props.onClick} selected={props.selected}>\n        {'+'}\n        {props.count}\n      </LocationIndex>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueLocationBadge from './ConciseIssueLocationBadge';\nimport { Issue } from '../../../app/types';\n\ninterface Props {\n  issue: Pick<Issue, 'flows' | 'secondaryLocations'>;\n  onFlowSelect: (index: number) => void;\n  selectedFlowIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\nconst LIMIT = 3;\n\nexport default class ConciseIssueLocations extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  handleExpandClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState({ collapsed: false });\n  };\n\n  renderExpandButton() {\n    return (\n      <a className=\"little-spacer-left link-no-underline\" href=\"#\" onClick={this.handleExpandClick}>\n        ...\n      </a>\n    );\n  }\n\n  render() {\n    const { secondaryLocations, flows } = this.props.issue;\n\n    const badges: JSX.Element[] = [];\n\n    if (secondaryLocations.length > 0) {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={secondaryLocations.length}\n          key=\"-1\"\n          selected={!this.props.selectedFlowIndex}\n        />\n      );\n    }\n\n    flows.forEach((flow, index) => {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={flow.length}\n          key={index}\n          onClick={() => this.props.onFlowSelect(index)}\n          selected={index === this.props.selectedFlowIndex}\n        />\n      );\n    });\n\n    return this.state.collapsed ? (\n      <div className=\"concise-issue-locations pull-right\">\n        {badges.slice(0, LIMIT)}\n        {badges.length > LIMIT && this.renderExpandButton()}\n      </div>\n    ) : (\n      <div className=\"concise-issue-locations spacer-top\">{badges}</div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LocationIndex from '../../../components/common/LocationIndex';\nimport LocationMessage from '../../../components/common/LocationMessage';\n\ninterface Props {\n  index: number;\n  message: string | undefined;\n  onClick: (index: number) => void;\n  scroll: (element: Element) => void;\n  selected: boolean;\n}\n\nexport default class ConciseIssueLocationsNavigatorLocation extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.index);\n  };\n\n  render() {\n    return (\n      <div className=\"little-spacer-top\" ref={node => (this.node = node)}>\n        <a\n          className=\"concise-issue-locations-navigator-location\"\n          href=\"#\"\n          onClick={this.handleClick}>\n          <LocationIndex selected={this.props.selected}>{this.props.index + 1}</LocationIndex>\n          <LocationMessage selected={this.props.selected}>{this.props.message}</LocationMessage>\n        </a>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\nimport { Issue, FlowLocation } from '../../../app/types';\nimport { translateWithParameters } from '../../../helpers/l10n';\nimport { collapsePath } from '../../../helpers/path';\n\ninterface Props {\n  issue: Pick<Issue, 'key'>;\n  locations: FlowLocation[];\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedLocationIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\ninterface LocationGroup {\n  component: string | undefined;\n  componentName: string | undefined;\n  firstLocationIndex: number;\n  locations: FlowLocation[];\n}\n\nexport default class CrossFileLocationsNavigator extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.issue.key !== this.props.issue.key) {\n      this.setState({ collapsed: true });\n    }\n\n    // expand locations list as soon as a location in the middle of the list is selected\n    const { locations: nextLocations } = nextProps;\n    if (\n      nextProps.selectedLocationIndex &&\n      nextProps.selectedLocationIndex > 0 &&\n      nextLocations !== undefined &&\n      nextProps.selectedLocationIndex < nextLocations.length - 1\n    ) {\n      this.setState({ collapsed: false });\n    }\n  }\n\n  handleMoreLocationsClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ collapsed: false });\n  };\n\n  groupByFile = (locations: FlowLocation[]) => {\n    const groups: LocationGroup[] = [];\n\n    let currentLocations: FlowLocation[] = [];\n    let currentComponent: string | undefined;\n    let currentComponentName: string | undefined;\n    let currentFirstLocationIndex = 0;\n\n    for (let index = 0; index < locations.length; index++) {\n      const location = locations[index];\n      if (location.component === currentComponent) {\n        currentLocations.push(location);\n      } else {\n        if (currentLocations.length > 0) {\n          groups.push({\n            component: currentComponent,\n            componentName: currentComponentName,\n            firstLocationIndex: currentFirstLocationIndex,\n            locations: currentLocations\n          });\n        }\n        currentLocations = [location];\n        currentComponent = location.component;\n        currentComponentName = location.componentName;\n        currentFirstLocationIndex = index;\n      }\n    }\n\n    if (currentLocations.length > 0) {\n      groups.push({\n        component: currentComponent,\n        componentName: currentComponentName,\n        firstLocationIndex: currentFirstLocationIndex,\n        locations: currentLocations\n      });\n    }\n\n    return groups;\n  };\n\n  renderLocation = (index: number, message: string | undefined) => {\n    return (\n      <ConciseIssueLocationsNavigatorLocation\n        index={index}\n        key={index}\n        message={message}\n        onClick={this.props.onLocationSelect}\n        scroll={this.props.scroll}\n        selected={index === this.props.selectedLocationIndex}\n      />\n    );\n  };\n\n  renderGroup = (\n    group: LocationGroup,\n    groupIndex: number,\n    { onlyFirst = false, onlyLast = false } = {}\n  ) => {\n    const { firstLocationIndex } = group;\n    const lastLocationIndex = group.locations.length - 1;\n    return (\n      <div className=\"concise-issue-locations-navigator-file\" key={groupIndex}>\n        <div className=\"concise-issue-location-file\">\n          <i className=\"concise-issue-location-file-circle little-spacer-right\" />\n          {collapsePath(group.componentName || '', 15)}\n        </div>\n        {group.locations.length > 0 && (\n          <div className=\"concise-issue-location-file-locations\">\n            {onlyFirst && this.renderLocation(firstLocationIndex, group.locations[0].msg)}\n\n            {onlyLast &&\n              this.renderLocation(\n                firstLocationIndex + lastLocationIndex,\n                group.locations[lastLocationIndex].msg\n              )}\n\n            {!onlyFirst &&\n              !onlyLast &&\n              group.locations.map((location, index) =>\n                this.renderLocation(firstLocationIndex + index, location.msg)\n              )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  render() {\n    const { locations } = this.props;\n    const groups = this.groupByFile(locations);\n\n    if (locations.length > 2 && groups.length > 1 && this.state.collapsed) {\n      const firstGroup = groups[0];\n      const lastGroup = groups[groups.length - 1];\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {this.renderGroup(firstGroup, 0, { onlyFirst: true })}\n          <div className=\"concise-issue-locations-navigator-file\">\n            <div className=\"concise-issue-location-file\">\n              <i className=\"concise-issue-location-file-circle-multiple little-spacer-right\" />\n              <a\n                className=\"concise-issue-location-file-more\"\n                href=\"#\"\n                onClick={this.handleMoreLocationsClick}>\n                {translateWithParameters('issues.x_more_locations', locations.length - 2)}\n              </a>\n            </div>\n          </div>\n          {this.renderGroup(lastGroup, groups.length - 1, { onlyLast: true })}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {groups.map((group, groupIndex) => this.renderGroup(group, groupIndex))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { uniq } from 'lodash';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\nimport CrossFileLocationsNavigator from './CrossFileLocationsNavigator';\nimport { getLocations } from '../utils';\nimport { Issue } from '../../../app/types';\n\ninterface Props {\n  issue: Pick<Issue, 'component' | 'key' | 'flows' | 'secondaryLocations'>;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueLocationsNavigator extends React.PureComponent<Props> {\n  render() {\n    const locations = getLocations(this.props.issue, this.props.selectedFlowIndex);\n\n    if (!locations || locations.length === 0 || locations.every(location => !location.msg)) {\n      return null;\n    }\n\n    const locationComponents = [\n      this.props.issue.component,\n      ...locations.map(location => location.component)\n    ];\n    const isCrossFile = uniq(locationComponents).length > 1;\n\n    if (isCrossFile) {\n      return (\n        <CrossFileLocationsNavigator\n          issue={this.props.issue}\n          locations={locations}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selectedLocationIndex={this.props.selectedLocationIndex}\n        />\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {locations.map((location, index) => (\n            <ConciseIssueLocationsNavigatorLocation\n              index={index}\n              key={index}\n              message={location.msg}\n              onClick={this.props.onLocationSelect}\n              scroll={this.props.scroll}\n              selected={index === this.props.selectedLocationIndex}\n            />\n          ))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport ConciseIssueLocations from './ConciseIssueLocations';\nimport ConciseIssueLocationsNavigator from './ConciseIssueLocationsNavigator';\nimport { Issue } from '../../../app/types';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport TypeHelper from '../../../components/shared/TypeHelper';\n\ninterface Props {\n  issue: Issue;\n  onClick: (issueKey: string) => void;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element, bottomOffset?: number) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueBox extends React.PureComponent<Props> {\n  messageElement?: HTMLElement | null;\n  rootElement?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  handleScroll = () => {\n    const { selectedFlowIndex } = this.props;\n    const { flows, secondaryLocations } = this.props.issue;\n\n    const locations =\n      selectedFlowIndex !== undefined\n        ? flows[selectedFlowIndex]\n        : flows.length > 0 ? flows[0] : secondaryLocations;\n\n    if (!locations || locations.length < 15) {\n      // if there are no locations, or there are just few\n      // then ensuse that the whole box is visible\n      if (this.rootElement) this.props.scroll(this.rootElement);\n    } else if (this.messageElement) {\n      // otherwise scroll until the the message element is located on top\n      this.props.scroll(this.messageElement, window.innerHeight - 250);\n    }\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.issue.key);\n  };\n\n  render() {\n    const { issue, selected } = this.props;\n\n    const clickAttributesMain = selected\n      ? {}\n      : { onClick: this.handleClick, role: 'listitem', tabIndex: 0 };\n\n    const clickAttributesTitle = selected\n      ? { onClick: this.handleClick, role: 'listitem', tabIndex: 0 }\n      : {};\n\n    return (\n      <div\n        className={classNames('concise-issue-box', 'clearfix', { selected })}\n        ref={node => (this.rootElement = node)}\n        {...clickAttributesMain}>\n        <div\n          className=\"concise-issue-box-message\"\n          {...clickAttributesTitle}\n          ref={node => (this.messageElement = node)}>\n          {issue.message}\n        </div>\n        <div className=\"concise-issue-box-attributes\">\n          <TypeHelper type={issue.type} />\n          <SeverityHelper className=\"big-spacer-left\" severity={issue.severity} />\n          <ConciseIssueLocations\n            issue={issue}\n            onFlowSelect={this.props.onFlowSelect}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n          />\n        </div>\n        {selected && (\n          <ConciseIssueLocationsNavigator\n            issue={issue}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.props.scroll}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n            selectedLocationIndex={this.props.selectedLocationIndex}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { collapsePath } from '../../../helpers/path';\n\ninterface Props {\n  path: string;\n}\n\nexport default function ConciseIssueComponent(props: Props) {\n  return (\n    <div className=\"concise-issue-component note text-ellipsis\">{collapsePath(props.path, 20)}</div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueBox from './ConciseIssueBox';\nimport ConciseIssueComponent from './ConciseIssueComponent';\nimport { Issue } from '../../../app/types';\n\ninterface Props {\n  issue: Issue;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  onSelect: (issueKey: string) => void;\n  previousIssue: Issue | undefined;\n  scroll: (element: Element) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssue extends React.PureComponent<Props> {\n  render() {\n    const { issue, previousIssue, selected } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div>\n        {displayComponent && <ConciseIssueComponent path={issue.componentLongName} />}\n        <ConciseIssueBox\n          issue={issue}\n          onClick={this.props.onSelect}\n          onFlowSelect={this.props.onFlowSelect}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selected={selected}\n          selectedFlowIndex={selected ? this.props.selectedFlowIndex : undefined}\n          selectedLocationIndex={selected ? this.props.selectedLocationIndex : undefined}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssue from './ConciseIssue';\nimport { Issue } from '../../../app/types';\nimport { scrollToElement } from '../../../helpers/scrolling';\n\ninterface Props {\n  issues: Issue[];\n  onFlowSelect: (index: number) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  selected: string | undefined;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssuesList extends React.PureComponent<Props> {\n  handleScroll = (element: Element, bottomOffset = 100) => {\n    const scrollableElement = document.querySelector('.layout-page-side');\n    if (element && scrollableElement) {\n      scrollToElement(element, { topOffset: 150, bottomOffset, parent: scrollableElement });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        {this.props.issues.map((issue, index) => (\n          <ConciseIssue\n            issue={issue}\n            key={issue.key}\n            onFlowSelect={this.props.onFlowSelect}\n            onLocationSelect={this.props.onLocationSelect}\n            onSelect={this.props.onIssueSelect}\n            previousIssue={index > 0 ? this.props.issues[index - 1] : undefined}\n            scroll={this.handleScroll}\n            selected={issue.key === this.props.selected}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n            selectedLocationIndex={this.props.selectedLocationIndex}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  onClick: () => void;\n}\n\n/* eslint-disable max-len */\nconst icon = (\n  <svg height=\"24\" viewBox=\"0 0 21 24\" width=\"21\">\n    <path d=\"M3.845 12.9992l5.993 5.993.052.056c.049.061.093.122.129.191.082.159.121.339.111.518-.006.102-.028.203-.064.298-.149.39-.537.652-.954.644-.102-.002-.204-.019-.301-.052-.148-.05-.273-.135-.387-.241l-8.407-8.407 8.407-8.407.056-.052c.061-.048.121-.092.19-.128.116-.06.237-.091.366-.108.076-.004.075-.004.153-.003.155.015.3.052.437.129.088.051.169.115.239.19.246.266.33.656.214.999-.051.149-.135.273-.241.387l-5.983 5.984c5.287-.044 10.577-.206 15.859.013.073.009.091.009.163.027.187.047.359.15.49.292.075.081.136.175.18.276.044.101.072.209.081.319.032.391-.175.775-.521.962-.097.052-.202.089-.311.107-.073.012-.091.01-.165.013H3.845z\" />\n  </svg>\n);\n/* eslint-enable max-len */\n\nexport default function BackButton(props: Props) {\n  const handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    props.onClick();\n  };\n\n  return (\n    <Tooltip overlay={translate('issues.return_to_list')}>\n      <a\n        className={classNames('concise-issues-list-header-button', props.className)}\n        href=\"#\"\n        onClick={handleClick}>\n        {icon}\n      </a>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BackButton from './BackButton';\nimport ReloadButton from '../components/ReloadButton';\nimport IssuesCounter from '../components/IssuesCounter';\nimport { Paging } from '../../../app/types';\n\ninterface Props {\n  displayBackButton?: boolean;\n  loading: boolean;\n  onBackClick: () => void;\n  onReload: () => void;\n  paging: Paging | undefined;\n  selectedIndex: number | undefined;\n}\n\nexport default function ConciseIssuesListHeader(props: Props) {\n  const { displayBackButton = true, paging, selectedIndex } = props;\n\n  return (\n    <header className=\"layout-page-header-panel concise-issues-list-header\">\n      <div className=\"layout-page-header-panel-inner concise-issues-list-header-inner\">\n        {displayBackButton && <BackButton className=\"pull-left\" onClick={props.onBackClick} />}\n        {props.loading ? (\n          <i className=\"spinner pull-right\" />\n        ) : (\n          <ReloadButton className=\"pull-right\" onClick={props.onReload} />\n        )}\n        {paging && <IssuesCounter current={selectedIndex} total={paging.total} />}\n      </div>\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, uniq, without } from 'lodash';\nimport { searchAssignees, formatFacetStat, Query, ReferencedUser } from '../utils';\nimport { Component } from '../../../app/types';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetFooter from '../../../components/facet/FacetFooter';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport Avatar from '../../../components/ui/Avatar';\nimport { translate } from '../../../helpers/l10n';\n\nexport interface Props {\n  assigned: boolean;\n  assignees: string[];\n  component: Component | undefined;\n  facetMode: string;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: { key: string } | undefined;\n  stats: { [x: string]: number } | undefined;\n  referencedUsers: { [login: string]: ReferencedUser };\n}\n\nexport default class AssigneeFacet extends React.PureComponent<Props> {\n  property = 'assignees';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { assignees } = this.props;\n    if (itemValue === '') {\n      // unassigned\n      this.props.onChange({ assigned: !this.props.assigned, assignees: [] });\n    } else if (multiple) {\n      const newValue = sortBy(\n        assignees.includes(itemValue) ? without(assignees, itemValue) : [...assignees, itemValue]\n      );\n      this.props.onChange({ assigned: true, [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        assigned: true,\n        [this.property]: assignees.includes(itemValue) && assignees.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ assigned: true, assignees: [] });\n  };\n\n  handleSearch = (query: string) => {\n    let organization = this.props.component && this.props.component.organization;\n    if (this.props.organization && !organization) {\n      organization = this.props.organization.key;\n    }\n    return searchAssignees(query, organization);\n  };\n\n  handleSelect = (option: { value: string }) => {\n    const { assignees } = this.props;\n    this.props.onChange({ assigned: true, [this.property]: uniq([...assignees, option.value]) });\n  };\n\n  isAssigneeActive(assignee: string) {\n    return assignee === '' ? !this.props.assigned : this.props.assignees.includes(assignee);\n  }\n\n  getAssigneeName(assignee: string) {\n    if (assignee === '') {\n      return translate('unassigned');\n    } else {\n      const { referencedUsers } = this.props;\n      if (referencedUsers[assignee]) {\n        return (\n          <span>\n            <Avatar\n              className=\"little-spacer-right\"\n              hash={referencedUsers[assignee].avatar}\n              name={referencedUsers[assignee].name}\n              size={16}\n            />\n            {referencedUsers[assignee].name}\n          </span>\n        );\n      } else {\n        return assignee;\n      }\n    }\n  }\n\n  getStat(assignee: string) {\n    const { stats } = this.props;\n    return stats ? stats[assignee] : undefined;\n  }\n\n  getValues() {\n    const values = this.props.assignees.map(assignee => {\n      const user = this.props.referencedUsers[assignee];\n      return user ? user.name : assignee;\n    });\n    if (!this.props.assigned) {\n      values.push(translate('unassigned'));\n    }\n    return values;\n  }\n\n  renderOption = (option: { avatar: string; label: string }) => {\n    return (\n      <span>\n        {option.avatar !== undefined && (\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={option.avatar}\n            name={option.label}\n            size={16}\n          />\n        )}\n        {option.label}\n      </span>\n    );\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const assignees = sortBy(\n      Object.keys(stats),\n      // put unassigned first\n      key => (key === '' ? 0 : 1),\n      // the sort by number\n      key => -stats[key]\n    );\n\n    return (\n      <FacetItemsList>\n        {assignees.map(assignee => (\n          <FacetItem\n            active={this.isAssigneeActive(assignee)}\n            key={assignee}\n            loading={this.props.loading}\n            name={this.getAssigneeName(assignee)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(assignee), this.props.facetMode)}\n            tooltip={this.props.assignees.length === 1 && !this.isAssigneeActive(assignee)}\n            value={assignee}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  renderFooter() {\n    if (!this.props.stats) {\n      return null;\n    }\n\n    return (\n      <FacetFooter\n        onSearch={this.handleSearch}\n        onSelect={this.handleSelect}\n        renderOption={this.renderOption}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderList()}\n        {this.props.open && this.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  facetMode: string;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: { [x: string]: number } | undefined;\n  authors: string[];\n}\n\nexport default class AuthorFacet extends React.PureComponent<Props> {\n  property = 'authors';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { authors } = this.props;\n    if (multiple) {\n      const newValue = sortBy(\n        authors.includes(itemValue) ? without(authors, itemValue) : [...authors, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: authors.includes(itemValue) && authors.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(author: string) {\n    const { stats } = this.props;\n    return stats ? stats[author] : undefined;\n  }\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const authors = sortBy(Object.keys(stats), key => -stats[key]);\n\n    return (\n      <FacetItemsList>\n        {authors.map(author => (\n          <FacetItem\n            active={this.props.authors.includes(author)}\n            key={author}\n            loading={this.props.loading}\n            name={author}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(author), this.props.facetMode)}\n            tooltip={this.props.authors.length === 1 && !this.props.authors.includes(author)}\n            value={author}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.props.authors}\n        />\n\n        {this.props.open && this.renderList()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { max } from 'd3-array';\nimport { scaleLinear, scaleBand, ScaleLinear, ScaleBand } from 'd3-scale';\nimport Tooltip from '../controls/Tooltip';\nimport './BarChart.css';\n\ninterface DataPoint {\n  tooltip?: React.ReactNode;\n  x: number;\n  y: number;\n}\n\ninterface Props<T> {\n  barsWidth: number;\n  data: Array<DataPoint & T>;\n  height: number;\n  onBarClick?: (point: DataPoint & T) => void;\n  padding?: [number, number, number, number];\n  width: number;\n  xTicks?: string[];\n  xValues?: string[];\n}\n\nexport default class BarChart<T> extends React.PureComponent<Props<T>> {\n  handleClick = (point: DataPoint & T) => {\n    if (this.props.onBarClick) {\n      this.props.onBarClick(point);\n    }\n  };\n\n  renderXTicks = (xScale: ScaleBand<number>, yScale: ScaleLinear<number, number>) => {\n    const { data, xTicks = [] } = this.props;\n\n    if (!xTicks.length) {\n      return null;\n    }\n\n    const ticks = xTicks.map((tick, index) => {\n      const point = data[index];\n      const x = Math.round((xScale(point.x) as number) + xScale.bandwidth() / 2);\n      const y = yScale.range()[0];\n      const d = data[index];\n      const text = (\n        <text\n          className=\"bar-chart-tick\"\n          dy=\"1.5em\"\n          key={index}\n          onClick={() => this.handleClick(point)}\n          style={{ cursor: this.props.onBarClick ? 'pointer' : 'default' }}\n          x={x}\n          y={y}>\n          {tick}\n        </text>\n      );\n      return (\n        <Tooltip key={index} overlay={d.tooltip || undefined}>\n          {text}\n        </Tooltip>\n      );\n    });\n    return <g>{ticks}</g>;\n  };\n\n  renderXValues = (xScale: ScaleBand<number>, yScale: ScaleLinear<number, number>) => {\n    const { data, xValues = [] } = this.props;\n\n    if (!xValues.length) {\n      return null;\n    }\n\n    const ticks = xValues.map((value, index) => {\n      const point = data[index];\n      const x = Math.round((xScale(point.x) as number) + xScale.bandwidth() / 2);\n      const y = yScale(point.y);\n      const text = (\n        <text\n          className=\"bar-chart-tick\"\n          dy=\"-1em\"\n          key={index}\n          onClick={() => this.handleClick(point)}\n          style={{ cursor: this.props.onBarClick ? 'pointer' : 'default' }}\n          x={x}\n          y={y}>\n          {value}\n        </text>\n      );\n      return (\n        <Tooltip key={index} overlay={point.tooltip || undefined}>\n          {text}\n        </Tooltip>\n      );\n    });\n    return <g>{ticks}</g>;\n  };\n\n  renderBars = (xScale: ScaleBand<number>, yScale: ScaleLinear<number, number>) => {\n    const bars = this.props.data.map((point, index) => {\n      const x = Math.round(xScale(point.x) as number);\n      const maxY = yScale.range()[0];\n      const y = Math.round(yScale(point.y)) - /* minimum bar height */ 1;\n      const height = maxY - y;\n      const rect = (\n        <rect\n          className=\"bar-chart-bar\"\n          height={height}\n          key={index}\n          onClick={() => this.handleClick(point)}\n          style={{ cursor: this.props.onBarClick ? 'pointer' : 'default' }}\n          width={this.props.barsWidth}\n          x={x}\n          y={y}\n        />\n      );\n      return (\n        <Tooltip key={index} overlay={point.tooltip || undefined}>\n          {rect}\n        </Tooltip>\n      );\n    });\n    return <g>{bars}</g>;\n  };\n\n  render() {\n    const { barsWidth, data, width, height, padding = [10, 10, 10, 10] } = this.props;\n\n    const availableWidth = width - padding[1] - padding[3];\n    const availableHeight = height - padding[0] - padding[2];\n\n    const innerPadding = (availableWidth - barsWidth * data.length) / (data.length - 1);\n    const relativeInnerPadding = innerPadding / (innerPadding + barsWidth);\n\n    const maxY = max(data, d => d.y) as number;\n    const xScale = scaleBand<number>()\n      .domain(data.map(d => d.x))\n      .range([0, availableWidth])\n      .paddingInner(relativeInnerPadding);\n    const yScale = scaleLinear()\n      .domain([0, maxY])\n      .range([availableHeight, 0]);\n\n    return (\n      <svg className=\"bar-chart\" height={height} width={width}>\n        <g transform={`translate(${padding[3]}, ${padding[0]})`}>\n          {this.renderXTicks(xScale, yScale)}\n          {this.renderXValues(xScale, yScale)}\n          {this.renderBars(xScale, yScale)}\n        </g>\n      </svg>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { max } from 'lodash';\nimport { intlShape } from 'react-intl';\nimport { Query } from '../utils';\nimport { Component } from '../../../app/types';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport { longFormatterOption } from '../../../components/intl/DateFormatter';\nimport DateFromNow from '../../../components/intl/DateFromNow';\nimport DateTimeFormatter from '../../../components/intl/DateTimeFormatter';\nimport BarChart from '../../../components/charts/BarChart';\nimport DateRangeInput from '../../../components/controls/DateRangeInput';\nimport { isSameDay, parseDate } from '../../../helpers/dates';\nimport { translate } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\ninterface Props {\n  component: Component | undefined;\n  createdAfter: Date | undefined;\n  createdAt: string;\n  createdBefore: Date | undefined;\n  createdInLast: string;\n  facetMode: string;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  sinceLeakPeriod: boolean;\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class CreationDateFacet extends React.PureComponent<Props> {\n  property = 'createdAt';\n\n  static defaultProps = {\n    open: true\n  };\n\n  static contextTypes = {\n    intl: intlShape\n  };\n\n  hasValue = () =>\n    this.props.createdAfter !== undefined ||\n    this.props.createdAt.length > 0 ||\n    this.props.createdBefore !== undefined ||\n    this.props.createdInLast.length > 0 ||\n    this.props.sinceLeakPeriod;\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.resetTo({});\n  };\n\n  resetTo = (changes: Partial<Query>) => {\n    this.props.onChange({\n      createdAfter: undefined,\n      createdAt: undefined,\n      createdBefore: undefined,\n      createdInLast: undefined,\n      sinceLeakPeriod: undefined,\n      ...changes\n    });\n  };\n\n  handleBarClick = ({\n    createdAfter,\n    createdBefore\n  }: {\n    createdAfter: Date;\n    createdBefore?: Date;\n  }) => {\n    this.resetTo({ createdAfter, createdBefore });\n  };\n\n  handlePeriodChange = ({ from, to }: { from?: Date; to?: Date }) => {\n    this.resetTo({ createdAfter: from, createdBefore: to });\n  };\n\n  handlePeriodClick = (period: string) => this.resetTo({ createdInLast: period });\n\n  handleLeakPeriodClick = () => this.resetTo({ sinceLeakPeriod: true });\n\n  getValues() {\n    const { createdAfter, createdAt, createdBefore, createdInLast, sinceLeakPeriod } = this.props;\n    const { formatDate } = this.context.intl;\n    const values = [];\n    if (createdAfter) {\n      values.push(formatDate(createdAfter, longFormatterOption));\n    }\n    if (createdAt) {\n      values.push(formatDate(createdAt, longFormatterOption));\n    }\n    if (createdBefore) {\n      values.push(formatDate(createdBefore, longFormatterOption));\n    }\n    if (createdInLast === '1w') {\n      values.push(translate('issues.facet.createdAt.last_week'));\n    }\n    if (createdInLast === '1m') {\n      values.push(translate('issues.facet.createdAt.last_month'));\n    }\n    if (createdInLast === '1y') {\n      values.push(translate('issues.facet.createdAt.last_year'));\n    }\n    if (sinceLeakPeriod) {\n      values.push(translate('issues.leak_period'));\n    }\n    return values;\n  }\n\n  renderBarChart() {\n    const { createdBefore, stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const periods = Object.keys(stats);\n\n    if (periods.length < 2 || periods.every(period => !stats[period])) {\n      return null;\n    }\n\n    const { formatDate } = this.context.intl;\n    const data = periods.map((start, index) => {\n      const startDate = parseDate(start);\n      let endDate;\n      if (index < periods.length - 1) {\n        endDate = parseDate(periods[index + 1]);\n        endDate.setDate(endDate.getDate() - 1);\n      } else {\n        endDate = createdBefore ? parseDate(createdBefore) : undefined;\n      }\n\n      const tooltipEndDate = endDate || new Date();\n      const tooltip = (\n        <React.Fragment>\n          {formatMeasure(stats[start], 'SHORT_INT')}\n          <br />\n          {formatDate(startDate, longFormatterOption)}\n          {!isSameDay(tooltipEndDate, startDate) &&\n            ` - ${formatDate(tooltipEndDate, longFormatterOption)}`}\n        </React.Fragment>\n      );\n\n      return {\n        createdAfter: startDate,\n        createdBefore: endDate,\n        tooltip,\n        x: index,\n        y: this.props.loading ? 0 : stats[start]\n      };\n    });\n\n    const barsWidth = Math.floor(250 / data.length);\n    const width = barsWidth * data.length - 1 + 10;\n\n    const maxValue = max(data.map(d => d.y));\n    const format = this.props.facetMode === 'count' ? 'SHORT_INT' : 'SHORT_WORK_DUR';\n    const xValues = data.map(d => (d.y === maxValue ? formatMeasure(maxValue, format) : ''));\n\n    return (\n      <BarChart\n        barsWidth={barsWidth - 1}\n        data={data}\n        height={75}\n        onBarClick={this.handleBarClick}\n        padding={[25, 0, 5, 10]}\n        width={width}\n        xValues={xValues}\n      />\n    );\n  }\n\n  renderExactDate() {\n    return (\n      <div className=\"search-navigator-facet-container\">\n        <DateTimeFormatter date={this.props.createdAt} />\n        <br />\n        <span className=\"note\">\n          <DateFromNow date={this.props.createdAt} />\n        </span>\n      </div>\n    );\n  }\n\n  renderPeriodSelectors() {\n    const { createdAfter, createdBefore } = this.props;\n    return (\n      <div className=\"search-navigator-date-facet-selection\">\n        <DateRangeInput\n          onChange={this.handlePeriodChange}\n          value={{ from: createdAfter, to: createdBefore }}\n        />\n      </div>\n    );\n  }\n\n  renderPredefinedPeriods() {\n    const { component, createdInLast, sinceLeakPeriod } = this.props;\n    return (\n      <div className=\"spacer-top issues-predefined-periods\">\n        <FacetItem\n          active={!this.hasValue()}\n          loading={this.props.loading}\n          name={translate('issues.facet.createdAt.all')}\n          onClick={this.handlePeriodClick}\n          value=\"\"\n        />\n        {component ? (\n          <FacetItem\n            active={sinceLeakPeriod}\n            loading={this.props.loading}\n            name={translate('issues.leak_period')}\n            onClick={this.handleLeakPeriodClick}\n            value=\"\"\n          />\n        ) : (\n          <>\n            <FacetItem\n              active={createdInLast === '1w'}\n              loading={this.props.loading}\n              name={translate('issues.facet.createdAt.last_week')}\n              onClick={this.handlePeriodClick}\n              value=\"1w\"\n            />\n            <FacetItem\n              active={createdInLast === '1m'}\n              loading={this.props.loading}\n              name={translate('issues.facet.createdAt.last_month')}\n              onClick={this.handlePeriodClick}\n              value=\"1m\"\n            />\n            <FacetItem\n              active={createdInLast === '1y'}\n              loading={this.props.loading}\n              name={translate('issues.facet.createdAt.last_year')}\n              onClick={this.handlePeriodClick}\n              value=\"1y\"\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n\n  renderInner() {\n    const { createdAt } = this.props;\n    return createdAt ? (\n      this.renderExactDate()\n    ) : (\n      <div>\n        {this.renderBarChart()}\n        {this.renderPeriodSelectors()}\n        {this.renderPredefinedPeriods()}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderInner()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, without } from 'lodash';\nimport { formatFacetStat, Query, ReferencedComponent } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { collapsePath } from '../../../helpers/path';\n\ninterface Props {\n  directories: string[];\n  facetMode: string;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class DirectoryFacet extends React.PureComponent<Props> {\n  property = 'directories';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { directories } = this.props;\n    if (multiple) {\n      const newValue = sortBy(\n        directories.includes(itemValue)\n          ? without(directories, itemValue)\n          : [...directories, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]:\n          directories.includes(itemValue) && directories.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(directory: string) {\n    const { stats } = this.props;\n    return stats ? stats[directory] : undefined;\n  }\n\n  renderName(directory: string) {\n    return (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier=\"DIR\" />\n        {directory}\n      </span>\n    );\n  }\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const directories = sortBy(Object.keys(stats), key => -stats[key]);\n\n    return (\n      <FacetItemsList>\n        {directories.map(directory => (\n          <FacetItem\n            active={this.props.directories.includes(directory)}\n            key={directory}\n            loading={this.props.loading}\n            name={this.renderName(directory)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(directory), this.props.facetMode)}\n            tooltip={\n              this.props.directories.length === 1 && !this.props.directories.includes(directory)\n            }\n            value={directory}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  render() {\n    const values = this.props.directories.map(dir => collapsePath(dir));\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && this.renderList()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  facetMode: string;\n  onChange: (changes: Partial<Query>) => void;\n}\n\nexport default class FacetMode extends React.PureComponent<Props> {\n  property = 'facetMode';\n\n  handleItemClick = (itemValue: string) => {\n    this.props.onChange({ [this.property]: itemValue });\n  };\n\n  render() {\n    const { facetMode } = this.props;\n    const modes = ['count', 'effort'];\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader name={translate('issues.facet.mode')} open={false} />\n\n        <FacetItemsList>\n          {modes.map(mode => (\n            <FacetItem\n              active={facetMode === mode}\n              halfWidth={true}\n              key={mode}\n              name={translate('issues.facet.mode', mode)}\n              onClick={this.handleItemClick}\n              value={mode}\n            />\n          ))}\n        </FacetItemsList>\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, without } from 'lodash';\nimport { formatFacetStat, Query, ReferencedComponent } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { collapsePath } from '../../../helpers/path';\n\ninterface Props {\n  facetMode: string;\n  files: string[];\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class FileFacet extends React.PureComponent<Props> {\n  property = 'files';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { files } = this.props;\n    if (multiple) {\n      const newValue = sortBy(\n        files.includes(itemValue) ? without(files, itemValue) : [...files, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: files.includes(itemValue) && files.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(file: string) {\n    const { stats } = this.props;\n    return stats ? stats[file] : undefined;\n  }\n\n  getFileName(file: string) {\n    const { referencedComponents } = this.props;\n    return referencedComponents[file] ? collapsePath(referencedComponents[file].path, 15) : file;\n  }\n\n  renderName(file: string) {\n    const name = this.getFileName(file);\n    return (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier=\"FIL\" />\n        {name}\n      </span>\n    );\n  }\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const files = sortBy(Object.keys(stats), key => -stats[key]);\n\n    return (\n      <FacetItemsList>\n        {files.map(file => (\n          <FacetItem\n            active={this.props.files.includes(file)}\n            key={file}\n            loading={this.props.loading}\n            name={this.renderName(file)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(file), this.props.facetMode)}\n            tooltip={this.props.files.length === 1 && !this.props.files.includes(file)}\n            value={file}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  render() {\n    const values = this.props.files.map(file => this.getFileName(file));\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && this.renderList()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { differenceWith } from 'lodash';\nimport Select from '../../../components/controls/Select';\nimport { translate } from '../../../helpers/l10n';\nimport { getLanguages } from '../../../store/rootReducer';\n\ninterface Props {\n  languages: Array<{ key: string; name: string }>;\n  onSelect: (value: string) => void;\n  selected: string[];\n}\n\nclass LanguageFacetFooter extends React.PureComponent<Props> {\n  handleChange = (option: { value: string }) => {\n    this.props.onSelect(option.value);\n  };\n\n  render() {\n    const options = differenceWith(\n      this.props.languages,\n      this.props.selected,\n      (language, key) => language.key === key\n    ).map(language => ({ label: language.name, value: language.key }));\n\n    if (options.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"search-navigator-facet-footer\">\n        <Select\n          className=\"input-super-large\"\n          clearable={false}\n          noResultsText={translate('select2.noMatches')}\n          onChange={this.handleChange}\n          options={options}\n          placeholder={translate('search.search_for_languages')}\n          searchable={true}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any) => ({\n  languages: Object.values(getLanguages(state))\n});\n\nexport default connect(mapStateToProps)(LanguageFacetFooter);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, uniq, without } from 'lodash';\nimport LanguageFacetFooter from './LanguageFacetFooter';\nimport { formatFacetStat, Query, ReferencedLanguage } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  facetMode: string;\n  languages: string[];\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  referencedLanguages: { [languageKey: string]: ReferencedLanguage };\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class LanguageFacet extends React.PureComponent<Props> {\n  property = 'languages';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { languages } = this.props;\n    if (multiple) {\n      const newValue = sortBy(\n        languages.includes(itemValue) ? without(languages, itemValue) : [...languages, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: languages.includes(itemValue) && languages.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getLanguageName(language: string) {\n    const { referencedLanguages } = this.props;\n    return referencedLanguages[language] ? referencedLanguages[language].name : language;\n  }\n\n  getStat(language: string) {\n    const { stats } = this.props;\n    return stats ? stats[language] : undefined;\n  }\n\n  handleSelect = (language: string) => {\n    const { languages } = this.props;\n    this.props.onChange({ [this.property]: uniq([...languages, language]) });\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const languages = sortBy(Object.keys(stats), key => -stats[key]);\n\n    return (\n      <FacetItemsList>\n        {languages.map(language => (\n          <FacetItem\n            active={this.props.languages.includes(language)}\n            key={language}\n            loading={this.props.loading}\n            name={this.getLanguageName(language)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(language), this.props.facetMode)}\n            tooltip={this.props.languages.length === 1 && !this.props.languages.includes(language)}\n            value={language}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  renderFooter() {\n    if (!this.props.stats) {\n      return null;\n    }\n\n    return (\n      <LanguageFacetFooter onSelect={this.handleSelect} selected={Object.keys(this.props.stats)} />\n    );\n  }\n\n  render() {\n    const values = this.props.languages.map(language => this.getLanguageName(language));\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && this.renderList()}\n        {this.props.open && this.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, without } from 'lodash';\nimport { formatFacetStat, Query, ReferencedComponent } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  facetMode: string;\n  loading?: boolean;\n  modules: string[];\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class ModuleFacet extends React.PureComponent<Props> {\n  property = 'modules';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { modules } = this.props;\n    if (multiple) {\n      const newValue = sortBy(\n        modules.includes(itemValue) ? without(modules, itemValue) : [...modules, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: modules.includes(itemValue) && modules.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(module: string) {\n    const { stats } = this.props;\n    return stats ? stats[module] : undefined;\n  }\n\n  getModuleName(module: string) {\n    const { referencedComponents } = this.props;\n    return referencedComponents[module] ? referencedComponents[module].name : module;\n  }\n\n  renderName(module: string) {\n    return (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n        {this.getModuleName(module)}\n      </span>\n    );\n  }\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const modules = sortBy(Object.keys(stats), key => -stats[key]);\n\n    return (\n      <FacetItemsList>\n        {modules.map(module => (\n          <FacetItem\n            active={this.props.modules.includes(module)}\n            key={module}\n            loading={this.props.loading}\n            name={this.renderName(module)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(module), this.props.facetMode)}\n            tooltip={this.props.modules.length === 1 && !this.props.modules.includes(module)}\n            value={module}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  render() {\n    const values = this.props.modules.map(module => this.getModuleName(module));\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && this.renderList()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, uniq, without } from 'lodash';\nimport { formatFacetStat, Query, ReferencedComponent } from '../utils';\nimport { searchProjects, getTree } from '../../../api/components';\nimport { Component } from '../../../app/types';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport FacetFooter from '../../../components/facet/FacetFooter';\nimport Organization from '../../../components/shared/Organization';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: Component | undefined;\n  facetMode: string;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: { key: string } | undefined;\n  projects: string[];\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class ProjectFacet extends React.PureComponent<Props> {\n  property = 'projects';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { projects } = this.props;\n    if (multiple) {\n      const newValue = sortBy(\n        projects.includes(itemValue) ? without(projects, itemValue) : [...projects, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: projects.includes(itemValue) && projects.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  handleSearch = (query: string) => {\n    const { component, organization } = this.props;\n    if (component && ['VW', 'SVW', 'APP'].includes(component.qualifier)) {\n      return getTree(component.key, { ps: 50, q: query, qualifiers: 'TRK' }).then(response =>\n        response.components.map((component: any) => ({\n          label: component.name,\n          organization: component.organization,\n          value: component.refId\n        }))\n      );\n    }\n\n    return searchProjects({\n      ps: 50,\n      filter: query ? `query = \"${query}\"` : '',\n      organization: organization && organization.key\n    }).then(response =>\n      response.components.map(component => ({\n        label: component.name,\n        organization: component.organization,\n        value: component.id\n      }))\n    );\n  };\n\n  handleSelect = (option: { value: string }) => {\n    const { projects } = this.props;\n    this.props.onChange({ [this.property]: uniq([...projects, option.value]) });\n  };\n\n  getStat(project: string) {\n    const { stats } = this.props;\n    return stats ? stats[project] : undefined;\n  }\n\n  getProjectName(project: string) {\n    const { referencedComponents } = this.props;\n    return referencedComponents[project] ? referencedComponents[project].name : project;\n  }\n\n  renderName(project: string) {\n    const { organization, referencedComponents } = this.props;\n    return referencedComponents[project] ? (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n        {!organization && (\n          <Organization link={false} organizationKey={referencedComponents[project].organization} />\n        )}\n        {referencedComponents[project].name}\n      </span>\n    ) : (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n        {project}\n      </span>\n    );\n  }\n\n  renderOption = (option: { label: string; organization: string }) => {\n    return (\n      <span>\n        <Organization link={false} organizationKey={option.organization} />\n        {option.label}\n      </span>\n    );\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const projects = sortBy(Object.keys(stats), key => -stats[key]);\n\n    return (\n      <FacetItemsList>\n        {projects.map(project => (\n          <FacetItem\n            active={this.props.projects.includes(project)}\n            key={project}\n            loading={this.props.loading}\n            name={this.renderName(project)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(project), this.props.facetMode)}\n            tooltip={this.props.projects.length === 1 && !this.props.projects.includes(project)}\n            value={project}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  renderFooter() {\n    if (!this.props.stats) {\n      return null;\n    }\n\n    return (\n      <FacetFooter\n        minimumQueryLength={3}\n        onSearch={this.handleSearch}\n        onSelect={this.handleSelect}\n        renderOption={this.renderOption}\n      />\n    );\n  }\n\n  render() {\n    const values = this.props.projects.map(project => this.getProjectName(project));\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && this.renderList()}\n        {this.props.open && this.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  facetMode: string;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  resolved: boolean;\n  resolutions: string[];\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class ResolutionFacet extends React.PureComponent<Props> {\n  property = 'resolutions';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { resolutions } = this.props;\n    if (itemValue === '') {\n      // unresolved\n      this.props.onChange({ resolved: !this.props.resolved, resolutions: [] });\n    } else if (multiple) {\n      const newValue = orderBy(\n        resolutions.includes(itemValue)\n          ? without(resolutions, itemValue)\n          : [...resolutions, itemValue]\n      );\n      this.props.onChange({ resolved: true, [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        resolved: true,\n        [this.property]:\n          resolutions.includes(itemValue) && resolutions.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ resolved: false, resolutions: [] });\n  };\n\n  isFacetItemActive(resolution: string) {\n    return resolution === '' ? !this.props.resolved : this.props.resolutions.includes(resolution);\n  }\n\n  getFacetItemName(resolution: string) {\n    return resolution === '' ? translate('unresolved') : translate('issue.resolution', resolution);\n  }\n\n  getStat(resolution: string) {\n    const { stats } = this.props;\n    return stats ? stats[resolution] : undefined;\n  }\n\n  renderItem = (resolution: string) => {\n    const active = this.isFacetItemActive(resolution);\n    const stat = this.getStat(resolution);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={resolution}\n        loading={this.props.loading}\n        name={this.getFacetItemName(resolution)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat, this.props.facetMode)}\n        tooltip={\n          this.props.resolutions.length === 1 &&\n          resolution !== '' &&\n          !this.props.resolutions.includes(resolution)\n        }\n        value={resolution}\n      />\n    );\n  };\n\n  render() {\n    const resolutions = ['', 'FIXED', 'FALSE-POSITIVE', 'WONTFIX', 'REMOVED'];\n    const values = this.props.resolutions.map(resolution => this.getFacetItemName(resolution));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && <FacetItemsList>{resolutions.map(this.renderItem)}</FacetItemsList>}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, uniq, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport { searchRules } from '../../../api/rules';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport FacetFooter from '../../../components/facet/FacetFooter';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  facetMode: string;\n  languages: string[];\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  referencedRules: { [ruleKey: string]: { name: string } };\n  rules: string[];\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class RuleFacet extends React.PureComponent<Props> {\n  property = 'rules';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { rules } = this.props;\n    if (multiple) {\n      const newValue = sortBy(\n        rules.includes(itemValue) ? without(rules, itemValue) : [...rules, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: rules.includes(itemValue) && rules.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  handleSearch = (query: string) => {\n    const { languages, organization } = this.props;\n    return searchRules({\n      f: 'name,langName',\n      languages: languages.length ? languages.join() : undefined,\n      organization,\n      q: query,\n      include_external: true\n    }).then(response =>\n      response.rules.map(rule => ({ label: `(${rule.langName}) ${rule.name}`, value: rule.key }))\n    );\n  };\n\n  handleSelect = (option: { value: string }) => {\n    const { rules } = this.props;\n    this.props.onChange({ [this.property]: uniq([...rules, option.value]) });\n  };\n\n  getRuleName(rule: string): string {\n    const { referencedRules } = this.props;\n    return referencedRules[rule] ? referencedRules[rule].name : rule;\n  }\n\n  getStat(rule: string) {\n    const { stats } = this.props;\n    return stats ? stats[rule] : undefined;\n  }\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const rules = sortBy(Object.keys(stats), key => -stats[key], key => this.getRuleName(key));\n\n    return (\n      <FacetItemsList>\n        {rules.map(rule => (\n          <FacetItem\n            active={this.props.rules.includes(rule)}\n            key={rule}\n            loading={this.props.loading}\n            name={this.getRuleName(rule)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(rule), this.props.facetMode)}\n            tooltip={this.props.rules.length === 1 && !this.props.rules.includes(rule)}\n            value={rule}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  renderFooter() {\n    if (!this.props.stats) {\n      return null;\n    }\n\n    return <FacetFooter onSearch={this.handleSearch} onSelect={this.handleSelect} />;\n  }\n\n  render() {\n    const values = this.props.rules.map(rule => this.getRuleName(rule));\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && this.renderList()}\n        {this.props.open && this.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  facetMode: string;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  severities: string[];\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class SeverityFacet extends React.PureComponent<Props> {\n  property = 'severities';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { severities } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        severities.includes(itemValue) ? without(severities, itemValue) : [...severities, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: severities.includes(itemValue) && severities.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(severity: string) {\n    const { stats } = this.props;\n    return stats ? stats[severity] : undefined;\n  }\n\n  renderItem = (severity: string) => {\n    const active = this.props.severities.includes(severity);\n    const stat = this.getStat(severity);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={severity}\n        loading={this.props.loading}\n        name={<SeverityHelper severity={severity} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat, this.props.facetMode)}\n        tooltip={this.props.severities.length === 1 && !this.props.severities.includes(severity)}\n        value={severity}\n      />\n    );\n  };\n\n  render() {\n    const severities = ['BLOCKER', 'MINOR', 'CRITICAL', 'INFO', 'MAJOR'];\n    const values = this.props.severities.map(severity => translate('severity', severity));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && <FacetItemsList>{severities.map(this.renderItem)}</FacetItemsList>}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport StatusHelper from '../../../components/shared/StatusHelper';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  facetMode: string;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: { [x: string]: number } | undefined;\n  statuses: string[];\n}\n\nexport default class StatusFacet extends React.PureComponent<Props> {\n  property = 'statuses';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { statuses } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        statuses.includes(itemValue) ? without(statuses, itemValue) : [...statuses, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: statuses.includes(itemValue) && statuses.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(status: string) {\n    const { stats } = this.props;\n    return stats ? stats[status] : undefined;\n  }\n\n  renderItem = (status: string) => {\n    const active = this.props.statuses.includes(status);\n    const stat = this.getStat(status);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={status}\n        loading={this.props.loading}\n        name={<StatusHelper resolution={undefined} status={status} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat, this.props.facetMode)}\n        tooltip={this.props.statuses.length === 1 && !this.props.statuses.includes(status)}\n        value={status}\n      />\n    );\n  };\n\n  render() {\n    const statuses = ['OPEN', 'RESOLVED', 'REOPENED', 'CLOSED', 'CONFIRMED'];\n    const values = this.props.statuses.map(status => translate('issue.status', status));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && <FacetItemsList>{statuses.map(this.renderItem)}</FacetItemsList>}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, uniq, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport { searchIssueTags } from '../../../api/issues';\nimport * as theme from '../../../app/theme';\nimport { Component } from '../../../app/types';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetFooter from '../../../components/facet/FacetFooter';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport TagsIcon from '../../../components/icons-components/TagsIcon';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: Component | undefined;\n  facetMode: string;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: { key: string } | undefined;\n  stats: { [x: string]: number } | undefined;\n  tags: string[];\n}\n\nexport default class TagFacet extends React.PureComponent<Props> {\n  property = 'tags';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { tags } = this.props;\n    if (multiple) {\n      const { tags } = this.props;\n      const newValue = sortBy(\n        tags.includes(itemValue) ? without(tags, itemValue) : [...tags, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: tags.includes(itemValue) && tags.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  handleSearch = (query: string) => {\n    let organization = this.props.component && this.props.component.organization;\n    if (this.props.organization && !organization) {\n      organization = this.props.organization.key;\n    }\n    return searchIssueTags({ organization, ps: 50, q: query }).then(tags =>\n      tags.map(tag => ({ label: tag, value: tag }))\n    );\n  };\n\n  handleSelect = (option: { value: string }) => {\n    const { tags } = this.props;\n    this.props.onChange({ [this.property]: uniq([...tags, option.value]) });\n  };\n\n  getStat(tag: string) {\n    const { stats } = this.props;\n    return stats ? stats[tag] : undefined;\n  }\n\n  renderTag(tag: string) {\n    return (\n      <span>\n        <TagsIcon className=\"little-spacer-right\" fill={theme.gray60} />\n        {tag}\n      </span>\n    );\n  }\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const tags = sortBy(Object.keys(stats), key => -stats[key]);\n\n    return (\n      <FacetItemsList>\n        {tags.map(tag => (\n          <FacetItem\n            active={this.props.tags.includes(tag)}\n            key={tag}\n            loading={this.props.loading}\n            name={this.renderTag(tag)}\n            onClick={this.handleItemClick}\n            stat={formatFacetStat(this.getStat(tag), this.props.facetMode)}\n            tooltip={this.props.tags.length === 1 && !this.props.tags.includes(tag)}\n            value={tag}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  }\n\n  renderFooter() {\n    if (!this.props.stats) {\n      return null;\n    }\n\n    return <FacetFooter onSearch={this.handleSearch} onSelect={this.handleSelect} />;\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.props.tags}\n        />\n\n        {this.props.open && this.renderList()}\n\n        {this.props.open && this.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  facetMode: string;\n  loading?: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: { [x: string]: number } | undefined;\n  types: string[];\n}\n\nexport default class TypeFacet extends React.PureComponent<Props> {\n  property = 'types';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { types } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        types.includes(itemValue) ? without(types, itemValue) : [...types, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: types.includes(itemValue) && types.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(type: string) {\n    const { stats } = this.props;\n    return stats ? stats[type] : undefined;\n  }\n\n  renderItem = (type: string) => {\n    const active = this.props.types.includes(type);\n    const stat = this.getStat(type);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        key={type}\n        loading={this.props.loading}\n        name={\n          <span>\n            <IssueTypeIcon query={type} /> {translate('issue.type', type)}\n          </span>\n        }\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat, this.props.facetMode)}\n        tooltip={this.props.types.length === 1 && !this.props.types.includes(type)}\n        value={type}\n      />\n    );\n  };\n\n  render() {\n    const types = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n    const values = this.props.types.map(type => translate('issue.type', type));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && <FacetItemsList>{types.map(this.renderItem)}</FacetItemsList>}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AssigneeFacet from './AssigneeFacet';\nimport AuthorFacet from './AuthorFacet';\nimport CreationDateFacet from './CreationDateFacet';\nimport DirectoryFacet from './DirectoryFacet';\nimport FacetMode from './FacetMode';\nimport FileFacet from './FileFacet';\nimport LanguageFacet from './LanguageFacet';\nimport ModuleFacet from './ModuleFacet';\nimport ProjectFacet from './ProjectFacet';\nimport ResolutionFacet from './ResolutionFacet';\nimport RuleFacet from './RuleFacet';\nimport SeverityFacet from './SeverityFacet';\nimport StatusFacet from './StatusFacet';\nimport TagFacet from './TagFacet';\nimport TypeFacet from './TypeFacet';\nimport { Query, Facet, ReferencedComponent, ReferencedUser, ReferencedLanguage } from '../utils';\nimport { Component } from '../../../app/types';\n\nexport interface Props {\n  component: Component | undefined;\n  facets: { [facet: string]: Facet };\n  loading?: boolean;\n  myIssues: boolean;\n  onFacetToggle: (property: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  openFacets: { [facet: string]: boolean };\n  organization: { key: string } | undefined;\n  query: Query;\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  referencedLanguages: { [languageKey: string]: ReferencedLanguage };\n  referencedRules: { [ruleKey: string]: { name: string } };\n  referencedUsers: { [login: string]: ReferencedUser };\n}\n\nexport default class Sidebar extends React.PureComponent<Props> {\n  render() {\n    const { component, facets, openFacets, query } = this.props;\n\n    const displayProjectsFacet =\n      !component || !['TRK', 'BRC', 'DIR', 'DEV_PRJ'].includes(component.qualifier);\n    const displayModulesFacet = component !== undefined && component.qualifier !== 'DIR';\n    const displayDirectoriesFacet = component !== undefined && component.qualifier !== 'DIR';\n    const displayFilesFacet = component !== undefined;\n    const displayAuthorFacet = !component || component.qualifier !== 'DEV';\n\n    return (\n      <div className=\"search-navigator-facets-list\">\n        <FacetMode facetMode={query.facetMode} onChange={this.props.onFilterChange} />\n        <TypeFacet\n          facetMode={query.facetMode}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.types}\n          stats={facets.types}\n          types={query.types}\n        />\n        <SeverityFacet\n          facetMode={query.facetMode}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.severities}\n          severities={query.severities}\n          stats={facets.severities}\n        />\n        <ResolutionFacet\n          facetMode={query.facetMode}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.resolutions}\n          resolutions={query.resolutions}\n          resolved={query.resolved}\n          stats={facets.resolutions}\n        />\n        <StatusFacet\n          facetMode={query.facetMode}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.statuses}\n          stats={facets.statuses}\n          statuses={query.statuses}\n        />\n        <CreationDateFacet\n          component={component}\n          createdAfter={query.createdAfter}\n          createdAt={query.createdAt}\n          createdBefore={query.createdBefore}\n          createdInLast={query.createdInLast}\n          facetMode={query.facetMode}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.createdAt}\n          sinceLeakPeriod={query.sinceLeakPeriod}\n          stats={facets.createdAt}\n        />\n        <RuleFacet\n          facetMode={query.facetMode}\n          languages={query.languages}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.rules}\n          organization={this.props.organization && this.props.organization.key}\n          referencedRules={this.props.referencedRules}\n          rules={query.rules}\n          stats={facets.rules}\n        />\n        <TagFacet\n          component={component}\n          facetMode={query.facetMode}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.tags}\n          organization={this.props.organization}\n          stats={facets.tags}\n          tags={query.tags}\n        />\n        {displayProjectsFacet && (\n          <ProjectFacet\n            component={component}\n            facetMode={query.facetMode}\n            loading={this.props.loading}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.projects}\n            organization={this.props.organization}\n            projects={query.projects}\n            referencedComponents={this.props.referencedComponents}\n            stats={facets.projects}\n          />\n        )}\n        {displayModulesFacet && (\n          <ModuleFacet\n            facetMode={query.facetMode}\n            loading={this.props.loading}\n            modules={query.modules}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.modules}\n            referencedComponents={this.props.referencedComponents}\n            stats={facets.modules}\n          />\n        )}\n        {displayDirectoriesFacet && (\n          <DirectoryFacet\n            directories={query.directories}\n            facetMode={query.facetMode}\n            loading={this.props.loading}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.directories}\n            referencedComponents={this.props.referencedComponents}\n            stats={facets.directories}\n          />\n        )}\n        {displayFilesFacet && (\n          <FileFacet\n            facetMode={query.facetMode}\n            files={query.files}\n            loading={this.props.loading}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.files}\n            referencedComponents={this.props.referencedComponents}\n            stats={facets.files}\n          />\n        )}\n        {!this.props.myIssues && (\n          <AssigneeFacet\n            assigned={query.assigned}\n            assignees={query.assignees}\n            component={component}\n            facetMode={query.facetMode}\n            loading={this.props.loading}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.assignees}\n            organization={this.props.organization}\n            referencedUsers={this.props.referencedUsers}\n            stats={facets.assignees}\n          />\n        )}\n        {displayAuthorFacet && (\n          <AuthorFacet\n            authors={query.authors}\n            facetMode={query.facetMode}\n            loading={this.props.loading}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.authors}\n            stats={facets.authors}\n          />\n        )}\n        <LanguageFacet\n          facetMode={query.facetMode}\n          languages={query.languages}\n          loading={this.props.loading}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.languages}\n          referencedLanguages={this.props.referencedLanguages}\n          stats={facets.languages}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { State } from './components/App';\nimport { allLocationsEmpty } from './utils';\n\nexport function enableLocationsNavigator(state: State): Partial<State> | undefined {\n  const { openIssue, selectedLocationIndex } = state;\n  if (openIssue && (openIssue.secondaryLocations.length > 0 || openIssue.flows.length > 0)) {\n    const selectedFlowIndex =\n      state.selectedFlowIndex || (openIssue.flows.length > 0 ? 0 : undefined);\n\n    if (!allLocationsEmpty(openIssue, selectedFlowIndex)) {\n      return {\n        locationsNavigator: true,\n        selectedFlowIndex,\n        // Also reset index = -1 to 0, we don't want to start on the issue when enabling the location navigator\n        selectedLocationIndex:\n          !selectedLocationIndex || selectedLocationIndex < 0 ? 0 : selectedLocationIndex\n      };\n    }\n  }\n  return undefined;\n}\n\nexport function disableLocationsNavigator(): Partial<State> {\n  return { locationsNavigator: false };\n}\n\nexport function selectLocation(nextIndex: number | undefined) {\n  return (state: State): Partial<State> | undefined => {\n    const { selectedLocationIndex: index, openIssue } = state;\n    if (openIssue) {\n      if (!state.locationsNavigator) {\n        if (nextIndex !== undefined) {\n          return { locationsNavigator: true, selectedLocationIndex: nextIndex };\n        }\n      } else if (index !== undefined) {\n        // disable locations when selecting (clicking) the same location\n        return {\n          locationsNavigator: nextIndex !== index,\n          selectedLocationIndex: nextIndex\n        };\n      }\n    }\n    return undefined;\n  };\n}\n\nexport function selectNextLocation(state: State): Partial<State> | undefined {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    const locations =\n      selectedFlowIndex !== undefined\n        ? openIssue.flows[selectedFlowIndex]\n        : openIssue.secondaryLocations;\n    const lastLocationIdx = locations.length - 1;\n    if (index === lastLocationIdx) {\n      // -1 to jump back to the issue itself\n      return { selectedLocationIndex: -1 };\n    }\n    return {\n      selectedLocationIndex: index !== undefined && index < lastLocationIdx ? index + 1 : index\n    };\n  }\n  return undefined;\n}\n\nexport function selectPreviousLocation(state: State): Partial<State> | undefined {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    if (index === -1) {\n      const locations =\n        selectedFlowIndex !== undefined\n          ? openIssue.flows[selectedFlowIndex]\n          : openIssue.secondaryLocations;\n      const lastLocationIdx = locations.length - 1;\n      return { selectedLocationIndex: lastLocationIdx };\n    }\n    return { selectedLocationIndex: index !== undefined && index > 0 ? index - 1 : index };\n  }\n  return undefined;\n}\n\nexport function selectFlow(nextIndex?: number) {\n  return (): Partial<State> => {\n    return { selectedFlowIndex: nextIndex, selectedLocationIndex: 0 };\n  };\n}\n\nexport function selectNextFlow(state: State): Partial<State> | undefined {\n  const { openIssue, selectedFlowIndex } = state;\n  if (\n    openIssue &&\n    selectedFlowIndex !== undefined &&\n    openIssue.flows.length > selectedFlowIndex + 1\n  ) {\n    return { selectedFlowIndex: selectedFlowIndex + 1, selectedLocationIndex: 0 };\n  }\n  return undefined;\n}\n\nexport function selectPreviousFlow(state: State): Partial<State> | undefined {\n  const { openIssue, selectedFlowIndex } = state;\n  if (openIssue && selectedFlowIndex !== undefined && selectedFlowIndex > 0) {\n    return { selectedFlowIndex: selectedFlowIndex - 1, selectedLocationIndex: 0 };\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport * as key from 'keymaster';\nimport { keyBy, union, without } from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport BulkChangeModal from './BulkChangeModal';\nimport ComponentBreadcrumbs from './ComponentBreadcrumbs';\nimport IssuesList from './IssuesList';\nimport IssuesSourceViewer from './IssuesSourceViewer';\nimport MyIssuesFilter from './MyIssuesFilter';\nimport NoIssues from './NoIssues';\nimport NoMyIssues from './NoMyIssues';\nimport PageActions from './PageActions';\nimport ConciseIssuesList from '../conciseIssuesList/ConciseIssuesList';\nimport ConciseIssuesListHeader from '../conciseIssuesList/ConciseIssuesListHeader';\nimport Sidebar from '../sidebar/Sidebar';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport * as actions from '../actions';\nimport {\n  areMyIssuesSelected,\n  areQueriesEqual,\n  Facet,\n  getOpen,\n  mapFacet,\n  parseFacets,\n  parseQuery,\n  Query,\n  RawFacet,\n  ReferencedComponent,\n  ReferencedLanguage,\n  ReferencedUser,\n  saveMyIssues,\n  serializeQuery\n} from '../utils';\nimport { Component, CurrentUser, Issue, Paging, BranchLike } from '../../../app/types';\nimport handleRequiredAuthentication from '../../../app/utils/handleRequiredAuthentication';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport ListFooter from '../../../components/controls/ListFooter';\nimport FiltersHeader from '../../../components/common/FiltersHeader';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport { Button } from '../../../components/ui/buttons';\nimport {\n  isShortLivingBranch,\n  isSameBranchLike,\n  getBranchLikeQuery,\n  isPullRequest\n} from '../../../helpers/branches';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { RawQuery } from '../../../helpers/query';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport EmptySearch from '../../../components/common/EmptySearch';\nimport Checkbox from '../../../components/controls/Checkbox';\nimport DropdownIcon from '../../../components/icons-components/DropdownIcon';\nimport { isSonarCloud } from '../../../helpers/system';\nimport '../../../components/search-navigator.css';\nimport '../styles.css';\n\ninterface FetchIssuesPromise {\n  components: ReferencedComponent[];\n  facets: RawFacet[];\n  issues: Issue[];\n  languages: ReferencedLanguage[];\n  paging: Paging;\n  rules: { name: string }[];\n  users: ReferencedUser[];\n}\n\ninterface Props {\n  branchLike?: BranchLike;\n  component?: Component;\n  currentUser: CurrentUser;\n  fetchIssues: (query: RawQuery, requestOrganizations?: boolean) => Promise<FetchIssuesPromise>;\n  location: { pathname: string; query: RawQuery };\n  myIssues?: boolean;\n  onBranchesChange: () => void;\n  organization?: { key: string };\n}\n\nexport interface State {\n  bulkChange?: 'all' | 'selected';\n  checked: string[];\n  facets: { [facet: string]: Facet };\n  issues: Issue[];\n  lastChecked?: string;\n  loading: boolean;\n  locationsNavigator: boolean;\n  myIssues: boolean;\n  openFacets: { [facet: string]: boolean };\n  openIssue?: Issue;\n  openPopup?: { issue: string; name: string };\n  paging?: Paging;\n  query: Query;\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  referencedLanguages: { [languageKey: string]: ReferencedLanguage };\n  referencedRules: { [ruleKey: string]: { name: string } };\n  referencedUsers: { [login: string]: ReferencedUser };\n  selected?: string;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nconst DEFAULT_QUERY = { resolved: 'false' };\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      checked: [],\n      facets: {},\n      issues: [],\n      loading: true,\n      locationsNavigator: false,\n      myIssues: props.myIssues || areMyIssuesSelected(props.location.query),\n      openFacets: { severities: true, types: true },\n      query: parseQuery(props.location.query),\n      referencedComponents: {},\n      referencedLanguages: {},\n      referencedRules: {},\n      referencedUsers: {},\n      selected: getOpen(props.location.query)\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    if (this.state.myIssues && !this.props.currentUser.isLoggedIn) {\n      handleRequiredAuthentication();\n      return;\n    }\n\n    document.body.classList.add('white-page');\n    // $FlowFixMe\n    document.documentElement.classList.add('white-page');\n\n    const footer = document.getElementById('footer');\n    if (footer) {\n      footer.classList.add('page-footer-with-sidebar');\n    }\n\n    this.attachShortcuts();\n    this.fetchFirstIssues();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    const openIssue = this.getOpenIssue(nextProps, this.state.issues);\n\n    if (openIssue && openIssue.key !== this.state.selected) {\n      this.setState({\n        locationsNavigator: false,\n        selected: openIssue.key,\n        selectedFlowIndex: undefined,\n        selectedLocationIndex: undefined\n      });\n    }\n\n    if (!openIssue) {\n      this.setState({ selectedFlowIndex: undefined, selectedLocationIndex: undefined });\n    }\n\n    this.setState({\n      myIssues: nextProps.myIssues || areMyIssuesSelected(nextProps.location.query),\n      openIssue,\n      query: parseQuery(nextProps.location.query)\n    });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const { query } = this.props.location;\n    const { query: prevQuery } = prevProps.location;\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      !areQueriesEqual(prevQuery, query) ||\n      areMyIssuesSelected(prevQuery) !== areMyIssuesSelected(query)\n    ) {\n      this.fetchFirstIssues();\n    } else if (\n      !this.state.openIssue &&\n      (prevState.selected !== this.state.selected || prevState.openIssue)\n    ) {\n      // if user simply selected another issue\n      // or if he went from the source code back to the list of issues\n      this.scrollToSelectedIssue();\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n\n    document.body.classList.remove('white-page');\n    // $FlowFixMe\n    document.documentElement.classList.remove('white-page');\n\n    const footer = document.getElementById('footer');\n    if (footer) {\n      footer.classList.remove('page-footer-with-sidebar');\n    }\n\n    this.mounted = false;\n  }\n\n  attachShortcuts() {\n    key.setScope('issues');\n    key('up', 'issues', () => {\n      this.selectPreviousIssue();\n      return false;\n    });\n    key('down', 'issues', () => {\n      this.selectNextIssue();\n      return false;\n    });\n    key('right', 'issues', () => {\n      this.openSelectedIssue();\n      return false;\n    });\n    key('left', 'issues', () => {\n      if (this.state.query.issues.length !== 1) {\n        this.closeIssue();\n      }\n      return false;\n    });\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  detachShortcuts() {\n    key.deleteScope('issues');\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  handleKeyDown = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      event.preventDefault();\n      this.setState(actions.enableLocationsNavigator);\n    } else if (event.keyCode === 40 && event.altKey) {\n      // alt + down\n      event.preventDefault();\n      this.selectNextLocation();\n    } else if (event.keyCode === 38 && event.altKey) {\n      // alt + up\n      event.preventDefault();\n      this.selectPreviousLocation();\n    } else if (event.keyCode === 37 && event.altKey) {\n      // alt + left\n      event.preventDefault();\n      this.selectPreviousFlow();\n    } else if (event.keyCode === 39 && event.altKey) {\n      // alt + right\n      event.preventDefault();\n      this.selectNextFlow();\n    }\n  };\n\n  handleKeyUp = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      this.setState(actions.disableLocationsNavigator);\n    }\n  };\n\n  getSelectedIndex() {\n    const { issues = [], selected } = this.state;\n    const index = issues.findIndex(issue => issue.key === selected);\n    return index !== -1 ? index : undefined;\n  }\n\n  getOpenIssue = (props: Props, issues: Issue[]) => {\n    const open = getOpen(props.location.query);\n    return open ? issues.find(issue => issue.key === open) : undefined;\n  };\n\n  selectNextIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex < issues.length - 1) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex + 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex + 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  selectPreviousIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex > 0) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex - 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex - 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  openIssue = (issueKey: string) => {\n    const path = {\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(this.state.query),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined,\n        open: issueKey\n      }\n    };\n    if (this.state.openIssue) {\n      if (path.query.open && path.query.open === this.state.openIssue.key) {\n        this.setState(\n          {\n            locationsNavigator: false,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          },\n          this.scrollToSelectedIssue\n        );\n      } else {\n        this.context.router.replace(path);\n      }\n    } else {\n      this.context.router.push(path);\n    }\n  };\n\n  closeIssue = () => {\n    if (this.state.query) {\n      this.context.router.push({\n        pathname: this.props.location.pathname,\n        query: {\n          ...serializeQuery(this.state.query),\n          ...getBranchLikeQuery(this.props.branchLike),\n          id: this.props.component && this.props.component.key,\n          myIssues: this.state.myIssues ? 'true' : undefined,\n          open: undefined\n        }\n      });\n      this.scrollToSelectedIssue(false);\n    }\n  };\n\n  openSelectedIssue = () => {\n    const { selected } = this.state;\n    if (selected) {\n      this.openIssue(selected);\n    }\n  };\n\n  scrollToSelectedIssue = (smooth = true) => {\n    const { selected } = this.state;\n    if (selected) {\n      const element = document.querySelector(`[data-issue=\"${selected}\"]`);\n      if (element) {\n        scrollToElement(element, { topOffset: 250, bottomOffset: 100, smooth });\n      }\n    }\n  };\n\n  fetchIssues = (\n    additional: RawQuery,\n    requestFacets = false,\n    requestOrganizations = true\n  ): Promise<FetchIssuesPromise> => {\n    const { component, organization } = this.props;\n    const { myIssues, openFacets, query } = this.state;\n\n    const facets = requestFacets\n      ? Object.keys(openFacets)\n          .filter(facet => openFacets[facet])\n          .map(mapFacet)\n          .join(',')\n      : undefined;\n\n    const parameters = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      s: 'FILE_LINE',\n      ...serializeQuery(query),\n      ps: '100',\n      organization: organization && organization.key,\n      facets,\n      ...additional\n    };\n\n    // only sorting by CREATION_DATE is allowed, so let's sort DESC\n    if (query.sort) {\n      Object.assign(parameters, { asc: 'false' });\n    }\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props.fetchIssues(parameters, requestOrganizations).then(reponse => {\n      this.setState({ loading: false });\n      return reponse;\n    });\n  };\n\n  fetchFirstIssues() {\n    this.setState({ checked: [], loading: true });\n    return this.fetchIssues({}, true).then(\n      ({ facets, issues, paging, ...other }) => {\n        if (this.mounted) {\n          const openIssue = this.getOpenIssue(this.props, issues);\n          this.setState({\n            facets: parseFacets(facets),\n            loading: false,\n            issues,\n            openIssue,\n            paging,\n            referencedComponents: keyBy(other.components, 'uuid'),\n            referencedLanguages: keyBy(other.languages, 'key'),\n            referencedRules: keyBy(other.rules, 'key'),\n            referencedUsers: keyBy(other.users, 'login'),\n            selected: issues.length > 0 ? (openIssue ? openIssue.key : issues[0].key) : undefined,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          });\n        }\n        return issues;\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  }\n\n  fetchIssuesPage = (p: number) => {\n    return this.fetchIssues({ p });\n  };\n\n  fetchIssuesUntil = (\n    p: number,\n    done: (issues: Issue[], paging: Paging) => boolean\n  ): Promise<{ issues: Issue[]; paging: Paging }> => {\n    return this.fetchIssuesPage(p).then(response => {\n      const { issues, paging } = response;\n\n      return done(issues, paging)\n        ? { issues, paging }\n        : this.fetchIssuesUntil(p + 1, done).then(nextResponse => {\n            return {\n              issues: [...issues, ...nextResponse.issues],\n              paging: nextResponse.paging\n            };\n          });\n    });\n  };\n\n  fetchMoreIssues = () => {\n    const { paging } = this.state;\n\n    if (!paging) {\n      return;\n    }\n\n    const p = paging.pageIndex + 1;\n\n    this.setState({ loading: true });\n    this.fetchIssuesPage(p).then(\n      response => {\n        if (this.mounted) {\n          this.setState(state => ({\n            loading: false,\n            issues: [...state.issues, ...response.issues],\n            paging: response.paging\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  fetchIssuesForComponent = (_component: string, _from: number, to: number) => {\n    const { issues, openIssue, paging } = this.state;\n\n    if (!openIssue || !paging) {\n      return Promise.reject(undefined);\n    }\n\n    const isSameComponent = (issue: Issue) => issue.component === openIssue.component;\n\n    const done = (issues: Issue[], paging: Paging) => {\n      if (paging.total <= paging.pageIndex * paging.pageSize) {\n        return true;\n      }\n      const lastIssue = issues[issues.length - 1];\n      if (lastIssue.component !== openIssue.component) {\n        return true;\n      }\n      return lastIssue.textRange !== undefined && lastIssue.textRange.endLine > to;\n    };\n\n    if (done(issues, paging)) {\n      return Promise.resolve(issues.filter(isSameComponent));\n    }\n\n    this.setState({ loading: true });\n    return this.fetchIssuesUntil(paging.pageIndex + 1, done).then(\n      response => {\n        const nextIssues = [...issues, ...response.issues];\n        if (this.mounted) {\n          this.setState({\n            issues: nextIssues,\n            loading: false,\n            paging: response.paging\n          });\n        }\n        return nextIssues.filter(isSameComponent);\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  };\n\n  fetchFacet = (facet: string) => {\n    const requestOrganizations = facet === 'projects';\n    return this.fetchIssues({ ps: 1, facets: mapFacet(facet) }, false, requestOrganizations).then(\n      ({ facets, ...other }) => {\n        if (this.mounted) {\n          this.setState(state => ({\n            facets: { ...state.facets, ...parseFacets(facets) },\n            referencedComponents: {\n              ...state.referencedComponents,\n              ...keyBy(other.components, 'uuid')\n            },\n            referencedLanguages: { ...state.referencedLanguages, ...keyBy(other.languages, 'key') },\n            referencedRules: { ...state.referencedRules, ...keyBy(other.rules, 'key') },\n            referencedUsers: { ...state.referencedUsers, ...keyBy(other.users, 'login') }\n          }));\n        }\n      },\n      () => {}\n    );\n  };\n\n  isFiltered = () => {\n    const serialized = serializeQuery(this.state.query);\n    return !areQueriesEqual(serialized, DEFAULT_QUERY);\n  };\n\n  getCheckedIssues = () => {\n    const issues = this.state.checked\n      .map(checked => this.state.issues.find(issue => issue.key === checked))\n      .filter((issue): issue is Issue => issue !== undefined);\n    const paging = { pageIndex: 1, pageSize: issues.length, total: issues.length };\n    return Promise.resolve({ issues, paging });\n  };\n\n  handleFilterChange = (changes: Partial<Query>) => {\n    this.setState({ loading: true });\n    this.context.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, ...changes }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  handleMyIssuesChange = (myIssues: boolean) => {\n    this.closeFacet('assignees');\n    if (!this.props.component) {\n      saveMyIssues(myIssues);\n    }\n    this.context.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, assigned: true, assignees: [] }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  closeFacet = (property: string) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [property]: false }\n    }));\n  };\n\n  handleFacetToggle = (property: string) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [property]: !state.openFacets[property] }\n    }));\n    if (!this.state.facets[property]) {\n      this.fetchFacet(property);\n    }\n  };\n\n  handleReset = () => {\n    this.context.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...DEFAULT_QUERY,\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  handlePopupToggle = (issue: string, popupName: string, open?: boolean) => {\n    this.setState((state: State) => {\n      const samePopup =\n        state.openPopup && state.openPopup.name === popupName && state.openPopup.issue === issue;\n      if (open !== false && !samePopup) {\n        return { openPopup: { issue, name: popupName } };\n      } else if (open !== true && samePopup) {\n        return { openPopup: undefined };\n      }\n      return state;\n    });\n  };\n\n  handleIssueCheck = (issue: string, event: MouseEvent) => {\n    // Selecting multiple issues with shift+click\n    const { lastChecked } = this.state;\n    if (event.shiftKey && lastChecked) {\n      this.setState(state => {\n        const issueKeys = state.issues.map(issue => issue.key);\n        const currentIssueIndex = issueKeys.indexOf(issue);\n        const lastSelectedIndex = issueKeys.indexOf(lastChecked);\n        const shouldCheck = state.checked.includes(lastChecked);\n        let { checked } = state;\n        if (currentIssueIndex < 0) {\n          return null;\n        }\n        const start = Math.min(currentIssueIndex, lastSelectedIndex);\n        const end = Math.max(currentIssueIndex, lastSelectedIndex);\n        for (let i = start; i < end + 1; i++) {\n          checked = shouldCheck\n            ? union(checked, [state.issues[i].key])\n            : without(checked, state.issues[i].key);\n        }\n        return { checked };\n      });\n    } else {\n      this.setState(state => ({\n        lastChecked: issue,\n        checked: state.checked.includes(issue)\n          ? without(state.checked, issue)\n          : [...state.checked, issue]\n      }));\n    }\n  };\n\n  handleIssueChange = (issue: Issue) => {\n    this.setState(state => ({\n      issues: state.issues.map(candidate => (candidate.key === issue.key ? issue : candidate))\n    }));\n  };\n\n  openBulkChange = (mode: 'all' | 'selected') => {\n    this.setState({ bulkChange: mode });\n    key.setScope('issues-bulk-change');\n  };\n\n  closeBulkChange = () => {\n    key.setScope('issues');\n    this.setState({ bulkChange: undefined });\n  };\n\n  handleBulkChangeClick = () => {\n    this.openBulkChange('all');\n  };\n\n  handleBulkChangeSelectedClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.openBulkChange('selected');\n  };\n\n  handleBulkChangeDone = () => {\n    this.fetchFirstIssues();\n    this.closeBulkChange();\n  };\n\n  handleReload = () => {\n    this.fetchFirstIssues();\n    if (isShortLivingBranch(this.props.branchLike) || isPullRequest(this.props.branchLike)) {\n      this.props.onBranchesChange();\n    }\n  };\n\n  handleReloadAndOpenFirst = () => {\n    this.fetchFirstIssues().then(\n      issues => {\n        if (issues.length > 0) {\n          this.openIssue(issues[0].key);\n        }\n      },\n      () => {}\n    );\n  };\n\n  selectLocation = (index?: number) => {\n    this.setState(actions.selectLocation(index));\n  };\n\n  selectNextLocation = () => {\n    this.setState(actions.selectNextLocation);\n  };\n\n  selectPreviousLocation = () => {\n    this.setState(actions.selectPreviousLocation);\n  };\n\n  onCheckAll = (checked: boolean) => {\n    if (checked) {\n      this.setState(state => ({ checked: state.issues.map(issue => issue.key) }));\n    } else {\n      this.setState({ checked: [] });\n    }\n  };\n\n  selectFlow = (index?: number) => {\n    this.setState(actions.selectFlow(index));\n  };\n\n  selectNextFlow = () => {\n    this.setState(actions.selectNextFlow);\n  };\n\n  selectPreviousFlow = () => {\n    this.setState(actions.selectPreviousFlow);\n  };\n\n  renderBulkChange(openIssue: Issue | undefined) {\n    const { component, currentUser } = this.props;\n    const { bulkChange, checked, paging, issues } = this.state;\n\n    const isAllChecked = checked.length > 0 && issues.length === checked.length;\n    const thirdState = checked.length > 0 && !isAllChecked;\n    const isChecked = isAllChecked || thirdState;\n\n    if (!currentUser.isLoggedIn || openIssue) {\n      return null;\n    }\n\n    return (\n      <div className=\"pull-left\">\n        <Checkbox\n          checked={isChecked}\n          className=\"spacer-right vertical-middle\"\n          id=\"issues-selection\"\n          onCheck={this.onCheckAll}\n          thirdState={thirdState}\n        />\n        {checked.length > 0 ? (\n          <Dropdown\n            className=\"display-inline-block\"\n            overlay={\n              <ul className=\"menu\">\n                <li>\n                  <a href=\"#\" onClick={this.handleBulkChangeClick}>\n                    {translateWithParameters('issues.bulk_change', paging ? paging.total : 0)}\n                  </a>\n                </li>\n                <li>\n                  <a href=\"#\" onClick={this.handleBulkChangeSelectedClick}>\n                    {translateWithParameters('issues.bulk_change_selected', checked.length)}\n                  </a>\n                </li>\n              </ul>\n            }>\n            <Button id=\"issues-bulk-change\">\n              {translate('bulk_change')}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Dropdown>\n        ) : (\n          <Button id=\"issues-bulk-change\" onClick={this.handleBulkChangeClick}>\n            {translate('bulk_change')}\n          </Button>\n        )}\n        {bulkChange && (\n          <BulkChangeModal\n            component={component}\n            currentUser={currentUser}\n            fetchIssues={bulkChange === 'all' ? this.fetchIssues : this.getCheckedIssues}\n            onClose={this.closeBulkChange}\n            onDone={this.handleBulkChangeDone}\n            organization={this.props.organization}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderFacets() {\n    const { component, currentUser } = this.props;\n    const { query } = this.state;\n\n    return (\n      <div className=\"layout-page-filters\">\n        {currentUser.isLoggedIn &&\n          !isSonarCloud() && (\n            <MyIssuesFilter\n              myIssues={this.state.myIssues}\n              onMyIssuesChange={this.handleMyIssuesChange}\n            />\n          )}\n        <FiltersHeader displayReset={this.isFiltered()} onReset={this.handleReset} />\n        <Sidebar\n          component={component}\n          facets={this.state.facets}\n          loading={this.state.loading}\n          myIssues={this.state.myIssues}\n          onFacetToggle={this.handleFacetToggle}\n          onFilterChange={this.handleFilterChange}\n          openFacets={this.state.openFacets}\n          organization={this.props.organization}\n          query={query}\n          referencedComponents={this.state.referencedComponents}\n          referencedLanguages={this.state.referencedLanguages}\n          referencedRules={this.state.referencedRules}\n          referencedUsers={this.state.referencedUsers}\n        />\n      </div>\n    );\n  }\n\n  renderConciseIssuesList() {\n    const { issues, paging, query } = this.state;\n\n    return (\n      <div className=\"layout-page-filters\">\n        <ConciseIssuesListHeader\n          displayBackButton={query.issues.length !== 1}\n          loading={this.state.loading}\n          onBackClick={this.closeIssue}\n          onReload={this.handleReloadAndOpenFirst}\n          paging={paging}\n          selectedIndex={this.getSelectedIndex()}\n        />\n        <ConciseIssuesList\n          issues={issues}\n          onFlowSelect={this.selectFlow}\n          onIssueSelect={this.openIssue}\n          onLocationSelect={this.selectLocation}\n          selected={this.state.selected}\n          selectedFlowIndex={this.state.selectedFlowIndex}\n          selectedLocationIndex={this.state.selectedLocationIndex}\n        />\n        {paging &&\n          paging.total > 0 && (\n            <ListFooter\n              count={issues.length}\n              loadMore={this.fetchMoreIssues}\n              total={paging.total}\n            />\n          )}\n      </div>\n    );\n  }\n\n  renderSide(openIssue: Issue | undefined) {\n    return (\n      <ScreenPositionHelper className=\"layout-page-side-outer\">\n        {({ top }) => (\n          <div className=\"layout-page-side\" style={{ top }}>\n            <div className=\"layout-page-side-inner\">\n              {openIssue ? this.renderConciseIssuesList() : this.renderFacets()}\n            </div>\n          </div>\n        )}\n      </ScreenPositionHelper>\n    );\n  }\n\n  renderList() {\n    const { branchLike, component, currentUser, organization } = this.props;\n    const { issues, openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    const selectedIssue = selectedIndex !== undefined ? issues[selectedIndex] : undefined;\n\n    if (!paging || openIssue) {\n      return null;\n    }\n\n    let noIssuesMessage = null;\n    if (paging.total === 0) {\n      if (this.isFiltered()) {\n        noIssuesMessage = <EmptySearch />;\n      } else if (this.state.myIssues) {\n        noIssuesMessage = <NoMyIssues />;\n      } else {\n        noIssuesMessage = <NoIssues />;\n      }\n    }\n\n    return (\n      <div>\n        {paging.total > 0 && (\n          <IssuesList\n            branchLike={branchLike}\n            checked={this.state.checked}\n            component={component}\n            issues={issues}\n            onFilterChange={this.handleFilterChange}\n            onIssueChange={this.handleIssueChange}\n            onIssueCheck={currentUser.isLoggedIn ? this.handleIssueCheck : undefined}\n            onIssueClick={this.openIssue}\n            onPopupToggle={this.handlePopupToggle}\n            openPopup={this.state.openPopup}\n            organization={organization}\n            selectedIssue={selectedIssue}\n          />\n        )}\n\n        {paging.total > 0 && (\n          <ListFooter count={issues.length} loadMore={this.fetchMoreIssues} total={paging.total} />\n        )}\n\n        {noIssuesMessage}\n      </div>\n    );\n  }\n\n  renderShortcutsForLocations() {\n    const { openIssue } = this.state;\n    if (!openIssue || (!openIssue.secondaryLocations.length && !openIssue.flows.length)) {\n      return null;\n    }\n    const hasSeveralFlows = openIssue.flows.length > 1;\n    return (\n      <div className=\"pull-right note\">\n        <span className=\"shortcut-button little-spacer-right\">alt</span>\n        <span className=\"little-spacer-right\">{'+'}</span>\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        {hasSeveralFlows && (\n          <span>\n            <span className=\"shortcut-button little-spacer-right\"></span>\n            <span className=\"shortcut-button little-spacer-right\"></span>\n          </span>\n        )}\n        {translate('issues.to_navigate_issue_locations')}\n      </div>\n    );\n  }\n\n  render() {\n    const { component } = this.props;\n    const { openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    return (\n      <div className=\"layout-page issues\" id=\"issues-page\">\n        <Suggestions suggestions=\"issues\" />\n        <Helmet title={openIssue ? openIssue.message : translate('issues.page')} />\n\n        {this.renderSide(openIssue)}\n\n        <div className=\"layout-page-main\">\n          <div className=\"layout-page-header-panel layout-page-main-header issues-main-header\">\n            <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n              <div className=\"layout-page-main-inner\">\n                {this.renderBulkChange(openIssue)}\n                {openIssue ? (\n                  <div className=\"pull-left width-60\">\n                    <ComponentBreadcrumbs\n                      branchLike={this.props.branchLike}\n                      component={component}\n                      issue={openIssue}\n                      organization={this.props.organization}\n                      selectedFlowIndex={this.state.selectedFlowIndex}\n                      selectedLocationIndex={this.state.selectedLocationIndex}\n                    />\n                  </div>\n                ) : (\n                  <PageActions\n                    canSetHome={Boolean(\n                      !this.props.organization &&\n                        !this.props.component &&\n                        (!isSonarCloud() || this.props.myIssues)\n                    )}\n                    loading={this.state.loading}\n                    onReload={this.handleReload}\n                    paging={paging}\n                    selectedIndex={selectedIndex}\n                  />\n                )}\n                {this.renderShortcutsForLocations()}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"layout-page-main-inner\">\n            <div>\n              {openIssue ? (\n                <IssuesSourceViewer\n                  branchLike={this.props.branchLike}\n                  loadIssues={this.fetchIssuesForComponent}\n                  locationsNavigator={this.state.locationsNavigator}\n                  onIssueChange={this.handleIssueChange}\n                  onIssueSelect={this.openIssue}\n                  onLocationSelect={this.selectLocation}\n                  openIssue={openIssue}\n                  selectedFlowIndex={this.state.selectedFlowIndex}\n                  selectedLocationIndex={this.state.selectedLocationIndex}\n                />\n              ) : (\n                this.renderList()\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default class Suggestions extends React.PureComponent<Props> {\n  context!: { suggestions: SuggestionsContext };\n\n  static contextTypes = {\n    suggestions: PropTypes.object.isRequired\n  };\n\n  componentDidMount() {\n    this.context.suggestions.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.context.suggestions.removeSuggestions(this.props.suggestions);\n      this.context.suggestions.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.context.suggestions.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { isOnMac } from './utils';\nimport Tooltip from '../controls/Tooltip';\nimport { translate } from '../../helpers/l10n';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  loading?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  tooltip?: boolean;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  render() {\n    const className = classNames('facet', 'search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    const overlay =\n      this.props.tooltip && !this.props.disabled\n        ? translate(\n            isOnMac()\n              ? 'shortcuts.section.global.facets.multiselection.mac'\n              : 'shortcuts.section.global.facets.multiselection'\n          )\n        : undefined;\n\n    return (\n      <Tooltip overlay={overlay} placement=\"right\">\n        {this.props.disabled ? (\n          <span className={className} data-facet={this.props.value}>\n            <span className=\"facet-name\">{this.props.name}</span>\n            {this.props.stat != null && (\n              <span className=\"facet-stat\">{this.props.loading ? '' : this.props.stat}</span>\n            )}\n          </span>\n        ) : (\n          <a\n            className={className}\n            data-facet={this.props.value}\n            href=\"#\"\n            onClick={this.handleClick}>\n            <span className=\"facet-name\">{this.props.name}</span>\n            {this.props.stat != null && (\n              <span className=\"facet-stat\">{this.props.loading ? '' : this.props.stat}</span>\n            )}\n          </a>\n        )}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nexport function isOnMac() {\n  return navigator.userAgent.indexOf('Mac OS X') !== -1;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OpenCloseIcon from '../icons-components/OpenCloseIcon';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { Button } from '../ui/buttons';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (this.props.open || !values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge badge-secondary is-rounded text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate('clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n}\n\nexport default function FacetItemsList(props: Props) {\n  return <div className=\"search-navigator-facet-list\">{props.children}</div>;\n}\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { post, getJSON, postJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { Rule, RuleDetails, RuleActivation } from '../app/types';\n\nexport interface GetRulesAppResponse {\n  canWrite?: boolean;\n  repositories: { key: string; language: string; name: string }[];\n}\n\nexport function getRulesApp(data: {\n  organization: string | undefined;\n}): Promise<GetRulesAppResponse> {\n  return getJSON('/api/rules/app', data).catch(throwGlobalError);\n}\n\nexport interface SearchRulesResponse {\n  actives?: { [rule: string]: RuleActivation[] };\n  facets?: { property: string; values: { count: number; val: string }[] }[];\n  p: number;\n  ps: number;\n  rules: Rule[];\n  total: number;\n}\n\nexport function searchRules(data: {\n  organization: string | undefined;\n  [x: string]: any;\n}): Promise<SearchRulesResponse> {\n  return getJSON('/api/rules/search', data).catch(throwGlobalError);\n}\n\nexport function takeFacet(response: any, property: string) {\n  const facet = response.facets.find((facet: any) => facet.property === property);\n  return facet ? facet.values : [];\n}\n\nexport function getRuleDetails(parameters: {\n  actives?: boolean;\n  key: string;\n  organization: string | undefined;\n}): Promise<{ actives?: RuleActivation[]; rule: RuleDetails }> {\n  return getJSON('/api/rules/show', parameters).catch(throwGlobalError);\n}\n\nexport function getRuleTags(parameters: {\n  organization: string | undefined;\n  ps?: number;\n  q: string;\n}): Promise<string[]> {\n  return getJSON('/api/rules/tags', parameters).then(r => r.tags, throwGlobalError);\n}\n\nexport function createRule(data: {\n  custom_key: string;\n  markdown_description: string;\n  name: string;\n  organization: string | undefined;\n  params?: string;\n  prevent_reactivation?: boolean;\n  severity?: string;\n  status?: string;\n  template_key: string;\n  type?: string;\n}): Promise<RuleDetails> {\n  return postJSON('/api/rules/create', data).then(\n    r => r.rule,\n    error => {\n      // do not show global error if the status code is 409\n      // this case should be handled inside a component\n      if (error && error.response && error.response.status === 409) {\n        return Promise.reject(error.response);\n      } else {\n        return throwGlobalError(error);\n      }\n    }\n  );\n}\n\nexport function deleteRule(parameters: { key: string; organization: string | undefined }) {\n  return post('/api/rules/delete', parameters).catch(throwGlobalError);\n}\n\nexport function updateRule(data: {\n  key: string;\n  markdown_description?: string;\n  markdown_note?: string;\n  name?: string;\n  organization: string | undefined;\n  params?: string;\n  remediation_fn_base_effort?: string;\n  remediation_fn_type?: string;\n  remediation_fy_gap_multiplier?: string;\n  severity?: string;\n  status?: string;\n  tags?: string;\n}): Promise<RuleDetails> {\n  return postJSON('/api/rules/update', data).then(r => r.rule, throwGlobalError);\n}\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { debounce } from 'lodash';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronDownIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IconProps } from './Icon';\nimport ChevronDownIcon from './ChevronDownIcon';\nimport ChevronRightIcon from './ChevronRightcon';\n\ninterface Props extends IconProps {\n  open: boolean;\n}\n\nexport default function OpenCloseIcon({ open, ...props }: Props) {\n  return open ? <ChevronDownIcon {...props} /> : <ChevronRightIcon {...props} />;\n}\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #eae3c7}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#777}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#777}.search-navigator-facet{position:relative;display:inline-block;vertical-align:middle;width:100%;margin:0 0 1px;padding:4px 6px;border:none;border-radius:2px;box-sizing:border-box;white-space:normal;overflow:hidden;font-size:0;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#444}a.search-navigator-facet:focus,a.search-navigator-facet:hover{border:1px solid #4b9fd5;padding:3px 5px}a.search-navigator-facet:focus .facet-stat,a.search-navigator-facet:hover .facet-stat{top:-1px;right:-1px}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#777}.search-navigator-facet .facet-name{line-height:16px;background-color:#f3f3f3;color:#777;font-size:12px;white-space:nowrap}.search-navigator-facet .facet-stat{position:absolute;top:0;right:0;margin-left:5px;padding:5px;background-color:#f3f3f3;color:#777;font-size:12px}.search-navigator-facet .facet-stat:before{content:\\\" \\\";position:absolute;top:0;bottom:0;right:100%;width:10px;background-image:linear-gradient(90deg,hsla(0,0%,95%,0),#f3f3f3 75%)}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#444}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,hsla(47,83%,91%,0),#fbf3d5 75%)}.search-navigator-facet.active{border:1px solid #4b9fd5;padding:3px 5px;background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-name{background-color:#cae3f2}.search-navigator-facet.active .facet-stat{border-color:#4b9fd5;background-color:#cae3f2;top:-1px;right:-1px}.search-navigator-facet.active .facet-stat:before{background-image:linear-gradient(90deg,rgba(202,227,242,0),#cae3f2 75%)}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#777}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:4px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{padding-left:5px;padding-right:5px;border-left:1px solid #4b9fd5;border-right:1px solid #4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-stat,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet .facet-stat{right:-1px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{padding-bottom:3px;border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{padding-bottom:3px;border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-name{background-color:#cae3f2}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-stat{border-color:#4b9fd5;background-color:#cae3f2}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(202,227,242,0),#cae3f2 75%)}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-name,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-name{background-color:#a1cde8}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-stat,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-stat{border-color:#4b9fd5;background-color:#a1cde8}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-stat:before,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(161,205,232,0),#a1cde8 75%)}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#444;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#444}.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#444;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/lib/index.js??postcss!./search-navigator.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/lib/index.js??postcss!./search-navigator.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/lib/index.js??postcss!./search-navigator.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseIntersection;\n","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nmodule.exports = intersection;\n"],"sourceRoot":""}