{"version":3,"sources":["webpack:///./src/main/js/components/icons-components/ChartLegendIcon.tsx","webpack:///./src/main/js/components/charts/LineChart.css?1665","webpack:///./node_modules/lodash/flatMap.js","webpack:///./src/main/js/components/intl/TimeFormatter.tsx","webpack:///./src/main/js/components/controls/DayPicker.css","webpack:///./src/main/js/components/controls/DayPicker.css?dbfd","webpack:///./node_modules/date-fns/sub_months/index.js","webpack:///./node_modules/date-fns/set_year/index.js","webpack:///./node_modules/date-fns/set_month/index.js","webpack:///./node_modules/lodash/_baseRange.js","webpack:///./node_modules/lodash/_createRange.js","webpack:///./node_modules/lodash/range.js","webpack:///./src/main/js/api/time-machine.ts","webpack:///./node_modules/lodash/_baseSlice.js","webpack:///./node_modules/lodash/chunk.js","webpack:///./src/main/js/components/charts/AdvancedTimeline.css","webpack:///./src/main/js/components/charts/AdvancedTimeline.css?bebb","webpack:///./src/main/js/components/charts/AdvancedTimeline.js","webpack:///./node_modules/lodash/_baseLt.js","webpack:///./node_modules/lodash/minBy.js","webpack:///./src/main/js/components/charts/LineChart.css","webpack:///./node_modules/lodash/findLastIndex.js","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./src/main/js/components/controls/DateRangeInput.tsx","webpack:///./src/main/js/api/projectActivity.ts","webpack:///./src/main/js/apps/projectActivity/components/projectActivity.css","webpack:///./src/main/js/apps/projectActivity/components/projectActivity.css?c530","webpack:///./src/main/js/components/charts/ZoomTimeLine.css","webpack:///./src/main/js/components/charts/ZoomTimeLine.css?fa25","webpack:///./node_modules/lodash/findLast.js","webpack:///./node_modules/lodash/maxBy.js","webpack:///./src/main/js/components/icons-components/ProjectEventIcon.tsx","webpack:///./src/main/js/apps/projectActivity/components/ProjectActivityEventSelectOption.js","webpack:///./src/main/js/apps/projectActivity/components/ProjectActivityEventSelectValue.js","webpack:///./src/main/js/apps/projectActivity/components/ProjectActivityDateInput.js","webpack:///./src/main/js/apps/projectActivity/components/ProjectActivityPageHeader.js","webpack:///./src/main/js/apps/projectActivity/components/EventInner.js","webpack:///./src/main/js/apps/projectActivity/components/forms/ChangeEventForm.tsx","webpack:///./src/main/js/apps/projectActivity/components/forms/RemoveEventForm.tsx","webpack:///./src/main/js/apps/projectActivity/components/Event.tsx","webpack:///./src/main/js/apps/projectActivity/components/Events.js","webpack:///./src/main/js/apps/projectActivity/components/forms/AddEventForm.tsx","webpack:///./src/main/js/apps/projectActivity/components/forms/RemoveAnalysisForm.tsx","webpack:///./src/main/js/components/intl/TimeTooltipFormatter.tsx","webpack:///./src/main/js/apps/projectActivity/components/ProjectActivityAnalysis.js","webpack:///./src/main/js/apps/projectActivity/components/ProjectActivityAnalysesList.js","webpack:///./src/main/js/apps/projectActivity/components/forms/AddGraphMetricPopup.tsx","webpack:///./src/main/js/apps/projectActivity/components/forms/AddGraphMetric.js","webpack:///./src/main/js/apps/projectActivity/components/ProjectActivityGraphsHeader.js","webpack:///./src/main/js/components/charts/ZoomTimeLine.js","webpack:///./src/main/js/apps/projectActivity/components/GraphsZoom.js","webpack:///./src/main/js/apps/projectActivity/components/GraphsTooltipsContent.js","webpack:///./src/main/js/apps/projectActivity/components/GraphsTooltipsContentEvents.js","webpack:///./src/main/js/apps/projectActivity/components/GraphsTooltipsContentCoverage.js","webpack:///./src/main/js/apps/projectActivity/components/GraphsTooltipsContentDuplication.js","webpack:///./src/main/js/apps/projectActivity/components/GraphsTooltipsContentIssues.js","webpack:///./src/main/js/apps/projectActivity/components/GraphsTooltips.js","webpack:///./src/main/js/apps/projectActivity/components/GraphsLegendItem.tsx","webpack:///./src/main/js/apps/projectActivity/components/GraphsLegendCustom.js","webpack:///./src/main/js/apps/projectActivity/components/GraphsLegendStatic.js","webpack:///./src/main/js/apps/projectActivity/components/GraphHistory.js","webpack:///./src/main/js/apps/projectActivity/components/GraphsHistory.js","webpack:///./src/main/js/apps/projectActivity/components/ProjectActivityGraphs.js","webpack:///./src/main/js/apps/projectActivity/components/ProjectActivityApp.js","webpack:///./src/main/js/apps/projectActivity/actions.js","webpack:///./src/main/js/apps/projectActivity/components/ProjectActivityAppContainer.js","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/components/controls/SimpleModal.tsx","webpack:///./node_modules/lodash/groupBy.js","webpack:///./src/main/js/components/icons-components/SettingsIcon.tsx","webpack:///./src/main/js/components/controls/ActionsDropdown.tsx","webpack:///./node_modules/lodash/toInteger.js","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./src/main/js/components/controls/ConfirmModal.tsx","webpack:///./src/main/js/components/icons-components/ChevronRightcon.tsx","webpack:///./node_modules/lodash/_createFind.js","webpack:///./src/main/js/apps/projectActivity/utils.js","webpack:///./node_modules/lodash/findIndex.js","webpack:///./node_modules/lodash/find.js","webpack:///./node_modules/date-fns/get_days_in_month/index.js","webpack:///./node_modules/date-fns/add_months/index.js","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./src/main/js/components/controls/styles.css","webpack:///./src/main/js/components/controls/styles.css?e95d","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./src/main/js/components/icons-components/CalendarIcon.tsx","webpack:///./src/main/js/components/icons-components/ChevronLeftIcon.tsx","webpack:///./src/main/js/components/controls/DateInput.tsx"],"names":["ChartLegendIcon","_a","className","_b","fill","size","react__WEBPACK_IMPORTED_MODULE_0__","_Icon__WEBPACK_IMPORTED_MODULE_1__","d","style","content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","baseFlatten","map","collection","iteratee","formatterOption","hour","minute","longFormatterOption","second","TimeFormatter","children","date","long","react_intl__WEBPACK_IMPORTED_MODULE_1__","__assign","value","Object","_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","push","addMonths","dirtyDate","dirtyAmount","amount","Number","parse","dirtyYear","year","setFullYear","getDaysInMonth","dirtyMonth","month","getFullYear","day","getDate","dateWithDesiredMonth","Date","setHours","daysInMonth","setMonth","Math","min","nativeCeil","ceil","nativeMax","max","start","end","step","fromRight","index","length","result","Array","baseRange","isIterateeCall","toFinite","range","createRange","getAllTimeMachineData","data","prev","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","catch","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","getTimeMachineData","ps","then","r","measures","measure","idx","history","concat","paging","pageIndex","pageSize","total","p","array","baseSlice","toInteger","guard","resIndex","AdvancedTimeline","_super","props","_this","call","this","getRatingScale","availableHeight","d3_scale__WEBPACK_IMPORTED_MODULE_8__","domain","getLevelScale","getYScale","flatData","metricType","d3_array__WEBPACK_IMPORTED_MODULE_7__","y","nice","getXScale","availableWidth","startDate","endDate","dateRange","x","xScale","lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default","clamp","maxXRange","getScales","width","padding","height","lodash_flatten__WEBPACK_IMPORTED_MODULE_4___default","series","serie","yScale","getSelectedDatePos","selectedDate","firstSerie","findIndex","valueOf","xRange","sort","xPos","selectedDateXPos","selectedDateIdx","getEventMarker","half","getMouseOverlayPos","target","state","mouseOverlayPos","pos","getBoundingClientRect","setState","handleWheel","evt","preventDefault","parentBbox","mouseXPos","pageX","left","speed","deltaMode","zoomSpeed","leftPos","round","deltaY","rightPos","invert","handleZoomUpdate","updateZoom","handleMouseMove","updateTooltipPos","handleMouseEnter","mouseOver","handleMouseOut","updateTooltip","handleClick","updateSelectedDate","bisectX","right","previousPoint","nextPoint","xPos_1","renderHorizontalGrid","formatYTick","ticks","maxYTicksCount","formattedTicks","tick","lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","key","dx","dy","textAnchor","x1","x2","y1","y2","renderXAxisTicks","format","tickFormat","slice","nextTick","renderLeak","yRange","leakWidth","leakPeriodDate","_app_theme__WEBPACK_IMPORTED_MODULE_10__","renderLines","lineGenerator","d3_shape__WEBPACK_IMPORTED_MODULE_9__","defined","basisCurve","curve","name","classnames__WEBPACK_IMPORTED_MODULE_6___default","renderAreas","areaGenerator","y0","renderEvents","events","eventSize","inRangeEvents","filter","event","offset","getTime","renderSelectedDate","point","cx","cy","renderClipPath","id","renderMouseEventsOverlay","zoomEnabled","mouseEvents","onWheel","onMouseEnter","onMouseMove","onMouseOut","onClick","scales","selectedDatePos","lodash_throttle__WEBPACK_IMPORTED_MODULE_1___default","__extends","prototype","componentWillReceiveProps","nextProps","lodash_isEqual__WEBPACK_IMPORTED_MODULE_3___default","render","disableZoom","isZoomed","chart-zoomed","hideGrid","hideXAxis","showAreas","showEventMarkers","defaultProps","PureComponent","other","baseExtremum","baseIteratee","baseLt","baseFindIndex","nativeMin","predicate","fromIndex","DateRangeInput","apply","arguments","handleFromChange","from","onChange","to","setTimeout","toDateInput","focus","handleToChange","defineProperty","classnames__WEBPACK_IMPORTED_MODULE_1__","_DateInput__WEBPACK_IMPORTED_MODULE_2__","currentMonth","data-test","highlightTo","maxDate","placeholder","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","highlightFrom","minDate","ref","element","getProjectActivity","createEvent","analysis","category","description","deleteEvent","changeEvent","deleteAnalysis","findLast","createFind","baseGt","ProjectEventIcon","_c","index_js_exposed","Icon","stroke","strokeWidth","ProjectActivityEventSelectOption","handleMouseDown","stopPropagation","onSelect","option","onFocus","isFocused","index_js_exposed_default","onMouseDown","title","label","ProjectActivityEventSelectValue","ProjectActivityDateInput","handleChange","handleResetClick","ProjectActivityDateInput_extends","buttons","disabled","l10n","ProjectActivityPageHeader","handleCategoryChange","updateQuery","ProjectActivityPageHeader_extends","eventTypes","project","qualifier","utils","includes","Select","clearable","searchable","optionComponent","components_ProjectActivityEventSelectOption","valueComponent","components_ProjectActivityDateInput","EventInner","ChangeEventForm","changeInput","handleSubmit","ChangeEventForm_extends","ConfirmModal","confirmButtonText","confirmDisable","header","onClose","onConfirm","autoFocus","type","RemoveEventForm","RemoveEventForm_extends","isDestructive","removeEventQuestion","Event","mounted","changing","deleting","startChanging","stopChanging","startDeleting","stopDeleting","Event_extends","componentDidMount","componentWillUnmount","canAdmin","isOther","isVersion","canChange","canDelete","isFirst","showActions","Tooltip","overlay","forms_ChangeEventForm","forms_RemoveEventForm","Events","sortedEvents","sortBy_default","components_Event","AddEventForm","handleNameChange","addEvent","AddEventForm_extends","addEventButtonText","RemoveAnalysisForm","confirmData","TimeTooltipFormatter","parsedDate","helpers_dates","formattedTime","mouseEnterDelay","dateTime","toISOString","ProjectActivityAnalysis","addEventForm","addVersionForm","removeAnalysisForm","e","handleRemoveAnalysisClick","closeRemoveAnalysisForm","handleAddEventClick","closeAddEventForm","handleAddVersionClick","closeAddVersionForm","ProjectActivityAnalysis_extends","analysisTitle","hasVersion","find","canAddVersion","canCreateVersion","canAddEvent","canDeleteAnalyses","classnames_default","selected","data-date","tabIndex","ActionsDropdown","small","toggleClassName","destructive","forms_AddEventForm","addVersion","addCustomEvent","ProjectActivityAnalysesList","handleScroll","updateStickyBadges","resetScrollTop","newScrollTop","forceBadgeAlignement","scrollContainer","scrollTop","badges","removeAttribute","classList","remove","scrollToDate","targetDate","analyses","getAttribute","containerHeight","offsetHeight","scrollDiff","abs","offsetTop","badge","originOffsetTop","setAttribute","toString","contains","add","throttle_default","ProjectActivityAnalysesList_extends","document","getElementsByClassName","componentDidUpdate","prevProps","query","byVersionByDay","hasFilteredData","keys","byDay","initializing","firstAnalysisKey","onScroll","paddingTop","version","days","first","data-day","DateFormatter","components_ProjectActivityAnalysis","analysesLoading","AddGraphMetricPopup","elements","metricsTypeFilter","__rest","footerNode","selectedElements","join","MultiSelect","allowNewElements","allowSelection","filterSelected","onSearch","onUnselect","renderLabel","AddGraphMetric","metrics","selectedMetrics","getLocalizedMetricNameFromKey","toLowerCase","getPopupPos","containerPos","top","filterMetricsElements","metric","hidden","helpers_measures","getSelectedMetricsElements","find_default","Promise","resolve","addMetric","removeMetric","AddGraphMetric_extends","filteredMetrics","Dropdown","DropdownIcon","ProjectActivityGraphsHeader","handleGraphChange","graph","updateGraph","ProjectActivityGraphsHeader_extends","selectOptions","forms_AddGraphMetric","addCustomMetric","removeCustomMetric","ZoomTimeLine","d3_scale","d3_array","flatten_default","handleDoubleClick","xDim","handleSelectionDrag","checkDelta","deltaX","handleSelectionHandleDrag","fixedX","handleDirection","handleNewZoomDragStart","overlayLeftPos","node","newZoomStart","handleNewZoomDrag","handleNewZoomDragEnd","xArray","renderBaseLine","renderTicks","theme","d3_shape","renderZoomHandle","react_draggable_default","axis","bounds","position","onDrag","fixedPos","direction","onStop","yDim","renderZoom","startX","endX","zoomBoxWidth","showZoomArea","react_draggable","onStart","floor","onDoubleClick","ZoomTimeLine_extends","showXTicks","GraphsZoom","loading","AutoSizer_default","disableHeight","components_charts_ZoomTimeLine","graphEndDate","interpolate","metricsType","graphStartDate","updateGraphZoom","GraphsTooltipsContent","translatedName","GraphsTooltipsContentEvents","addSeparator","colSpan","GraphsTooltipsContentCoverage","measuresHistory","tooltipIdx","uncovered","coverage","uncoveredValue","coverageValue","GraphsTooltipsContentDuplication","duplicationDensity","duplicationDensityValue","METRIC_RATING","bugs","vulnerabilities","code_smells","GraphsTooltipsContentIssues","rating","ratingValue","Rating","GraphsTooltips","GraphsTooltips_extends","renderContent","formatValue","tooltipPos","placement","popups","RightTop","graphWidth","LeftTop","tooltipContent","Boolean","DateTimeFormatter","GraphsLegendItem","GraphsLegendItem_extends","isActionable","legendClass","classnames","project-activity-graph-legend-actionable","showWarning","AlertWarnIcon","color","ClearIcon","GraphsLegendCustom","hasData","legendItem","components_GraphsLegendItem","GraphsLegendStatic","GraphHistory","tooltipXPos","formatTooltipValue","GraphHistory_extends","isCustom","components_GraphsTooltips","GraphsHistory","getEvents","eventFilter","filteredEvents","reduce","acc","indexOf","getSelectedDateEvents","GraphsHistory_extends","isEqual_default","DeferredSpinner","graphs","components_GraphHistory","MAX_GRAPH_NB","MAX_SERIES_PER_GRAPH","ProjectActivityGraphs","getStateZoomDates","newSeries","newDates","firstValid","minBy_default","lastValid","maxBy_default","findLast_default","getMetricsTypeFilter","customMetrics","storage","removedMetric","customGraphs","split","updateQueryDateRange","dates","sortedDates","debounce_default","ProjectActivityGraphs_extends","newGraphs","newState","components_ProjectActivityGraphsHeader","components_GraphsHistory","ProjectActivityApp","configuration","showHistory","Suggestions","suggestions","Helmet_default","components_ProjectActivityPageHeader","components_ProjectActivityAnalysesList","components_ProjectActivityGraphs","graphLoading","item","actions_assign","eventItem","actions_deleteAnalysis","ProjectActivityAppContainer_ProjectActivityAppContainer","ProjectActivityAppContainer","api_projectActivity","ProjectActivityAppContainer_rest","updateGraphData","fetchActivity","additional","parameters","ProjectActivityAppContainer_assign","branches","branchLike","fetchMeasuresHistory","time_machine","component","loadAllActivities","prevResult","nextPage","getTopLevelComponent","current","breadcrumbs","graphMetrics","newQuery","context","router","pathname","location","shouldRedirect","locationQuery","filtered","some","emptyCustomGraph","initialized","ProjectActivityAppContainer_extends","replace","firstLoadData","topLevelComponent","all","api_metrics","response","contextTypes","prop_types_default","object","isRequired","addSuggestions","removeSuggestions","prop_types__WEBPACK_IMPORTED_MODULE_1__","SimpleModal","submitting","stopSubmitting","handleCloseClick","currentTarget","blur","handleFormSubmit","submit","handleSubmitClick","onSubmit","_components_controls_Modal__WEBPACK_IMPORTED_MODULE_1__","contentLabel","onRequestClose","onCloseClick","onFormSubmit","onSubmitClick","baseAssignValue","createAggregator","hasOwnProperty","groupBy","SettingsIcon","viewBox","onOpen","button-small","ActionsDropdown_ActionsDropdownItem","ActionsDropdownItem","text-danger","download","href","es","ActionsDropdownDivider","remainder","renderModalContent","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","_ui_buttons__WEBPACK_IMPORTED_MODULE_4__","_SimpleModal__WEBPACK_IMPORTED_MODULE_1__","ChevronRightIcon","isArrayLike","findIndexFunc","iterable","EVENT_TYPES","APPLICATION_EVENT_TYPES","DEFAULT_GRAPH","GRAPH_TYPES","GRAPHS_METRICS_DISPLAYED","issues","duplications","GRAPHS_METRICS","PROJECT_ACTIVITY_GRAPH","PROJECT_ACTIVITY_GRAPH_CUSTOM","datesQueryChanged","prevQuery","nextQuery","lodash_isEqual__WEBPACK_IMPORTED_MODULE_1___default","activityQueryChanged","customMetricsChanged","hasDataValues","hasHistoryData","hasHistoryDataValue","historyQueryChanged","isCustomGraph","selectedDateQueryChanged","generateCoveredLinesMetric","uncoveredLines","linesToCover","_helpers_l10n__WEBPACK_IMPORTED_MODULE_7__","generateSeries","displayedMetrics","lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default","isArray","findMetric","splitSeriesInGraphs","maxGraph","maxSeries","lodash_flatMap__WEBPACK_IMPORTED_MODULE_3___default","lodash_groupBy__WEBPACK_IMPORTED_MODULE_2___default","lodash_chunk__WEBPACK_IMPORTED_MODULE_4___default","getSeriesMetricType","getAnalysesByVersionByDay","currentVersion","versionEvent","newVersion","_helpers_dates__WEBPACK_IMPORTED_MODULE_6__","matchFilters","isAfterFrom","isBeforeTo","hasSelectedCategoryEvents","getDisplayedHistoryMetrics","getHistoryMetrics","parseGraph","_helpers_query__WEBPACK_IMPORTED_MODULE_5__","serializeGraph","parseQuery","urlQuery","serializeQuery","serializeUrlQuery","custom_metrics","selected_date","monthIndex","getMonth","lastDayOfMonth","desiredMonth","isSymbol","comparator","computed","MultiSelectOption","handleSelect","onSelectChange","handleHover","onHover","icon-checkbox-checked","icon-checkbox-invisible","activeClass","active","onMouseOver","custom","MultiSelect_MultiSelect","handleSelectChange","onSelectItem","onUnselectItem","handleSearchChange","onSearchQuery","validateSearchInput","handleElementHover","prevState","activeIdx","getAllElements","handleKeyboard","keyCode","selectNextElement","selectPreviousElement","toggleSelect","stopLoading","isNewElement","elem","updateSelectedElements","updateUnselectedElements","listSize","unselectedElements","difference_default","setElementActive","allElements","MultiSelect_extends","container","addEventListener","totalElements","searchInput","removeEventListener","_d","_e","activeElement","showNewElement","infiniteList","listClasses","menu-vertically-limited","spacer-top","with-top-separator","with-bottom-separator","div","SearchBox","common_MultiSelectOption","CalendarIcon","ChevronLeftIcon","DateInput_DayPicker","lazyLoad","__esModule","assign","default","DateInput_DateInput","DateInput","input","openCalendar","closeCalendar","lastHovered","open","handleDayClick","modifiers","handleDayMouseEnter","handleCurrentMonthChange","set_month","handleCurrentYearChange","set_year","handlePreviousMonthClick","sub_months","handleNextMonthClick","add_months","formatDate","intl","formattedValue","after","months","range_default","years","selectedDays","lastHoveredOrValue","highlighted","weekdaysLong","weekdaysShort","OutsideClickHandler","onClickOutside","inputClassName","is-filled","readOnly","String","ChevronRightcon","captionElement","NullComponent","disabledDays","before","firstDayOfWeek","navbarElement","onDayClick","onDayMouseEnter","index_es"],"mappings":"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","file":"js/294.9b5bbf9e.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChartLegendIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.325 7.143v1.714q0 0.357-0.25 0.607t-0.607 0.25h-10.857q-0.357 0-0.607-0.25t-0.25-0.607v-1.714q0-0.357 0.25-0.607t0.607-0.25h10.857q0.357 0 0.607 0.25t0.25 0.607z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LineChart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LineChart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LineChart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nmodule.exports = flatMap;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedTime } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { hour: 'numeric', minute: 'numeric' };\n\nexport const longFormatterOption = { hour: 'numeric', minute: 'numeric', second: 'numeric' };\n\nexport default function TimeFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedTime value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedTime>\n  );\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding-bottom:8px;flex-direction:row}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:0 8px;margin-top:8px}.DayPicker-Weekdays{display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:8px;font-size:12px;text-align:center;color:#999}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{display:table-cell;line-height:15px;padding:8px;text-align:center;cursor:pointer;vertical-align:top;outline:none}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:8px}.DayPicker-Day--today{font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#cdcdcd;cursor:not-allowed}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4b9fd5;color:#fff}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover{background-color:#f3f3f3}.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside){background-color:#cae3f2}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./DayPicker.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./DayPicker.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./DayPicker.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var addMonths = require('../add_months/index.js')\n\n/**\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be subtracted\n * @returns {Date} the new date with the months subtracted\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * var result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\nfunction subMonths (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addMonths(dirtyDate, -amount)\n}\n\nmodule.exports = subMonths\n","var parse = require('../parse/index.js')\n\n/**\n * @category Year Helpers\n * @summary Set the year to the given date.\n *\n * @description\n * Set the year to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} year - the year of the new date\n * @returns {Date} the new date with the year setted\n *\n * @example\n * // Set year 2013 to 1 September 2014:\n * var result = setYear(new Date(2014, 8, 1), 2013)\n * //=> Sun Sep 01 2013 00:00:00\n */\nfunction setYear (dirtyDate, dirtyYear) {\n  var date = parse(dirtyDate)\n  var year = Number(dirtyYear)\n  date.setFullYear(year)\n  return date\n}\n\nmodule.exports = setYear\n","var parse = require('../parse/index.js')\nvar getDaysInMonth = require('../get_days_in_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Set the month to the given date.\n *\n * @description\n * Set the month to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} month - the month of the new date\n * @returns {Date} the new date with the month setted\n *\n * @example\n * // Set February to 1 September 2014:\n * var result = setMonth(new Date(2014, 8, 1), 1)\n * //=> Sat Feb 01 2014 00:00:00\n */\nfunction setMonth (dirtyDate, dirtyMonth) {\n  var date = parse(dirtyDate)\n  var month = Number(dirtyMonth)\n  var year = date.getFullYear()\n  var day = date.getDate()\n\n  var dateWithDesiredMonth = new Date(0)\n  dateWithDesiredMonth.setFullYear(year, month, 15)\n  dateWithDesiredMonth.setHours(0, 0, 0, 0)\n  var daysInMonth = getDaysInMonth(dateWithDesiredMonth)\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  date.setMonth(month, Math.min(day, daysInMonth))\n  return date\n}\n\nmodule.exports = setMonth\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from '../helpers/request';\nimport { Paging, BranchParameters } from '../app/types';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface HistoryItem {\n  date: Date;\n  value?: string;\n}\n\nexport interface History {\n  [metric: string]: HistoryItem[];\n}\n\ninterface TimeMachineResponse {\n  measures: {\n    metric: string;\n    history: HistoryItem[];\n  }[];\n  paging: Paging;\n}\n\nexport function getTimeMachineData(\n  data: {\n    component: string;\n    from?: string;\n    metrics: string;\n    p?: number;\n    ps?: number;\n    to?: string;\n  } & BranchParameters\n): Promise<TimeMachineResponse> {\n  return getJSON('/api/measures/search_history', data).catch(throwGlobalError);\n}\n\nexport function getAllTimeMachineData(\n  data: {\n    component: string;\n    metrics: string;\n    from?: string;\n    p?: number;\n    to?: string;\n  } & BranchParameters,\n  prev?: TimeMachineResponse\n): Promise<TimeMachineResponse> {\n  return getTimeMachineData({ ...data, ps: 1000 }).then(r => {\n    const result = prev\n      ? {\n          measures: prev.measures.map((measure, idx) => ({\n            ...measure,\n            history: measure.history.concat(r.measures[idx].history)\n          })),\n          paging: r.paging\n        }\n      : r;\n\n    if (result.paging.pageIndex * result.paging.pageSize >= result.paging.total) {\n      return result;\n    }\n    return getAllTimeMachineData({ ...data, p: result.paging.pageIndex + 1 }, result);\n  });\n}\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array == null ? 0 : array.length;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\nmodule.exports = chunk;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".line-tooltip{fill:none;stroke:#777;stroke-width:1px;shape-rendering:crispEdges}.chart-mouse-events-overlay{fill:none;stroke:none;pointer-events:all}.chart-zoomed .leak-chart-rect,.chart-zoomed .line-chart-area,.chart-zoomed .line-chart-path{-webkit-clip-path:url(#chart-clip);clip-path:url(#chart-clip)}.line-chart-dot{fill:#4b9fd5}.line-chart-dot.line-chart-dot-1{fill:#236a97}.line-chart-dot.line-chart-dot-2{fill:#24c6e0}.line-chart-event{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-event.VERSION{stroke:#4b9fd5}.line-chart-event.QUALITY_GATE{stroke:#0a0}.line-chart-event.QUALITY_PROFILE{stroke:#ed7d20}.line-chart-event.OTHER{stroke:#9139d4}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./AdvancedTimeline.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./AdvancedTimeline.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./AdvancedTimeline.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport { flatten, isEqual, sortBy, throttle, uniq } from 'lodash';\nimport { bisector, extent, max } from 'd3-array';\nimport { scaleLinear, scalePoint, scaleTime } from 'd3-scale';\nimport { line as d3Line, area, curveBasis } from 'd3-shape';\nimport * as theme from '../../app/theme';\nimport './LineChart.css';\nimport './AdvancedTimeline.css';\n\n/*::\ntype Event = { className?: string, name: string, date: Date };\n*/\n/*::\nexport type Point = { x: Date, y: number | string };\n*/\n/*::\nexport type Serie = { name: string, data: Array<Point>, type: string };\n*/\n/*::\ntype Scale = Function;\n*/\n\n/*::\ntype Props = {\n  basisCurve?: boolean,\n  endDate: ?Date,\n  events?: Array<Event>,\n  eventSize?: number,\n  disableZoom?: boolean,\n  formatYTick?: number => string,\n  hideGrid?: boolean,\n  hideXAxis?: boolean,\n  height: number,\n  width: number,\n  leakPeriodDate?: Date,\n  // used to avoid same y ticks labels\n  maxYTicksCount?: number,\n  metricType: string,\n  padding: Array<number>,\n  selectedDate?: Date,\n  series: Array<Serie>,\n  showAreas?: boolean,\n  showEventMarkers?: boolean,\n  startDate: ?Date,\n  updateSelectedDate?: (selectedDate: ?Date) => void,\n  updateTooltip?: (selectedDate: ?Date, tooltipXPos: ?number, tooltipIdx: ?number) => void,\n  updateZoom?: (start: ?Date, endDate: ?Date) => void,\n  zoomSpeed: number\n};\n*/\n\n/*::\ntype State = {\n  maxXRange: Array<number>,\n  mouseOver?: boolean,\n  mouseOverlayPos?: { [string]: number },\n  selectedDate: ?Date,\n  selectedDateXPos: ?number,\n  selectedDateIdx: ?number,\n  yScale: Scale,\n  xScale: Scale\n};\n*/\n\nexport default class AdvancedTimeline extends React.PureComponent {\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  static defaultProps = {\n    eventSize: 8,\n    maxYTicksCount: 4,\n    padding: [10, 10, 30, 60],\n    zoomSpeed: 1\n  };\n\n  constructor(props /*: Props */) {\n    super(props);\n    const scales = this.getScales(props);\n    const selectedDatePos = this.getSelectedDatePos(scales.xScale, props.selectedDate);\n    this.state = { ...scales, ...selectedDatePos };\n    this.updateTooltipPos = throttle(this.updateTooltipPos, 40);\n    this.handleZoomUpdate = throttle(this.handleZoomUpdate, 40);\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    let scales;\n    let selectedDatePos;\n    if (\n      nextProps.metricType !== this.props.metricType ||\n      nextProps.startDate !== this.props.startDate ||\n      nextProps.endDate !== this.props.endDate ||\n      nextProps.width !== this.props.width ||\n      nextProps.padding !== this.props.padding ||\n      nextProps.height !== this.props.height ||\n      nextProps.series !== this.props.series\n    ) {\n      scales = this.getScales(nextProps);\n      if (this.state.selectedDate != null) {\n        selectedDatePos = this.getSelectedDatePos(scales.xScale, this.state.selectedDate);\n      }\n    }\n\n    if (!isEqual(nextProps.selectedDate, this.props.selectedDate)) {\n      const xScale = scales ? scales.xScale : this.state.xScale;\n      selectedDatePos = this.getSelectedDatePos(xScale, nextProps.selectedDate);\n    }\n\n    if (scales || selectedDatePos) {\n      this.setState({ ...(scales || {}), ...(selectedDatePos || {}) });\n\n      if (selectedDatePos && nextProps.updateTooltip) {\n        nextProps.updateTooltip(\n          selectedDatePos.selectedDate,\n          selectedDatePos.selectedDateXPos,\n          selectedDatePos.selectedDateIdx\n        );\n      }\n    }\n  }\n\n  getRatingScale = (availableHeight /*: number */) =>\n    scalePoint()\n      .domain([5, 4, 3, 2, 1])\n      .range([availableHeight, 0]);\n\n  getLevelScale = (availableHeight /*: number */) =>\n    scalePoint()\n      .domain(['ERROR', 'WARN', 'OK'])\n      .range([availableHeight, 0]);\n\n  getYScale = (props /*: Props */, availableHeight /*: number */, flatData /*: Array<Point> */) => {\n    if (props.metricType === 'RATING') {\n      return this.getRatingScale(availableHeight);\n    } else if (props.metricType === 'LEVEL') {\n      return this.getLevelScale(availableHeight);\n    } else {\n      return scaleLinear()\n        .range([availableHeight, 0])\n        .domain([0, max(flatData, d => d.y) || 1])\n        .nice();\n    }\n  };\n\n  getXScale = (\n    { startDate, endDate } /*: Props */,\n    availableWidth /*: number */,\n    flatData /*: Array<Point> */\n  ) => {\n    const dateRange = extent(flatData, d => d.x);\n    const start = startDate && startDate > dateRange[0] ? startDate : dateRange[0];\n    const end = endDate && endDate < dateRange[1] ? endDate : dateRange[1];\n    const xScale = scaleTime()\n      .domain(sortBy([start, end]))\n      .range([0, availableWidth])\n      .clamp(false);\n    return {\n      xScale,\n      maxXRange: dateRange.map(xScale)\n    };\n  };\n\n  getScales = (props /*: Props */) => {\n    const availableWidth = props.width - props.padding[1] - props.padding[3];\n    const availableHeight = props.height - props.padding[0] - props.padding[2];\n    const flatData = flatten(props.series.map((serie /*: Serie */) => serie.data));\n    return {\n      ...this.getXScale(props, availableWidth, flatData),\n      yScale: this.getYScale(props, availableHeight, flatData)\n    };\n  };\n\n  getSelectedDatePos = (xScale /*: Scale */, selectedDate /*: ?Date */) => {\n    const firstSerie = this.props.series[0];\n    if (selectedDate && firstSerie) {\n      const idx = firstSerie.data.findIndex(\n        // $FlowFixMe selectedDate can't be null there\n        p => p.x.valueOf() === selectedDate.valueOf()\n      );\n      const xRange = xScale.range().sort();\n      const xPos = xScale(selectedDate);\n      if (idx >= 0 && xPos >= xRange[0] && xPos <= xRange[1]) {\n        return {\n          selectedDate,\n          selectedDateXPos: xScale(selectedDate),\n          selectedDateIdx: idx\n        };\n      }\n    }\n    return { selectedDate: null, selectedDateXPos: null, selectedDateIdx: null };\n  };\n\n  getEventMarker = (size /*: number */) => {\n    const half = size / 2;\n    return `M${half} 0 L${size} ${half} L ${half} ${size} L0 ${half} L${half} 0 L${size} ${half}`;\n  };\n\n  getMouseOverlayPos = (target /*: HTMLElement */) => {\n    if (this.state.mouseOverlayPos) {\n      return this.state.mouseOverlayPos;\n    }\n    const pos = target.getBoundingClientRect();\n    this.setState({ mouseOverlayPos: pos });\n    return pos;\n  };\n\n  handleWheel = (evt /*: WheelEvent & { target: HTMLElement } */) => {\n    evt.preventDefault();\n    const { maxXRange, xScale } = this.state;\n    const parentBbox = this.getMouseOverlayPos(evt.target);\n    const mouseXPos = (evt.pageX - parentBbox.left) / parentBbox.width;\n    const xRange = xScale.range();\n    const speed = evt.deltaMode ? 25 / evt.deltaMode * this.props.zoomSpeed : this.props.zoomSpeed;\n    const leftPos = xRange[0] - Math.round(speed * evt.deltaY * mouseXPos);\n    const rightPos = xRange[1] + Math.round(speed * evt.deltaY * (1 - mouseXPos));\n    const startDate = leftPos > maxXRange[0] ? xScale.invert(leftPos) : null;\n    const endDate = rightPos < maxXRange[1] ? xScale.invert(rightPos) : null;\n    this.handleZoomUpdate(startDate, endDate);\n  };\n\n  handleZoomUpdate = (startDate /*: ?Date */, endDate /*: ?Date */) => {\n    if (this.props.updateZoom) {\n      this.props.updateZoom(startDate, endDate);\n    }\n  };\n\n  handleMouseMove = (evt /*: MouseEvent & { target: HTMLElement } */) => {\n    const parentBbox = this.getMouseOverlayPos(evt.target);\n    this.updateTooltipPos(evt.pageX - parentBbox.left);\n  };\n\n  handleMouseEnter = () => this.setState({ mouseOver: true });\n\n  handleMouseOut = (evt /*: Event & { relatedTarget: HTMLElement } */) => {\n    const { updateTooltip } = this.props;\n    if (updateTooltip) {\n      this.setState({\n        mouseOver: false,\n        selectedDate: null,\n        selectedDateXPos: null,\n        selectedDateIdx: null\n      });\n      updateTooltip(null, null, null);\n    }\n  };\n\n  handleClick = () => {\n    const { updateSelectedDate } = this.props;\n    if (updateSelectedDate) {\n      updateSelectedDate(this.state.selectedDate);\n    }\n  };\n\n  updateTooltipPos = (xPos /*: number */) => {\n    const firstSerie = this.props.series[0];\n    if (this.state.mouseOver && firstSerie) {\n      const { updateTooltip } = this.props;\n      const date = this.state.xScale.invert(xPos);\n      const bisectX = bisector(d => d.x).right;\n      let idx = bisectX(firstSerie.data, date);\n      if (idx >= 0) {\n        const previousPoint = firstSerie.data[idx - 1];\n        const nextPoint = firstSerie.data[idx];\n        if (!nextPoint || (previousPoint && date - previousPoint.x <= nextPoint.x - date)) {\n          idx--;\n        }\n        const selectedDate = firstSerie.data[idx].x;\n        const xPos = this.state.xScale(selectedDate);\n        this.setState({ selectedDate, selectedDateXPos: xPos, selectedDateIdx: idx });\n        if (updateTooltip) {\n          updateTooltip(selectedDate, xPos, idx);\n        }\n      }\n    }\n  };\n\n  renderHorizontalGrid = () => {\n    const { formatYTick } = this.props;\n    const { xScale, yScale } = this.state;\n    const hasTicks = typeof yScale.ticks === 'function';\n    let ticks = hasTicks ? yScale.ticks(this.props.maxYTicksCount) : yScale.domain();\n\n    if (!ticks.length) {\n      ticks.push(yScale.domain()[1]);\n    }\n\n    // if there are duplicated ticks, that means 4 ticks are too much for this data\n    // so let's just use the domain values (min and max)\n    if (formatYTick) {\n      const formattedTicks = ticks.map(tick => formatYTick(tick));\n      if (ticks.length > uniq(formattedTicks).length) {\n        ticks = yScale.domain();\n      }\n    }\n\n    return (\n      <g>\n        {ticks.map(tick => (\n          <g key={tick}>\n            {formatYTick != null && (\n              <text\n                className=\"line-chart-tick line-chart-tick-x\"\n                dx=\"-1em\"\n                dy=\"0.3em\"\n                textAnchor=\"end\"\n                x={xScale.range()[0]}\n                y={yScale(tick)}>\n                {formatYTick(tick)}\n              </text>\n            )}\n            <line\n              className=\"line-chart-grid\"\n              x1={xScale.range()[0]}\n              x2={xScale.range()[1]}\n              y1={yScale(tick)}\n              y2={yScale(tick)}\n            />\n          </g>\n        ))}\n      </g>\n    );\n  };\n\n  renderXAxisTicks = () => {\n    const { xScale, yScale } = this.state;\n    const format = xScale.tickFormat(7);\n    const ticks = xScale.ticks(7);\n    const y = yScale.range()[0];\n    return (\n      <g>\n        {ticks.slice(0, -1).map((tick, index) => {\n          const nextTick = index + 1 < ticks.length ? ticks[index + 1] : xScale.domain()[1];\n          const x = (xScale(tick) + xScale(nextTick)) / 2;\n          return (\n            <text key={index} className=\"line-chart-tick\" x={x} y={y} dy=\"1.5em\">\n              {format(tick)}\n            </text>\n          );\n        })}\n      </g>\n    );\n  };\n\n  renderLeak = () => {\n    const yRange = this.state.yScale.range();\n    const xRange = this.state.xScale.range();\n    const leakWidth = xRange[xRange.length - 1] - this.state.xScale(this.props.leakPeriodDate);\n    if (leakWidth < 0) {\n      return null;\n    }\n    return (\n      <rect\n        className=\"leak-chart-rect\"\n        x={this.state.xScale(this.props.leakPeriodDate)}\n        y={yRange[yRange.length - 1]}\n        width={leakWidth}\n        height={yRange[0] - yRange[yRange.length - 1]}\n        fill={theme.leakColor}\n      />\n    );\n  };\n\n  renderLines = () => {\n    const lineGenerator = d3Line()\n      .defined(d => d.y || d.y === 0)\n      .x(d => this.state.xScale(d.x))\n      .y(d => this.state.yScale(d.y));\n    if (this.props.basisCurve) {\n      lineGenerator.curve(curveBasis);\n    }\n    return (\n      <g>\n        {this.props.series.map((serie, idx) => (\n          <path\n            key={serie.name}\n            className={classNames('line-chart-path', 'line-chart-path-' + idx)}\n            d={lineGenerator(serie.data)}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderAreas = () => {\n    const areaGenerator = area()\n      .defined(d => d.y || d.y === 0)\n      .x(d => this.state.xScale(d.x))\n      .y1(d => this.state.yScale(d.y))\n      .y0(this.state.yScale(0));\n    if (this.props.basisCurve) {\n      areaGenerator.curve(curveBasis);\n    }\n    return (\n      <g>\n        {this.props.series.map((serie, idx) => (\n          <path\n            key={serie.name}\n            className={classNames('line-chart-area', 'line-chart-area-' + idx)}\n            d={areaGenerator(serie.data)}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderEvents = () => {\n    const { events, eventSize } = this.props;\n    if (!events || !eventSize) {\n      return null;\n    }\n    const { xScale, yScale } = this.state;\n    const inRangeEvents = events.filter(\n      event => event.date >= xScale.domain()[0] && event.date <= xScale.domain()[1]\n    );\n    const offset = eventSize / 2;\n    return (\n      <g>\n        {inRangeEvents.map((event, idx) => (\n          <path\n            d={this.getEventMarker(eventSize)}\n            className={classNames('line-chart-event', event.className)}\n            key={`${idx}-${event.date.getTime()}`}\n            transform={`translate(${xScale(event.date) - offset}, ${yScale.range()[0] + offset})`}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderSelectedDate = () => {\n    const { selectedDateIdx, selectedDateXPos, yScale } = this.state;\n    const firstSerie = this.props.series[0];\n    if (selectedDateIdx == null || selectedDateXPos == null || !firstSerie) {\n      return null;\n    }\n\n    return (\n      <g>\n        <line\n          className=\"line-tooltip\"\n          x1={selectedDateXPos}\n          x2={selectedDateXPos}\n          y1={yScale.range()[0]}\n          y2={yScale.range()[1]}\n        />\n        {this.props.series.map((serie, idx) => {\n          const point = serie.data[selectedDateIdx];\n          if (!point || (!point.y && point.y !== 0)) {\n            return null;\n          }\n          return (\n            <circle\n              key={serie.name}\n              cx={selectedDateXPos}\n              cy={yScale(point.y)}\n              r=\"4\"\n              className={classNames('line-chart-dot', 'line-chart-dot-' + idx)}\n            />\n          );\n        })}\n      </g>\n    );\n  };\n\n  renderClipPath = () => {\n    return (\n      <defs>\n        <clipPath id=\"chart-clip\">\n          <rect\n            width={this.state.xScale.range()[1]}\n            height={this.state.yScale.range()[0] + 10}\n            transform=\"translate(0,-5)\"\n          />\n        </clipPath>\n      </defs>\n    );\n  };\n\n  renderMouseEventsOverlay = (zoomEnabled /*: boolean */) => {\n    const mouseEvents = {};\n    if (zoomEnabled) {\n      mouseEvents.onWheel = this.handleWheel;\n    }\n    if (this.props.updateTooltip) {\n      mouseEvents.onMouseEnter = this.handleMouseEnter;\n      mouseEvents.onMouseMove = this.handleMouseMove;\n      mouseEvents.onMouseOut = this.handleMouseOut;\n    }\n    if (this.props.updateSelectedDate) {\n      mouseEvents.onClick = this.handleClick;\n    }\n    return (\n      <rect\n        className=\"chart-mouse-events-overlay\"\n        width={this.state.xScale.range()[1]}\n        height={this.state.yScale.range()[0]}\n        {...mouseEvents}\n      />\n    );\n  };\n\n  render() {\n    if (!this.props.width || !this.props.height) {\n      return <div />;\n    }\n    const zoomEnabled = !this.props.disableZoom && this.props.updateZoom != null;\n    const isZoomed = this.props.startDate || this.props.endDate;\n    return (\n      <svg\n        className={classNames('line-chart', { 'chart-zoomed': isZoomed })}\n        width={this.props.width}\n        height={this.props.height}>\n        {zoomEnabled && this.renderClipPath()}\n        <g transform={`translate(${this.props.padding[3]}, ${this.props.padding[0]})`}>\n          {this.props.leakPeriodDate != null && this.renderLeak()}\n          {!this.props.hideGrid && this.renderHorizontalGrid()}\n          {!this.props.hideXAxis && this.renderXAxisTicks()}\n          {this.props.showAreas && this.renderAreas()}\n          {this.renderLines()}\n          {this.props.showEventMarkers && this.renderEvents()}\n          {this.renderSelectedDate()}\n          {this.renderMouseEventsOverlay(zoomEnabled)}\n        </g>\n      </svg>\n    );\n  }\n}\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nmodule.exports = baseLt;\n","var baseExtremum = require('./_baseExtremum'),\n    baseIteratee = require('./_baseIteratee'),\n    baseLt = require('./_baseLt');\n\n/**\n * This method is like `_.min` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * // The `_.property` iteratee shorthand.\n * _.minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nfunction minBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseLt)\n    : undefined;\n}\n\nmodule.exports = minBy;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".line-chart-path{fill:none;stroke:#4b9fd5;stroke-width:2px}.line-chart-path.line-chart-path-1{stroke:#236a97}.line-chart-path.line-chart-path-2{stroke:#24c6e0}.line-chart-area{fill:rgba(75,159,213,.3);stroke-width:0}.line-chart-area.line-chart-area-1{fill:rgba(35,106,151,.3)}.line-chart-area.line-chart-area-2{fill:rgba(36,198,224,.3)}.line-chart-point{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-tick{fill:#777;font-size:12px;text-anchor:middle}.line-chart-tick-x{text-anchor:end}.line-chart-tick-x-right{text-anchor:start}.line-chart-grid{shape-rendering:crispedges;stroke:#eee}\", \"\"]);\n\n// exports\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * This method is like `_.findIndex` except that it iterates over elements\n * of `collection` from right to left.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=array.length-1] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': true },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': false }\n * ];\n *\n * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n * // => 2\n *\n * // The `_.matches` iteratee shorthand.\n * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n * // => 0\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findLastIndex(users, ['active', false]);\n * // => 2\n *\n * // The `_.property` iteratee shorthand.\n * _.findLastIndex(users, 'active');\n * // => 0\n */\nfunction findLastIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = length - 1;\n  if (fromIndex !== undefined) {\n    index = toInteger(fromIndex);\n    index = fromIndex < 0\n      ? nativeMax(length + index, 0)\n      : nativeMin(index, length - 1);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index, true);\n}\n\nmodule.exports = findLastIndex;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DateInput from './DateInput';\nimport { translate } from '../../helpers/l10n';\n\ntype DateRange = { from?: Date; to?: Date };\n\ninterface Props {\n  className?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  onChange: (date: DateRange) => void;\n  value?: DateRange;\n}\n\nexport default class DateRangeInput extends React.PureComponent<Props> {\n  toDateInput?: DateInput | null;\n\n  get from() {\n    return this.props.value && this.props.value.from;\n  }\n\n  get to() {\n    return this.props.value && this.props.value.to;\n  }\n\n  handleFromChange = (from: Date | undefined) => {\n    this.props.onChange({ from, to: this.to });\n\n    // use `setTimeout` to work around the immediate closing of the `toDateInput`\n    setTimeout(() => {\n      if (from && !this.to && this.toDateInput) {\n        this.toDateInput.focus();\n      }\n    }, 0);\n  };\n\n  handleToChange = (to: Date | undefined) => {\n    this.setState({ to });\n    this.props.onChange({ from: this.from, to });\n  };\n\n  render() {\n    return (\n      <div className={classNames('display-inline-flex-center', this.props.className)}>\n        <DateInput\n          currentMonth={this.to}\n          data-test=\"from\"\n          highlightTo={this.to}\n          maxDate={this.to}\n          onChange={this.handleFromChange}\n          placeholder={translate('start_date')}\n          value={this.from}\n        />\n        <span className=\"note little-spacer-left little-spacer-right\">{translate('to_')}</span>\n        <DateInput\n          currentMonth={this.from}\n          data-test=\"to\"\n          highlightFrom={this.from}\n          minDate={this.from}\n          onChange={this.handleToChange}\n          placeholder={translate('end_date')}\n          ref={element => (this.toDateInput = element)}\n          value={this.to}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, postJSON, post, RequestData } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { Paging, BranchParameters } from '../app/types';\n\nexport interface Event {\n  key: string;\n  name: string;\n  category: string;\n  description?: string;\n}\n\nexport interface Analysis {\n  key: string;\n  date: string;\n  events: Event[];\n}\n\nexport function getProjectActivity(\n  data: { project: string; category?: string; p?: number; ps?: number } & BranchParameters\n): Promise<{ analyses: Analysis[]; paging: Paging }> {\n  return getJSON('/api/project_analyses/search', data).catch(throwGlobalError);\n}\n\ninterface CreateEventResponse {\n  analysis: string;\n  key: string;\n  name: string;\n  category: string;\n  description?: string;\n}\n\nexport function createEvent(\n  analysis: string,\n  name: string,\n  category?: string,\n  description?: string\n): Promise<CreateEventResponse> {\n  const data: RequestData = { analysis, name };\n  if (category) {\n    data.category = category;\n  }\n  if (description) {\n    data.description = description;\n  }\n  return postJSON('/api/project_analyses/create_event', data).then(r => r.event, throwGlobalError);\n}\n\nexport function deleteEvent(event: string): Promise<void | Response> {\n  return post('/api/project_analyses/delete_event', { event }).catch(throwGlobalError);\n}\n\nexport function changeEvent(\n  event: string,\n  name?: string,\n  description?: string\n): Promise<CreateEventResponse> {\n  const data: RequestData = { event };\n  if (name) {\n    data.name = name;\n  }\n  if (description) {\n    data.description = description;\n  }\n  return postJSON('/api/project_analyses/update_event', data).then(r => r.event, throwGlobalError);\n}\n\nexport function deleteAnalysis(analysis: string): Promise<void | Response> {\n  return post('/api/project_analyses/delete', { analysis }).catch(throwGlobalError);\n}\n","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".project-activity-page{min-height:600px;height:calc(100vh - 250px)}.project-activity-page-side-outer{position:relative;width:400px;margin-bottom:0;display:flex;flex-direction:row;align-items:stretch}.project-activity-page-side-outer>.boxed-group-inner{padding-left:12px;padding-right:15px}.project-activity-layout-page-main{flex-grow:1;min-width:640px;padding-left:20px;display:flex}.project-activity-layout-page-main-inner{min-width:640px;max-width:880px;margin-bottom:0;flex:1;display:flex;flex-direction:column;align-items:stretch}.project-activity-versions-list{max-width:400px;box-sizing:border-box;overflow:auto;flex-grow:1;flex-shrink:0}.project-activity-graph-container,.project-activity-graphs{flex-grow:1;display:flex;flex-direction:column;align-items:stretch;justify-content:center}.project-activity-graph-container{padding:10px 0}.project-activity-graph{flex:1;overflow:hidden}.project-activity-graph-legends{flex-grow:0;padding-bottom:16px;text-align:center}.project-activity-graph-legend-actionable{display:inline-block;padding:4px 8px 4px 12px;border-width:1px;border-style:solid;border-radius:12px}.project-activity-graph-legend-actionable:not(.alert-warning){border-color:#e6e6e6}.project-activity-graph-tooltip{padding:8px}.project-activity-graph-tooltip-line{height:20px}.project-activity-graph-tooltip-line+.project-activity-graph-tooltip-line{padding-top:4px}.project-activity-graph-tooltip-line .project-activity-event-icon{margin-top:1px}.project-activity-graph-tooltip-issues-line{height:26px;padding-bottom:4px}.project-activity-graph-tooltip-separator{padding-left:16px;padding-right:16px}.project-activity-graph-tooltip-separator hr{margin-top:8px;margin-bottom:8px}.project-activity-graph-tooltip-title,.project-activity-graph-tooltip-value{font-weight:700}.project-activity-day{margin-top:8px;margin-bottom:24px}.project-activity-day:last-child{margin-bottom:10px}.project-activity-date{margin-bottom:16px;font-size:15px;font-weight:700}.project-activity-analysis{position:relative;min-height:20px;padding:4px;border-top:1px solid #e6e6e6;border-bottom:1px solid #e6e6e6;cursor:pointer}.project-activity-analysis.selected{background-color:#ecf6fe}.project-activity-analysis:focus{outline:none}.project-activity-analysis:hover{background-color:#ecf6fe}.project-activity-analysis+.project-activity-analysis{border-top:none}.project-activity-analysis-actions{float:left}.project-activity-time{float:left;width:54px;line-height:20px;box-sizing:border-box;font-size:12px;font-weight:700;text-align:right}.project-activity-analysis-icon{float:left;width:10px;height:10px;margin-top:5px;border:2px solid #4b9fd5;border-radius:10px;box-sizing:border-box;content:\\\"\\\"}.project-activity-events{overflow:hidden}.project-activity-event{line-height:18px;display:flex}.project-activity-event+.project-activity-event{margin-top:4px}.project-activity-event-inner{flex:1;display:flex;flex-direction:row;overflow:hidden}.project-activity-event-inner-icon{flex-shrink:0}.project-activity-event-inner-text{flex:1;display:inline-block;overflow:hidden;text-overflow:ellipsis}.project-activity-event-actions{display:inline-block}.project-activity-event-inner-icon .project-activity-event-icon{margin-top:3px}.project-activity-event-icon.VERSION{color:#4b9fd5}.project-activity-event-icon.QUALITY_GATE{color:#9139d4}.project-activity-event-icon.QUALITY_PROFILE{color:#ccc}.project-activity-event-icon.OTHER{color:#442d1b}.project-activity-version-badge{margin-left:-12px;padding-top:8px;padding-bottom:8px;background-color:#fff}.project-activity-version-badge.first,.project-activity-version-badge.sticky{position:absolute;top:0;left:12px;right:16px;padding-top:24px;z-index:1}.project-activity-version-badge.sticky+.project-activity-days-list{padding-top:36px}.project-activity-version-badge .badge{max-width:385px;border-radius:0 2px 2px 0;font-weight:700;font-size:12px;letter-spacing:0;overflow:hidden;text-overflow:ellipsis}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../node_modules/postcss-loader/lib/index.js??postcss!./projectActivity.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../node_modules/postcss-loader/lib/index.js??postcss!./projectActivity.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../node_modules/postcss-loader/lib/index.js??postcss!./projectActivity.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".chart-zoom-tick{fill:#777;font-size:10px;text-anchor:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.chart-zoom .zoom-overlay{fill:none;stroke:none;cursor:crosshair;pointer-events:all}.chart-zoom .zoom-selection{fill:#777;fill-opacity:.2;stroke:#777;shape-rendering:crispEdges;cursor:move}.chart-zoom .zoom-selection-handle{cursor:ew-resize;fill-opacity:0;stroke:none}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./ZoomTimeLine.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./ZoomTimeLine.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./ZoomTimeLine.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var createFind = require('./_createFind'),\n    findLastIndex = require('./findLastIndex');\n\n/**\n * This method is like `_.find` except that it iterates over elements of\n * `collection` from right to left.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=collection.length-1] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * _.findLast([1, 2, 3, 4], function(n) {\n *   return n % 2 == 1;\n * });\n * // => 3\n */\nvar findLast = createFind(findLastIndex);\n\nmodule.exports = findLast;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nfunction maxBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)\n    : undefined;\n}\n\nmodule.exports = maxBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ProjectEventIcon({ className, fill = '#fff', size = 14 }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 2 L14 8 L8 14 L2 8 L8 2 L14 8\"\n        style={{ fill, stroke: 'currentColor', strokeWidth: '2px' }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n//@flow\nimport React from 'react';\nimport ProjectEventIcon from '../../../components/icons-components/ProjectEventIcon';\n\n/*::\nexport type Option = { label: string, value: string };\n*/\n\n/*::\ntype Props = {\n  option: Option,\n  children?: Element | Text,\n  className?: string,\n  isFocused?: boolean,\n  onFocus: (Option, MouseEvent) => void,\n  onSelect: (Option, MouseEvent) => void\n};\n*/\n\nexport default class ProjectActivityEventSelectOption extends React.PureComponent {\n  /*:: props: Props; */\n\n  handleMouseDown = (event /*: MouseEvent */) => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.props.onSelect(this.props.option, event);\n  };\n\n  handleMouseEnter = (event /*: MouseEvent */) => {\n    this.props.onFocus(this.props.option, event);\n  };\n\n  handleMouseMove = (event /*: MouseEvent */) => {\n    if (this.props.isFocused) {\n      return;\n    }\n    this.props.onFocus(this.props.option, event);\n  };\n\n  render() {\n    const { option } = this.props;\n    return (\n      <div\n        className={this.props.className}\n        onMouseDown={this.handleMouseDown}\n        onMouseEnter={this.handleMouseEnter}\n        onMouseMove={this.handleMouseMove}\n        title={option.label}>\n        <ProjectEventIcon className={'project-activity-event-icon ' + option.value} />\n        <span className=\"little-spacer-left\">{this.props.children}</span>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n//@flow\nimport React from 'react';\nimport ProjectEventIcon from '../../../components/icons-components/ProjectEventIcon';\n/*:: import type { Option } from './ProjectActivityEventSelectOption'; */\n\n/*::\ntype Props = {\n  value: Option,\n  children?: Element | Text\n};\n*/\n\nexport default function ProjectActivityEventSelectValue(props /*: Props */) {\n  const { value } = props;\n  return (\n    <div className=\"Select-value\" title={value.label}>\n      <div className=\"Select-value-label\">\n        <ProjectEventIcon className={'project-activity-event-icon ' + value.value} />\n        <span className=\"little-spacer-left\">{props.children}</span>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport DateRangeInput from '../../../components/controls/DateRangeInput';\nimport { translate } from '../../../helpers/l10n';\nimport { Button } from '../../../components/ui/buttons';\n/*:: import type { RawQuery } from '../../../helpers/query'; */\n\n/*::\ntype Props = {\n  from: ?Date,\n  to: ?Date,\n  onChange: RawQuery => void\n};\n*/\n\nexport default class ProjectActivityDateInput extends React.PureComponent {\n  /*:: props: Props; */\n\n  handleChange = ({ from, to } /*: { from?: Date, to?: Date } */) => {\n    this.props.onChange({ from, to });\n  };\n\n  handleResetClick = () => {\n    this.props.onChange({ from: null, to: null });\n  };\n\n  render() {\n    return (\n      <div>\n        <DateRangeInput\n          onChange={this.handleChange}\n          value={{ from: this.props.from, to: this.props.to }}\n        />\n        <Button\n          className=\"spacer-left\"\n          disabled={this.props.from == null && this.props.to == null}\n          onClick={this.handleResetClick}>\n          {translate('project_activity.reset_dates')}\n        </Button>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport ProjectActivityEventSelectOption from './ProjectActivityEventSelectOption';\nimport ProjectActivityEventSelectValue from './ProjectActivityEventSelectValue';\nimport ProjectActivityDateInput from './ProjectActivityDateInput';\nimport { EVENT_TYPES, APPLICATION_EVENT_TYPES } from '../utils';\nimport Select from '../../../components/controls/Select';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { RawQuery } from '../../../helpers/query'; */\n\n/*::\ntype Props = {\n  category?: string,\n  from: ?Date,\n  project: { qualifier: string },\n  to: ?Date,\n  updateQuery: RawQuery => void\n};\n*/\n\nexport default class ProjectActivityPageHeader extends React.PureComponent {\n  /*:: options: Array<{ label: string, value: string }>; */\n  /*:: props: Props; */\n\n  handleCategoryChange = (option /*: ?{ value: string } */) =>\n    this.props.updateQuery({ category: option ? option.value : '' });\n\n  render() {\n    const eventTypes =\n      this.props.project.qualifier === 'APP' ? APPLICATION_EVENT_TYPES : EVENT_TYPES;\n    this.options = eventTypes.map(category => ({\n      label: translate('event.category', category),\n      value: category\n    }));\n\n    return (\n      <header className=\"page-header\">\n        {!['VW', 'SVW'].includes(this.props.project.qualifier) && (\n          <Select\n            className=\"input-medium pull-left big-spacer-right\"\n            placeholder={translate('project_activity.filter_events') + '...'}\n            clearable={true}\n            searchable={false}\n            value={this.props.category}\n            optionComponent={ProjectActivityEventSelectOption}\n            valueComponent={ProjectActivityEventSelectValue}\n            options={this.options}\n            onChange={this.handleCategoryChange}\n          />\n        )}\n        <ProjectActivityDateInput\n          className=\"pull-left\"\n          from={this.props.from}\n          to={this.props.to}\n          onChange={this.props.updateQuery}\n        />\n      </header>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport ProjectEventIcon from '../../../components/icons-components/ProjectEventIcon';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { Event as EventType } from '../types'; */\n\nexport default function EventInner(props /*: { event: EventType } */) {\n  const { event } = props;\n\n  return (\n    <div className=\"project-activity-event-inner\">\n      <div className=\"project-activity-event-inner-icon little-spacer-right\">\n        <ProjectEventIcon\n          className={'project-activity-event-icon margin-align ' + event.category}\n        />\n      </div>\n      <span className=\"project-activity-event-inner-text\">\n        <span className=\"note\">{translate('event.category', event.category)}:</span>{' '}\n        <strong title={event.description}>{event.name}</strong>\n      </span>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../../helpers/l10n';\nimport { Event } from '../../../../api/projectActivity';\nimport ConfirmModal from '../../../../components/controls/ConfirmModal';\n\ninterface Props {\n  changeEvent: (event: string, name: string) => Promise<void>;\n  header: string;\n  event: Event;\n  onClose: () => void;\n}\n\ninterface State {\n  name: string;\n}\n\nexport default class ChangeEventForm extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { name: props.event.name };\n  }\n\n  changeInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ name: event.target.value });\n  };\n\n  handleSubmit = () => {\n    return this.props.changeEvent(this.props.event.key, this.state.name);\n  };\n\n  render() {\n    const { name } = this.state;\n    return (\n      <ConfirmModal\n        confirmButtonText={translate('change_verb')}\n        confirmDisable={!name || name === this.props.event.name}\n        header={this.props.header}\n        onClose={this.props.onClose}\n        onConfirm={this.handleSubmit}>\n        <div className=\"modal-field\">\n          <label>{translate('name')}</label>\n          <input autoFocus={true} onChange={this.changeInput} type=\"text\" value={name} />\n        </div>\n      </ConfirmModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../../helpers/l10n';\nimport { Event } from '../../../../api/projectActivity';\nimport ConfirmModal from '../../../../components/controls/ConfirmModal';\n\ninterface Props {\n  analysis: string;\n  deleteEvent: (analysis: string, event: string) => Promise<void>;\n  event: Event;\n  header: string;\n  removeEventQuestion: string;\n  onClose: () => void;\n}\n\nexport default class RemoveEventForm extends React.PureComponent<Props> {\n  handleSubmit = () => {\n    return this.props.deleteEvent(this.props.analysis, this.props.event.key);\n  };\n\n  render() {\n    return (\n      <ConfirmModal\n        confirmButtonText={translate('delete')}\n        header={this.props.header}\n        isDestructive={true}\n        onClose={this.props.onClose}\n        onConfirm={this.handleSubmit}>\n        {translate(this.props.removeEventQuestion)}\n      </ConfirmModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport EventInner from './EventInner';\nimport ChangeEventForm from './forms/ChangeEventForm';\nimport RemoveEventForm from './forms/RemoveEventForm';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { DeleteButton, EditButton } from '../../../components/ui/buttons';\nimport { translate } from '../../../helpers/l10n';\nimport { Event as IEvent } from '../../../api/projectActivity';\n\ninterface Props {\n  analysis: string;\n  canAdmin: boolean;\n  changeEvent: (event: string, name: string) => Promise<void>;\n  deleteEvent: (analysis: string, event: string) => Promise<void>;\n  event: IEvent;\n  isFirst: boolean;\n}\n\ninterface State {\n  changing: boolean;\n  deleting: boolean;\n}\n\nexport default class Event extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { changing: false, deleting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  startChanging = () => {\n    this.setState({ changing: true });\n  };\n\n  stopChanging = () => {\n    if (this.mounted) {\n      this.setState({ changing: false });\n    }\n  };\n\n  startDeleting = () => {\n    this.setState({ deleting: true });\n  };\n\n  stopDeleting = () => {\n    if (this.mounted) {\n      this.setState({ deleting: false });\n    }\n  };\n\n  render() {\n    const { event, canAdmin } = this.props;\n    const isOther = event.category === 'OTHER';\n    const isVersion = !isOther && event.category === 'VERSION';\n    const canChange = isOther || isVersion;\n    const canDelete = isOther || (isVersion && !this.props.isFirst);\n    const showActions = canAdmin && (canChange || canDelete);\n\n    return (\n      <div className=\"project-activity-event\">\n        <EventInner event={this.props.event} />\n\n        {showActions && (\n          <div className=\"project-activity-event-actions spacer-left\">\n            {canChange && (\n              <Tooltip overlay={translate('project_activity.events.tooltip.edit')}>\n                <EditButton className=\"js-change-event button-small\" onClick={this.startChanging} />\n              </Tooltip>\n            )}\n            {canDelete && (\n              <Tooltip overlay={translate('project_activity.events.tooltip.delete')}>\n                <DeleteButton\n                  className=\"js-delete-event button-small\"\n                  onClick={this.startDeleting}\n                />\n              </Tooltip>\n            )}\n          </div>\n        )}\n\n        {this.state.changing && (\n          <ChangeEventForm\n            changeEvent={this.props.changeEvent}\n            event={this.props.event}\n            header={\n              isVersion\n                ? translate('project_activity.change_version')\n                : translate('project_activity.change_custom_event')\n            }\n            onClose={this.stopChanging}\n          />\n        )}\n\n        {this.state.deleting && (\n          <RemoveEventForm\n            analysis={this.props.analysis}\n            deleteEvent={this.props.deleteEvent}\n            event={this.props.event}\n            header={\n              isVersion\n                ? translate('project_activity.remove_version')\n                : translate('project_activity.remove_custom_event')\n            }\n            onClose={this.stopDeleting}\n            removeEventQuestion={`project_activity.${\n              isVersion ? 'remove_version' : 'remove_custom_event'\n            }.question`}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { sortBy } from 'lodash';\nimport Event from './Event';\n/*:: import type { Event as EventType } from '../types'; */\n\n/*::\ntype Props = {\n  analysis?: string,\n  canAdmin?: boolean,\n  changeEvent?: (event: string, name: string) => Promise<*>,\n  deleteEvent?: (analysis: string, event: string) => Promise<*>,\n  events: Array<EventType>,\n  isFirst?: boolean\n};\n*/\n\nexport default function Events(props /*: Props */) {\n  const sortedEvents = sortBy(\n    props.events,\n    // versions last\n    event => (event.category === 'VERSION' ? 1 : 0),\n    // then the rest sorted by category\n    'category'\n  );\n\n  return (\n    <div className=\"project-activity-events\">\n      {sortedEvents.map(event => (\n        <Event\n          analysis={props.analysis}\n          canAdmin={props.canAdmin}\n          changeEvent={props.changeEvent}\n          deleteEvent={props.deleteEvent}\n          event={event}\n          isFirst={props.isFirst}\n          key={event.key}\n        />\n      ))}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConfirmModal from '../../../../components/controls/ConfirmModal';\nimport { translate } from '../../../../helpers/l10n';\nimport { Analysis } from '../../../../api/projectActivity';\n\ninterface Props {\n  addEvent: (analysis: string, name: string, category?: string) => Promise<void>;\n  addEventButtonText: string;\n  analysis: Analysis;\n  onClose: () => void;\n}\n\ninterface State {\n  name: string;\n}\n\nexport default class AddEventForm extends React.PureComponent<Props, State> {\n  state: State = { name: '' };\n\n  handleNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ name: event.target.value });\n  };\n\n  handleSubmit = () => {\n    return this.props.addEvent(this.props.analysis.key, this.state.name);\n  };\n\n  render() {\n    return (\n      <ConfirmModal\n        confirmButtonText={translate('save')}\n        confirmDisable={!this.state.name}\n        header={translate(this.props.addEventButtonText)}\n        onClose={this.props.onClose}\n        onConfirm={this.handleSubmit}>\n        <div className=\"modal-field\">\n          <label>{translate('name')}</label>\n          <input\n            autoFocus={true}\n            onChange={this.handleNameChange}\n            type=\"text\"\n            value={this.state.name}\n          />\n        </div>\n      </ConfirmModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../../helpers/l10n';\nimport { Analysis } from '../../../../api/projectActivity';\nimport ConfirmModal from '../../../../components/controls/ConfirmModal';\n\ninterface Props {\n  analysis: Analysis;\n  deleteAnalysis: (analysis: string) => Promise<void>;\n  onClose: () => void;\n}\n\nexport default function RemoveAnalysisForm({ analysis, deleteAnalysis, onClose }: Props) {\n  return (\n    <ConfirmModal\n      confirmButtonText={translate('delete')}\n      confirmData={analysis.key}\n      header={translate('project_activity.delete_analysis')}\n      isDestructive={true}\n      onClose={onClose}\n      onConfirm={deleteAnalysis}>\n      {translate('project_activity.delete_analysis.question')}\n    </ConfirmModal>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport TimeFormatter from './TimeFormatter';\nimport Tooltip from '../controls/Tooltip';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  className?: string;\n  date: Date | string | number;\n}\n\nexport default function TimeTooltipFormatter({ className, date }: Props) {\n  const parsedDate = parseDate(date);\n  return (\n    <TimeFormatter date={parsedDate} long={false}>\n      {formattedTime => (\n        <Tooltip mouseEnterDelay={0.5} overlay={<TimeFormatter date={parsedDate} long={true} />}>\n          <time className={className} dateTime={parsedDate.toISOString()}>\n            {formattedTime}\n          </time>\n        </Tooltip>\n      )}\n    </TimeFormatter>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport Events from './Events';\nimport AddEventForm from './forms/AddEventForm';\nimport RemoveAnalysisForm from './forms/RemoveAnalysisForm';\nimport TimeTooltipFormatter from '../../../components/intl/TimeTooltipFormatter';\nimport ActionsDropdown, {\n  ActionsDropdownDivider,\n  ActionsDropdownItem\n} from '../../../components/controls/ActionsDropdown';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { Analysis } from '../types'; */\n\n/*::\ntype Props = {\n  addCustomEvent: (analysis: string, name: string, category?: string) => Promise<*>,\n  addVersion: (analysis: string, version: string) => Promise<*>,\n  analysis: Analysis,\n  canAdmin: boolean,\n  canDeleteAnalyses: boolean,\n  canCreateVersion: boolean,\n  changeEvent: (event: string, name: string) => Promise<*>,\n  deleteAnalysis: (analysis: string) => Promise<*>,\n  deleteEvent: (analysis: string, event: string) => Promise<*>,\n  isFirst: boolean,\n  selected: boolean,\n  updateSelectedDate: Date => void\n};\n\ntype State = {\n  addEventForm: bool,\n  addVersionForm: bool,\n  removeAnalysisForm: bool\n}\n*/\n\nexport default class ProjectActivityAnalysis extends React.PureComponent {\n  mounted /*: boolean */ = false;\n  /*:: props: Props; */\n  state /*: State */ = { addEventForm: false, addVersionForm: false, removeAnalysisForm: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleClick = () => this.props.updateSelectedDate(this.props.analysis.date);\n\n  stopPropagation = (e /*: Event */) => e.stopPropagation();\n\n  handleRemoveAnalysisClick = () => {\n    this.setState({ removeAnalysisForm: true });\n  };\n\n  closeRemoveAnalysisForm = () => {\n    if (this.mounted) {\n      this.setState({ removeAnalysisForm: false });\n    }\n  };\n\n  handleAddEventClick = () => {\n    this.setState({ addEventForm: true });\n  };\n\n  closeAddEventForm = () => {\n    if (this.mounted) {\n      this.setState({ addEventForm: false });\n    }\n  };\n\n  handleAddVersionClick = () => {\n    this.setState({ addVersionForm: true });\n  };\n\n  closeAddVersionForm = () => {\n    if (this.mounted) {\n      this.setState({ addVersionForm: false });\n    }\n  };\n\n  render() {\n    const { analysis, isFirst, canAdmin } = this.props;\n    const { date, events } = analysis;\n    const analysisTitle = translate('project_activity.analysis');\n    const hasVersion = events.find(event => event.category === 'VERSION') != null;\n\n    const canAddVersion = canAdmin && !hasVersion && this.props.canCreateVersion;\n    const canAddEvent = canAdmin;\n    const canDeleteAnalyses = this.props.canDeleteAnalyses && !isFirst;\n\n    return (\n      <li\n        className={classNames('project-activity-analysis clearfix', {\n          selected: this.props.selected\n        })}\n        data-date={date.valueOf()}\n        onClick={this.handleClick}\n        tabIndex=\"0\">\n        <div className=\"project-activity-time spacer-right\">\n          <TimeTooltipFormatter className=\"text-middle\" date={date} />\n        </div>\n        <div className=\"project-activity-analysis-icon spacer-right\" title={analysisTitle} />\n\n        {(canAddVersion || canAddEvent || canDeleteAnalyses) && (\n          <div className=\"project-activity-analysis-actions big-spacer-right\">\n            <ActionsDropdown small={true} toggleClassName=\"js-analysis-actions\">\n              {canAddVersion && (\n                <ActionsDropdownItem className=\"js-add-event\" onClick={this.handleAddVersionClick}>\n                  {translate('project_activity.add_version')}\n                </ActionsDropdownItem>\n              )}\n              {canAddEvent && (\n                <ActionsDropdownItem className=\"js-add-event\" onClick={this.handleAddEventClick}>\n                  {translate('project_activity.add_custom_event')}\n                </ActionsDropdownItem>\n              )}\n              {(canAddVersion || canAddEvent) && canDeleteAnalyses && <ActionsDropdownDivider />}\n              {canDeleteAnalyses && (\n                <ActionsDropdownItem\n                  className=\"js-delete-analysis\"\n                  destructive={true}\n                  onClick={this.handleRemoveAnalysisClick}>\n                  {translate('project_activity.delete_analysis')}\n                </ActionsDropdownItem>\n              )}\n            </ActionsDropdown>\n\n            {this.state.addVersionForm && (\n              <AddEventForm\n                addEvent={this.props.addVersion}\n                addEventButtonText=\"project_activity.add_version\"\n                analysis={analysis}\n                onClose={this.closeAddVersionForm}\n              />\n            )}\n\n            {this.state.addEventForm && (\n              <AddEventForm\n                addEvent={this.props.addCustomEvent}\n                addEventButtonText=\"project_activity.add_custom_event\"\n                analysis={analysis}\n                onClose={this.closeAddEventForm}\n              />\n            )}\n\n            {this.state.removeAnalysisForm && (\n              <RemoveAnalysisForm\n                analysis={analysis}\n                deleteAnalysis={this.props.deleteAnalysis}\n                onClose={this.closeRemoveAnalysisForm}\n              />\n            )}\n          </div>\n        )}\n\n        {events.length > 0 && (\n          <Events\n            analysis={analysis.key}\n            canAdmin={canAdmin}\n            canDeleteAnalyses={this.props.canDeleteAnalyses}\n            changeEvent={this.props.changeEvent}\n            deleteEvent={this.props.deleteEvent}\n            events={events}\n            isFirst={this.props.isFirst}\n          />\n        )}\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport { throttle } from 'lodash';\nimport ProjectActivityAnalysis from './ProjectActivityAnalysis';\nimport DateFormatter from '../../../components/intl/DateFormatter';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translate } from '../../../helpers/l10n';\nimport { toShortNotSoISOString } from '../../../helpers/dates';\nimport {\n  activityQueryChanged,\n  getAnalysesByVersionByDay,\n  selectedDateQueryChanged\n} from '../utils';\n/*:: import type { RawQuery } from '../../../helpers/query'; */\n/*:: import type { Analysis, Query } from '../types'; */\n\n/*::\ntype Props = {\n  addCustomEvent: (analysis: string, name: string, category?: string) => Promise<*>,\n  addVersion: (analysis: string, version: string) => Promise<*>,\n  analyses: Array<Analysis>,\n  analysesLoading: boolean,\n  canAdmin: boolean,\n  canDeleteAnalyses: boolean,\n  className?: string,\n  changeEvent: (event: string, name: string) => Promise<*>,\n  deleteAnalysis: (analysis: string) => Promise<*>,\n  deleteEvent: (analysis: string, event: string) => Promise<*>,\n  initializing: boolean,\n  project: { qualifier: string },\n  query: Query,\n  updateQuery: Object => void\n};\n*/\n\nexport default class ProjectActivityAnalysesList extends React.PureComponent {\n  /*:: analyses: HTMLCollection<HTMLElement>; */\n  /*:: badges: HTMLCollection<HTMLElement>; */\n  /*:: props: Props; */\n  /*:: scrollContainer: HTMLElement; */\n\n  constructor(props /*: Props */) {\n    super(props);\n    this.handleScroll = throttle(this.handleScroll, 20);\n  }\n\n  componentDidMount() {\n    this.badges = document.getElementsByClassName('project-activity-version-badge');\n    this.analyses = document.getElementsByClassName('project-activity-analysis');\n  }\n\n  componentDidUpdate(prevProps /*: Props */) {\n    if (!this.scrollContainer) {\n      return;\n    }\n    if (\n      this.props.query.selectedDate &&\n      (selectedDateQueryChanged(prevProps.query, this.props.query) ||\n        prevProps.analyses !== this.props.analyses)\n    ) {\n      this.scrollToDate(this.props.query.selectedDate);\n    } else if (activityQueryChanged(prevProps.query, this.props.query)) {\n      this.resetScrollTop(0, true);\n    }\n  }\n\n  handleScroll = () => this.updateStickyBadges(true);\n\n  resetScrollTop = (newScrollTop /*: number */, forceBadgeAlignement /*: ?boolean */) => {\n    this.scrollContainer.scrollTop = newScrollTop;\n    for (let i = 1; i < this.badges.length; i++) {\n      this.badges[i].removeAttribute('originOffsetTop');\n      this.badges[i].classList.remove('sticky');\n    }\n    this.updateStickyBadges(forceBadgeAlignement);\n  };\n\n  scrollToDate = (targetDate /*: ?Date */) => {\n    if (!this.scrollContainer || !targetDate) {\n      return;\n    }\n    const date = targetDate.valueOf();\n    for (let i = 1; i < this.analyses.length; i++) {\n      if (Number(this.analyses[i].getAttribute('data-date')) === date) {\n        const containerHeight = this.scrollContainer.offsetHeight - 100;\n        const scrollDiff = Math.abs(this.scrollContainer.scrollTop - this.analyses[i].offsetTop);\n        // Center only the extremities and the ones outside of the container\n        if (scrollDiff > containerHeight || scrollDiff < 100) {\n          this.resetScrollTop(this.analyses[i].offsetTop - containerHeight / 2);\n        }\n        break;\n      }\n    }\n  };\n\n  updateStickyBadges = (forceBadgeAlignement /*: ?boolean */) => {\n    if (!this.scrollContainer || !this.badges) {\n      return;\n    }\n\n    const scrollTop = this.scrollContainer.scrollTop;\n    if (scrollTop == null) {\n      return;\n    }\n\n    let newScrollTop;\n    for (let i = 1; i < this.badges.length; i++) {\n      const badge = this.badges[i];\n      let originOffsetTop = badge.getAttribute('originOffsetTop');\n      if (originOffsetTop == null) {\n        // Set the originOffsetTop attribute, to avoid using getBoundingClientRect\n        originOffsetTop = badge.offsetTop;\n        badge.setAttribute('originOffsetTop', originOffsetTop.toString());\n      }\n      if (Number(originOffsetTop) < scrollTop + 18 + i * 2) {\n        if (forceBadgeAlignement && !badge.classList.contains('sticky')) {\n          newScrollTop = originOffsetTop;\n        }\n        badge.classList.add('sticky');\n      } else {\n        badge.classList.remove('sticky');\n      }\n    }\n\n    if (forceBadgeAlignement && newScrollTop != null) {\n      this.scrollContainer.scrollTop = newScrollTop - 6;\n    }\n  };\n\n  updateSelectedDate = (date /*: Date */) => this.props.updateQuery({ selectedDate: date });\n\n  render() {\n    const byVersionByDay = getAnalysesByVersionByDay(this.props.analyses, this.props.query);\n    const hasFilteredData =\n      byVersionByDay.length > 1 ||\n      (byVersionByDay.length === 1 && Object.keys(byVersionByDay[0].byDay).length > 0);\n    if (this.props.analyses.length === 0 || !hasFilteredData) {\n      return (\n        <div className={this.props.className}>\n          {this.props.initializing ? (\n            <div className=\"text-center\">\n              <i className=\"spinner\" />\n            </div>\n          ) : (\n            <span className=\"note\">{translate('no_results')}</span>\n          )}\n        </div>\n      );\n    }\n\n    const firstAnalysisKey = this.props.analyses[0].key;\n    const selectedDate = this.props.query.selectedDate\n      ? this.props.query.selectedDate.valueOf()\n      : null;\n\n    return (\n      <ul\n        className={classNames('project-activity-versions-list', this.props.className)}\n        onScroll={this.handleScroll}\n        ref={element => (this.scrollContainer = element)}\n        style={{ paddingTop: this.props.project.qualifier === 'TRK' ? 52 : undefined }}>\n        {byVersionByDay.map((version, idx) => {\n          const days = Object.keys(version.byDay);\n          if (days.length <= 0) {\n            return null;\n          }\n          return (\n            <li key={version.key || 'noversion'}>\n              {version.version && (\n                <div className={classNames('project-activity-version-badge', { first: idx === 0 })}>\n                  <Tooltip\n                    overlay={`${translate('version')} ${version.version}`}\n                    mouseEnterDelay={0.5}>\n                    <span className=\"badge\">{version.version}</span>\n                  </Tooltip>\n                </div>\n              )}\n              <ul className=\"project-activity-days-list\">\n                {days.map(day => (\n                  <li\n                    key={day}\n                    className=\"project-activity-day\"\n                    data-day={toShortNotSoISOString(Number(day))}>\n                    <div className=\"project-activity-date\">\n                      <DateFormatter date={Number(day)} long={true} />\n                    </div>\n                    <ul className=\"project-activity-analyses-list\">\n                      {version.byDay[day] != null &&\n                        version.byDay[day].map(analysis => (\n                          <ProjectActivityAnalysis\n                            addCustomEvent={this.props.addCustomEvent}\n                            addVersion={this.props.addVersion}\n                            analysis={analysis}\n                            canAdmin={this.props.canAdmin}\n                            canDeleteAnalyses={this.props.canDeleteAnalyses}\n                            canCreateVersion={this.props.project.qualifier === 'TRK'}\n                            changeEvent={this.props.changeEvent}\n                            deleteAnalysis={this.props.deleteAnalysis}\n                            deleteEvent={this.props.deleteEvent}\n                            isFirst={analysis.key === firstAnalysisKey}\n                            key={analysis.key}\n                            selected={analysis.date.valueOf() === selectedDate}\n                            updateSelectedDate={this.updateSelectedDate}\n                          />\n                        ))}\n                    </ul>\n                  </li>\n                ))}\n              </ul>\n            </li>\n          );\n        })}\n        {this.props.analysesLoading && (\n          <li className=\"text-center\">\n            <i className=\"spinner\" />\n          </li>\n        )}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport MultiSelect from '../../../../components/common/MultiSelect';\nimport { translate, translateWithParameters } from '../../../../helpers/l10n';\n\ninterface Props {\n  elements: string[];\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  metricsTypeFilter: string[];\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  popupPosition?: any;\n  renderLabel: (element: string) => React.ReactNode;\n  selectedElements: string[];\n}\n\nexport default function AddGraphMetricPopup({ elements, metricsTypeFilter, ...props }: Props) {\n  let footerNode: React.ReactNode = '';\n\n  if (props.selectedElements.length >= 6) {\n    footerNode = (\n      <span className=\"alert alert-info spacer-left spacer-right spacer-top\">\n        {translate('project_activity.graphs.custom.add_metric_info')}\n      </span>\n    );\n  } else if (metricsTypeFilter != null && metricsTypeFilter.length > 0) {\n    footerNode = (\n      <span className=\"alert alert-info spacer-left spacer-right spacer-top\">\n        {translateWithParameters(\n          'project_activity.graphs.custom.type_x_message',\n          metricsTypeFilter\n            .map((type: string) => translate('metric.type', type))\n            .sort()\n            .join(', ')\n        )}\n      </span>\n    );\n  }\n\n  return (\n    <div className=\"menu abs-width-300\">\n      <MultiSelect\n        allowNewElements={false}\n        allowSelection={props.selectedElements.length < 6}\n        elements={elements}\n        filterSelected={props.filterSelected}\n        footerNode={footerNode}\n        onSearch={props.onSearch}\n        onSelect={props.onSelect}\n        onUnselect={props.onUnselect}\n        placeholder={translate('search.search_for_tags')}\n        renderLabel={props.renderLabel}\n        selectedElements={props.selectedElements}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { find, sortBy } from 'lodash';\nimport AddGraphMetricPopup from './AddGraphMetricPopup';\nimport DropdownIcon from '../../../../components/icons-components/DropdownIcon';\nimport Dropdown from '../../../../components/controls/Dropdown';\nimport { Button } from '../../../../components/ui/buttons';\nimport { isDiffMetric } from '../../../../helpers/measures';\nimport { getLocalizedMetricName, translate } from '../../../../helpers/l10n';\n/*:: import type { Metric } from '../../types'; */\n\n/*::\ntype Props = {\n  addMetric: (metric: string) => void,\n  className?: string,\n  metrics: Array<Metric>,\n  metricsTypeFilter: ?Array<string>,\n  removeMetric: (metric: string) => void,\n  selectedMetrics: Array<string>\n};\n*/\n\n/*::\ntype State = {\n  query: string,\n};\n*/\n\nexport default class AddGraphMetric extends React.PureComponent {\n  /*:: props: Props; */\n  state /*: State */ = {\n    metrics: [],\n    query: '',\n    selectedMetrics: []\n  };\n\n  filterSelected = (query /*: string*/, selectedElements /*: string[]*/) => {\n    return selectedElements.filter(element =>\n      this.getLocalizedMetricNameFromKey(element)\n        .toLowerCase()\n        .includes(query.toLowerCase())\n    );\n  };\n\n  getPopupPos = (containerPos /*: ClientRect*/) => ({\n    top: containerPos.height,\n    right: containerPos.width - 240\n  });\n\n  filterMetricsElements = (\n    { metricsTypeFilter, metrics, selectedMetrics } /*: Props */,\n    query /*: string*/\n  ) => {\n    return metrics\n      .filter(metric => {\n        if (\n          metric.hidden ||\n          isDiffMetric(metric.key) ||\n          ['DATA', 'DISTRIB'].includes(metric.type) ||\n          selectedMetrics.includes(metric.key) ||\n          !getLocalizedMetricName(metric)\n            .toLowerCase()\n            .includes(query.toLowerCase())\n        ) {\n          return false;\n        }\n        if (metricsTypeFilter && metricsTypeFilter.length > 0) {\n          return metricsTypeFilter.includes(metric.type);\n        }\n        return true;\n      })\n      .map(metric => metric.key);\n  };\n\n  getSelectedMetricsElements = (\n    metrics /*: Array<Metric> */,\n    selectedMetrics /*: Array<string> | null */,\n    query /*: string */\n  ) => {\n    const selected /*: Array<string> */ =\n      selectedMetrics === null ? this.props.selectedMetrics : selectedMetrics;\n    return metrics.filter(metric => selected.includes(metric.key)).map(metric => metric.key);\n  };\n\n  getLocalizedMetricNameFromKey = (key /*: string*/) => {\n    const metric = find(this.props.metrics, { key });\n    return metric === undefined ? key : getLocalizedMetricName(metric);\n  };\n\n  onSearch = (query /*: string */) => {\n    this.setState({ query });\n    return Promise.resolve();\n  };\n\n  onSelect = (metric /*: string */) => {\n    this.props.addMetric(metric);\n    this.setState(state => {\n      return {\n        selectedMetrics: sortBy([...state.selectedMetrics, metric]),\n        metrics: this.filterMetricsElements(this.props, state.query)\n      };\n    });\n  };\n\n  onUnselect = (metric /*: string */) => {\n    this.props.removeMetric(metric);\n    this.setState(state => {\n      return {\n        metrics: sortBy([...state.metrics, metric]),\n        selectedMetrics: state.selectedMetrics.filter(selected => selected !== metric)\n      };\n    });\n  };\n\n  render() {\n    const { query } = this.state;\n    const filteredMetrics = this.filterMetricsElements(this.props, query);\n    const selectedMetrics = this.getSelectedMetricsElements(\n      this.props.metrics,\n      this.props.selectedMetrics,\n      query\n    );\n    return (\n      <Dropdown\n        className=\"display-inline-block\"\n        overlay={\n          <AddGraphMetricPopup\n            elements={filteredMetrics}\n            filterSelected={this.filterSelected}\n            metricsTypeFilter={this.props.metricsTypeFilter}\n            onSearch={this.onSearch}\n            onSelect={this.onSelect}\n            onUnselect={this.onUnselect}\n            renderLabel={element => this.getLocalizedMetricNameFromKey(element)}\n            selectedElements={selectedMetrics}\n          />\n        }>\n        <Button className=\"spacer-left\">\n          <span className=\"text-ellipsis text-middle\">\n            {translate('project_activity.graphs.custom.add')}\n          </span>\n          <DropdownIcon className=\"text-top little-spacer-left\" />\n        </Button>\n      </Dropdown>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport AddGraphMetric from './forms/AddGraphMetric';\nimport { isCustomGraph, GRAPH_TYPES } from '../utils';\nimport Select from '../../../components/controls/Select';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { Metric } from '../types'; */\n\n/*::\ntype Props = {\n  addCustomMetric: string => void,\n  removeCustomMetric: string => void,\n  graph: string,\n  metrics: Array<Metric>,\n  metricsTypeFilter: ?Array<string>,\n  selectedMetrics: Array<string>,\n  updateGraph: string => void\n};\n*/\n\nexport default class ProjectActivityGraphsHeader extends React.PureComponent {\n  /*:: props: Props; */\n\n  handleGraphChange = (option /*: { value: string } */) => {\n    if (option.value !== this.props.graph) {\n      this.props.updateGraph(option.value);\n    }\n  };\n\n  render() {\n    const selectOptions = GRAPH_TYPES.map(graph => ({\n      label: translate('project_activity.graphs', graph),\n      value: graph\n    }));\n\n    return (\n      <header className=\"page-header\">\n        <Select\n          className=\"pull-left input-medium\"\n          clearable={false}\n          onChange={this.handleGraphChange}\n          options={selectOptions}\n          searchable={false}\n          value={this.props.graph}\n        />\n        {isCustomGraph(this.props.graph) && (\n          <AddGraphMetric\n            addMetric={this.props.addCustomMetric}\n            className=\"pull-left spacer-left\"\n            metrics={this.props.metrics}\n            metricsTypeFilter={this.props.metricsTypeFilter}\n            removeMetric={this.props.removeCustomMetric}\n            selectedMetrics={this.props.selectedMetrics}\n          />\n        )}\n      </header>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport { flatten, sortBy, throttle } from 'lodash';\nimport { extent, max } from 'd3-array';\nimport { scaleLinear, scalePoint, scaleTime } from 'd3-scale';\nimport { line as d3Line, area, curveBasis } from 'd3-shape';\nimport Draggable, { DraggableCore } from 'react-draggable';\n/*:: import type { DraggableData } from 'react-draggable'; */\n/*:: import type { Point, Serie } from './AdvancedTimeline'; */\nimport * as theme from '../../app/theme';\nimport './LineChart.css';\nimport './ZoomTimeLine.css';\n\n/*::\ntype Scale = Function;\n*/\n\n/*::\ntype Props = {\n  basisCurve?: boolean,\n  endDate: ?Date,\n  height: number,\n  width: number,\n  leakPeriodDate?: Date,\n  padding: Array<number>,\n  series: Array<Serie>,\n  showAreas?: boolean,\n  showXTicks?: boolean,\n  startDate: ?Date,\n  updateZoom: (start: ?Date, endDate: ?Date) => void\n};\n*/\n\n/*::\ntype State = {\n  overlayLeftPos: ?number,\n  newZoomStart: ?number\n};\n*/\n\nexport default class ZoomTimeLine extends React.PureComponent {\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  static defaultProps = {\n    padding: [0, 0, 18, 0],\n    showXTicks: true\n  };\n\n  constructor(props /*: Props */) {\n    super(props);\n    this.state = { overlayLeftPos: null, newZoomStart: null };\n    this.handleZoomUpdate = throttle(this.handleZoomUpdate, 40);\n  }\n\n  getRatingScale = (availableHeight /*: number */) =>\n    scalePoint()\n      .domain([5, 4, 3, 2, 1])\n      .range([availableHeight, 0]);\n\n  getLevelScale = (availableHeight /*: number */) =>\n    scalePoint()\n      .domain(['ERROR', 'WARN', 'OK'])\n      .range([availableHeight, 0]);\n\n  getYScale = (availableHeight /*: number */, flatData /*: Array<Point> */) => {\n    if (this.props.metricType === 'RATING') {\n      return this.getRatingScale(availableHeight);\n    } else if (this.props.metricType === 'LEVEL') {\n      return this.getLevelScale(availableHeight);\n    } else {\n      return scaleLinear()\n        .range([availableHeight, 0])\n        .domain([0, max(flatData, d => d.y)])\n        .nice();\n    }\n  };\n\n  getXScale = (availableWidth /*: number */, flatData /*: Array<Point> */) =>\n    scaleTime()\n      .domain(extent(flatData, d => d.x))\n      .range([0, availableWidth])\n      .clamp(true);\n\n  getScales = () => {\n    const availableWidth = this.props.width - this.props.padding[1] - this.props.padding[3];\n    const availableHeight = this.props.height - this.props.padding[0] - this.props.padding[2];\n    const flatData = flatten(this.props.series.map((serie /*: Serie */) => serie.data));\n    return {\n      xScale: this.getXScale(availableWidth, flatData),\n      yScale: this.getYScale(availableHeight, flatData)\n    };\n  };\n\n  getEventMarker = (size /*: number */) => {\n    const half = size / 2;\n    return `M${half} 0 L${size} ${half} L ${half} ${size} L0 ${half} L${half} 0 L${size} ${half}`;\n  };\n\n  handleDoubleClick = (xScale /*: Scale */, xDim /*: Array<number> */) => () => {\n    this.handleZoomUpdate(xScale, xDim);\n  };\n\n  handleSelectionDrag = (\n    xScale /*: Scale */,\n    width /*: number */,\n    xDim /*: Array<number> */,\n    checkDelta /*: ?boolean */\n  ) => (e /*: Event */, data /*: DraggableData */) => {\n    if (!checkDelta || data.deltaX) {\n      const x = Math.max(xDim[0], Math.min(data.x, xDim[1] - width));\n      this.handleZoomUpdate(xScale, [x, width + x]);\n    }\n  };\n\n  handleSelectionHandleDrag = (\n    xScale /*: Scale */,\n    fixedX /*: number */,\n    xDim /*: Array<number> */,\n    handleDirection /*: string */,\n    checkDelta /*: ?boolean */\n  ) => (e /*: Event */, data /*: DraggableData */) => {\n    if (!checkDelta || data.deltaX) {\n      const x = Math.max(xDim[0], Math.min(data.x, xDim[1]));\n      this.handleZoomUpdate(xScale, handleDirection === 'right' ? [fixedX, x] : [x, fixedX]);\n    }\n  };\n\n  handleNewZoomDragStart = (xDim /*: Array<number> */) => (\n    e /*: Event */,\n    data /*: DraggableData */\n  ) => {\n    const overlayLeftPos = data.node.getBoundingClientRect().left;\n    this.setState({\n      overlayLeftPos,\n      newZoomStart: Math.round(Math.max(xDim[0], Math.min(data.x - overlayLeftPos, xDim[1])))\n    });\n  };\n\n  handleNewZoomDrag = (xScale /*: Scale */, xDim /*: Array<number> */) => (\n    e /*: Event */,\n    data /*: DraggableData */\n  ) => {\n    const { newZoomStart, overlayLeftPos } = this.state;\n    if (newZoomStart != null && overlayLeftPos != null && data.deltaX) {\n      this.handleZoomUpdate(\n        xScale,\n        sortBy([newZoomStart, Math.max(xDim[0], Math.min(data.x - overlayLeftPos, xDim[1]))])\n      );\n    }\n  };\n\n  handleNewZoomDragEnd = (xScale /*: Scale */, xDim /*: Array<number> */) => (\n    e /*: Event */,\n    data /*: DraggableData */\n  ) => {\n    const { newZoomStart, overlayLeftPos } = this.state;\n    if (newZoomStart != null && overlayLeftPos != null) {\n      const x = Math.round(Math.max(xDim[0], Math.min(data.x - overlayLeftPos, xDim[1])));\n      this.handleZoomUpdate(xScale, newZoomStart === x ? xDim : sortBy([newZoomStart, x]));\n      this.setState({ newZoomStart: null, overlayLeftPos: null });\n    }\n  };\n\n  handleZoomUpdate = (xScale /*: Scale */, xArray /*: Array<number> */) => {\n    const xRange = xScale.range();\n    const startDate =\n      xArray[0] > xRange[0] && xArray[0] < xRange[xRange.length - 1]\n        ? xScale.invert(xArray[0])\n        : null;\n    const endDate =\n      xArray[1] > xRange[0] && xArray[1] < xRange[xRange.length - 1]\n        ? xScale.invert(xArray[1])\n        : null;\n    if (this.props.startDate !== startDate || this.props.endDate !== endDate) {\n      this.props.updateZoom(startDate, endDate);\n    }\n  };\n\n  renderBaseLine = (xScale /*: Scale */, yScale /*: Scale */) => {\n    return (\n      <line\n        className=\"line-chart-grid\"\n        x1={xScale.range()[0]}\n        x2={xScale.range()[1]}\n        y1={yScale.range()[0]}\n        y2={yScale.range()[0]}\n      />\n    );\n  };\n\n  renderTicks = (xScale /*: Scale */, yScale /*: Scale */) => {\n    const format = xScale.tickFormat(7);\n    const ticks = xScale.ticks(7);\n    const y = yScale.range()[0];\n    return (\n      <g>\n        {ticks.slice(0, -1).map((tick, index) => {\n          const nextTick = index + 1 < ticks.length ? ticks[index + 1] : xScale.domain()[1];\n          const x = (xScale(tick) + xScale(nextTick)) / 2;\n          return (\n            <text key={index} className=\"chart-zoom-tick\" x={x} y={y} dy=\"1.3em\">\n              {format(tick)}\n            </text>\n          );\n        })}\n      </g>\n    );\n  };\n\n  renderLeak = (xScale /*: Scale */, yScale /*: Scale */) => {\n    if (!this.props.leakPeriodDate) {\n      return null;\n    }\n    const yRange = yScale.range();\n    return (\n      <rect\n        x={xScale(this.props.leakPeriodDate)}\n        y={yRange[yRange.length - 1]}\n        width={xScale.range()[1] - xScale(this.props.leakPeriodDate)}\n        height={yRange[0] - yRange[yRange.length - 1]}\n        fill={theme.leakColor}\n      />\n    );\n  };\n\n  renderLines = (xScale /*: Scale */, yScale /*: Scale */) => {\n    const lineGenerator = d3Line()\n      .defined(d => d.y || d.y === 0)\n      .x(d => xScale(d.x))\n      .y(d => yScale(d.y));\n    if (this.props.basisCurve) {\n      lineGenerator.curve(curveBasis);\n    }\n    return (\n      <g>\n        {this.props.series.map((serie, idx) => (\n          <path\n            key={serie.name}\n            className={classNames('line-chart-path', 'line-chart-path-' + idx)}\n            d={lineGenerator(serie.data)}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderAreas = (xScale /*: Scale */, yScale /*: Scale */) => {\n    const areaGenerator = area()\n      .defined(d => d.y || d.y === 0)\n      .x(d => xScale(d.x))\n      .y1(d => yScale(d.y))\n      .y0(yScale(0));\n    if (this.props.basisCurve) {\n      areaGenerator.curve(curveBasis);\n    }\n    return (\n      <g>\n        {this.props.series.map((serie, idx) => (\n          <path\n            key={serie.name}\n            className={classNames('line-chart-area', 'line-chart-area-' + idx)}\n            d={areaGenerator(serie.data)}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderZoomHandle = (\n    options /*: {\n    xScale: Scale,\n    xPos: number,\n    fixedPos: number,\n    yDim: Array<number>,\n    xDim: Array<number>,\n    direction: string\n  } */\n  ) => (\n    <Draggable\n      axis=\"x\"\n      bounds={{ left: options.xDim[0], right: options.xDim[1] }}\n      position={{ x: options.xPos, y: 0 }}\n      onDrag={this.handleSelectionHandleDrag(\n        options.xScale,\n        options.fixedPos,\n        options.xDim,\n        options.direction,\n        true\n      )}\n      onStop={this.handleSelectionHandleDrag(\n        options.xScale,\n        options.fixedPos,\n        options.xDim,\n        options.direction\n      )}>\n      <rect\n        className=\"zoom-selection-handle\"\n        x={-3}\n        y={options.yDim[1]}\n        height={options.yDim[0] - options.yDim[1] + 1}\n        width={6}\n      />\n    </Draggable>\n  );\n\n  renderZoom = (xScale /*: Scale */, yScale /*: Scale */) => {\n    const xRange = xScale.range();\n    const yRange = yScale.range();\n    const xDim = [xRange[0], xRange[xRange.length - 1]];\n    const yDim = [yRange[0], yRange[yRange.length - 1]];\n    const startX = Math.round(this.props.startDate ? xScale(this.props.startDate) : xDim[0]);\n    const endX = Math.round(this.props.endDate ? xScale(this.props.endDate) : xDim[1]);\n    const xArray = sortBy([startX, endX]);\n    const zoomBoxWidth = xArray[1] - xArray[0];\n    const showZoomArea =\n      this.state.newZoomStart == null ||\n      this.state.newZoomStart === startX ||\n      this.state.newZoomStart === endX;\n\n    return (\n      <g className=\"chart-zoom\">\n        <DraggableCore\n          onStart={this.handleNewZoomDragStart(xDim)}\n          onDrag={this.handleNewZoomDrag(xScale, xDim)}\n          onStop={this.handleNewZoomDragEnd(xScale, xDim)}>\n          <rect\n            className=\"zoom-overlay\"\n            x={xDim[0]}\n            y={yDim[1]}\n            height={yDim[0] - yDim[1]}\n            width={xDim[1] - xDim[0]}\n          />\n        </DraggableCore>\n        {showZoomArea && (\n          <Draggable\n            axis=\"x\"\n            bounds={{ left: xDim[0], right: Math.floor(xDim[1] - zoomBoxWidth) }}\n            position={{ x: xArray[0], y: 0 }}\n            onDrag={this.handleSelectionDrag(xScale, zoomBoxWidth, xDim, true)}\n            onStop={this.handleSelectionDrag(xScale, zoomBoxWidth, xDim)}>\n            <rect\n              className=\"zoom-selection\"\n              x={0}\n              y={yDim[1]}\n              height={yDim[0] - yDim[1] + 1}\n              width={zoomBoxWidth}\n              onDoubleClick={this.handleDoubleClick(xScale, xDim)}\n            />\n          </Draggable>\n        )}\n        {showZoomArea &&\n          this.renderZoomHandle({\n            xScale,\n            xPos: startX,\n            fixedPos: endX,\n            xDim,\n            yDim,\n            direction: 'left'\n          })}\n        {showZoomArea &&\n          this.renderZoomHandle({\n            xScale,\n            xPos: endX,\n            fixedPos: startX,\n            xDim,\n            yDim,\n            direction: 'right'\n          })}\n      </g>\n    );\n  };\n\n  render() {\n    if (!this.props.width || !this.props.height) {\n      return <div />;\n    }\n\n    const { xScale, yScale } = this.getScales();\n\n    return (\n      <svg className=\"line-chart \" width={this.props.width} height={this.props.height}>\n        <g transform={`translate(${this.props.padding[3]}, ${this.props.padding[0] + 2})`}>\n          {this.renderLeak(xScale, yScale)}\n          {this.renderBaseLine(xScale, yScale)}\n          {this.props.showXTicks && this.renderTicks(xScale, yScale)}\n          {this.props.showAreas && this.renderAreas(xScale, yScale)}\n          {this.renderLines(xScale, yScale)}\n          {this.renderZoom(xScale, yScale)}\n        </g>\n      </svg>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\n// $FlowFixMe\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer';\nimport ZoomTimeLine from '../../../components/charts/ZoomTimeLine';\nimport { hasHistoryData } from '../utils';\n/*:: import type { Serie } from '../../../components/charts/AdvancedTimeline'; */\n\n/*::\ntype Props = {\n  graphEndDate: ?Date,\n  graphStartDate: ?Date,\n  leakPeriodDate?: Date,\n  loading: boolean,\n  metricsType: string,\n  series: Array<Serie>,\n  showAreas?: boolean,\n  updateGraphZoom: (from: ?Date, to: ?Date) => void\n};\n*/\n\nexport default function GraphsZoom(props /*: Props */) {\n  const { loading } = props;\n  if (loading || !hasHistoryData(props.series)) {\n    return null;\n  }\n\n  return (\n    <div className=\"project-activity-graph-zoom\">\n      <AutoSizer disableHeight={true}>\n        {({ width }) => (\n          <ZoomTimeLine\n            endDate={props.graphEndDate}\n            height={64}\n            width={width}\n            interpolate=\"linear\"\n            leakPeriodDate={props.leakPeriodDate}\n            metricType={props.metricsType}\n            padding={[0, 10, 18, 60]}\n            series={props.series}\n            showAreas={props.showAreas}\n            startDate={props.graphStartDate}\n            updateZoom={props.updateGraphZoom}\n          />\n        )}\n      </AutoSizer>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport ChartLegendIcon from '../../../components/icons-components/ChartLegendIcon';\n\n/*::\ntype Props = {\n  name: string,\n  style: string,\n  translatedName: string,\n  value: string\n};\n*/\n\nexport default function GraphsTooltipsContent({ name, style, translatedName, value } /*: Props */) {\n  return (\n    <tr key={name} className=\"project-activity-graph-tooltip-line\">\n      <td className=\"thin\">\n        <ChartLegendIcon\n          className={classNames('spacer-right line-chart-legend', 'line-chart-legend-' + style)}\n        />\n      </td>\n      <td className=\"project-activity-graph-tooltip-value text-right spacer-right thin\">{value}</td>\n      <td>{translatedName}</td>\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport ProjectEventIcon from '../../../components/icons-components/ProjectEventIcon';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { Event } from '../types'; */\n\n/*::\ntype Props = {\n  addSeparator: boolean,\n  events: Array<Event>\n};\n*/\n\nexport default function GraphsTooltipsContentEvents({ addSeparator, events } /*: Props */) {\n  return (\n    <tbody>\n      {addSeparator && (\n        <tr>\n          <td className=\"project-activity-graph-tooltip-separator\" colSpan=\"3\">\n            <hr />\n          </td>\n        </tr>\n      )}\n      <tr className=\"project-activity-graph-tooltip-line\">\n        <td colSpan=\"3\">\n          <span>{translate('events')}:</span>\n          {events.map(event => (\n            <span key={event.key} className=\"spacer-left\">\n              <ProjectEventIcon className={'project-activity-event-icon ' + event.category} />\n            </span>\n          ))}\n        </td>\n      </tr>\n    </tbody>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { MeasureHistory } from '../types'; */\n\n/*::\ntype Props = {\n  addSeparator: boolean,\n  measuresHistory: Array<MeasureHistory>,\n  tooltipIdx: number\n};\n*/\n\nexport default function GraphsTooltipsContentCoverage(\n  { addSeparator, measuresHistory, tooltipIdx } /*: Props */\n) {\n  const uncovered = measuresHistory.find(measure => measure.metric === 'uncovered_lines');\n  const coverage = measuresHistory.find(measure => measure.metric === 'coverage');\n  if (!uncovered || !uncovered.history[tooltipIdx] || !coverage || !coverage.history[tooltipIdx]) {\n    return null;\n  }\n  const uncoveredValue = uncovered.history[tooltipIdx].value;\n  const coverageValue = coverage.history[tooltipIdx].value;\n  return (\n    <tbody>\n      {addSeparator && (\n        <tr>\n          <td className=\"project-activity-graph-tooltip-separator\" colSpan=\"3\">\n            <hr />\n          </td>\n        </tr>\n      )}\n      {uncoveredValue && (\n        <tr className=\"project-activity-graph-tooltip-line\">\n          <td\n            colSpan=\"2\"\n            className=\"project-activity-graph-tooltip-value text-right spacer-right thin\">\n            {formatMeasure(uncoveredValue, 'SHORT_INT')}\n          </td>\n          <td>{translate('metric.uncovered_lines.name')}</td>\n        </tr>\n      )}\n      {coverageValue && (\n        <tr className=\"project-activity-graph-tooltip-line\">\n          <td\n            colSpan=\"2\"\n            className=\"project-activity-graph-tooltip-value text-right spacer-right thin\">\n            {formatMeasure(coverageValue, 'PERCENT')}\n          </td>\n          <td>{translate('metric.coverage.name')}</td>\n        </tr>\n      )}\n    </tbody>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { MeasureHistory } from '../types'; */\n\n/*::\ntype Props = {\n  addSeparator: boolean,\n  measuresHistory: Array<MeasureHistory>,\n  tooltipIdx: number\n};\n*/\n\nexport default function GraphsTooltipsContentDuplication(\n  { addSeparator, measuresHistory, tooltipIdx } /*: Props */\n) {\n  const duplicationDensity = measuresHistory.find(\n    measure => measure.metric === 'duplicated_lines_density'\n  );\n  if (!duplicationDensity || !duplicationDensity.history[tooltipIdx]) {\n    return null;\n  }\n  const duplicationDensityValue = duplicationDensity.history[tooltipIdx].value;\n  if (!duplicationDensityValue) {\n    return null;\n  }\n  return (\n    <tbody>\n      {addSeparator && (\n        <tr>\n          <td className=\"project-activity-graph-tooltip-separator\" colSpan=\"3\">\n            <hr />\n          </td>\n        </tr>\n      )}\n      <tr className=\"project-activity-graph-tooltip-line\">\n        <td\n          colSpan=\"2\"\n          className=\"project-activity-graph-tooltip-value text-right spacer-right thin\">\n          {formatMeasure(duplicationDensityValue, 'PERCENT')}\n        </td>\n        <td>{translate('metric.duplicated_lines_density.name')}</td>\n      </tr>\n    </tbody>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport ChartLegendIcon from '../../../components/icons-components/ChartLegendIcon';\nimport Rating from '../../../components/ui/Rating';\n/*:: import type { MeasureHistory } from '../types'; */\n\n/*::\ntype Props = {\n  measuresHistory: Array<MeasureHistory>,\n  name: string,\n  style: string,\n  tooltipIdx: number,\n  translatedName: string,\n  value: string\n};\n*/\n\nconst METRIC_RATING = {\n  bugs: 'reliability_rating',\n  vulnerabilities: 'security_rating',\n  code_smells: 'sqale_rating'\n};\n\nexport default function GraphsTooltipsContentIssues(props /*: Props */) {\n  const rating = props.measuresHistory.find(\n    measure => measure.metric === METRIC_RATING[props.name]\n  );\n  if (!rating || !rating.history[props.tooltipIdx]) {\n    return null;\n  }\n  const ratingValue = rating.history[props.tooltipIdx].value;\n  return (\n    <tr key={props.name} className=\"project-activity-graph-tooltip-issues-line\">\n      <td className=\"thin\">\n        <ChartLegendIcon\n          className={classNames(\n            'spacer-right line-chart-legend',\n            'line-chart-legend-' + props.style\n          )}\n        />\n      </td>\n      <td className=\"text-right spacer-right\">\n        <span className=\"project-activity-graph-tooltip-value\">{props.value}</span>\n        {ratingValue && <Rating className=\"spacer-left\" small={true} value={ratingValue} />}\n      </td>\n      <td>{props.translatedName}</td>\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport GraphsTooltipsContent from './GraphsTooltipsContent';\nimport GraphsTooltipsContentEvents from './GraphsTooltipsContentEvents';\nimport GraphsTooltipsContentCoverage from './GraphsTooltipsContentCoverage';\nimport GraphsTooltipsContentDuplication from './GraphsTooltipsContentDuplication';\nimport GraphsTooltipsContentIssues from './GraphsTooltipsContentIssues';\nimport { DEFAULT_GRAPH } from '../utils';\nimport DateTimeFormatter from '../../../components/intl/DateTimeFormatter';\nimport { Popup, PopupPlacement } from '../../../components/ui/popups';\n/*:: import type { Event, MeasureHistory } from '../types'; */\n/*:: import type { Serie } from '../../../components/charts/AdvancedTimeline'; */\n\n/*::\ntype Props = {\n  events: Array<Event>,\n  formatValue: (number | string) => string,\n  graph: string,\n  graphWidth: number,\n  measuresHistory: Array<MeasureHistory>,\n  selectedDate: Date,\n  series: Array<Serie & { translatedName: string }>,\n  tooltipIdx: number,\n  tooltipPos: number\n};\n*/\n\nconst TOOLTIP_WIDTH = 250;\n\nexport default class GraphsTooltips extends React.PureComponent {\n  /*:: props: Props; */\n\n  renderContent() {\n    const { tooltipIdx } = this.props;\n\n    return this.props.series.map((serie, idx) => {\n      const point = serie.data[tooltipIdx];\n      if (!point || (!point.y && point.y !== 0)) {\n        return null;\n      }\n      if (this.props.graph === DEFAULT_GRAPH) {\n        return (\n          <GraphsTooltipsContentIssues\n            key={serie.name}\n            measuresHistory={this.props.measuresHistory}\n            name={serie.name}\n            style={idx.toString()}\n            tooltipIdx={tooltipIdx}\n            translatedName={serie.translatedName}\n            value={this.props.formatValue(point.y)}\n          />\n        );\n      } else {\n        return (\n          <GraphsTooltipsContent\n            key={serie.name}\n            name={serie.name}\n            style={idx.toString()}\n            translatedName={serie.translatedName}\n            value={this.props.formatValue(point.y)}\n          />\n        );\n      }\n    });\n  }\n\n  render() {\n    const { events, measuresHistory, tooltipIdx } = this.props;\n    const top = 30;\n    let left = this.props.tooltipPos + 60;\n    let placement = PopupPlacement.RightTop;\n    if (left > this.props.graphWidth - TOOLTIP_WIDTH - 50) {\n      left -= TOOLTIP_WIDTH;\n      placement = PopupPlacement.LeftTop;\n    }\n    const tooltipContent = this.renderContent().filter(Boolean);\n    const addSeparator = tooltipContent.length > 0;\n    return (\n      <Popup\n        className=\"disabled-pointer-events\"\n        placement={placement}\n        style={{ top, left, width: TOOLTIP_WIDTH }}>\n        <div className=\"project-activity-graph-tooltip\">\n          <div className=\"project-activity-graph-tooltip-title spacer-bottom\">\n            <DateTimeFormatter date={this.props.selectedDate} />\n          </div>\n          <table className=\"width-100\">\n            <tbody>{tooltipContent}</tbody>\n            {this.props.graph === 'coverage' && (\n              <GraphsTooltipsContentCoverage\n                addSeparator={addSeparator}\n                measuresHistory={measuresHistory}\n                tooltipIdx={tooltipIdx}\n              />\n            )}\n            {this.props.graph === 'duplications' && (\n              <GraphsTooltipsContentDuplication\n                addSeparator={addSeparator}\n                measuresHistory={measuresHistory}\n                tooltipIdx={tooltipIdx}\n              />\n            )}\n            {events &&\n              events.length > 0 && (\n                <GraphsTooltipsContentEvents addSeparator={addSeparator} events={events} />\n              )}\n          </table>\n        </div>\n      </Popup>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport * as theme from '../../../app/theme';\nimport AlertWarnIcon from '../../../components/icons-components/AlertWarnIcon';\nimport ChartLegendIcon from '../../../components/icons-components/ChartLegendIcon';\nimport { ButtonIcon } from '../../../components/ui/buttons';\nimport ClearIcon from '../../../components/icons-components/ClearIcon';\n\ninterface Props {\n  className?: string;\n  metric: string;\n  name: string;\n  showWarning?: boolean;\n  style: string;\n  removeMetric?: (metric: string) => void;\n}\n\nexport default class GraphsLegendItem extends React.PureComponent<Props> {\n  handleClick = () => {\n    if (this.props.removeMetric) {\n      this.props.removeMetric(this.props.metric);\n    }\n  };\n\n  render() {\n    const isActionable = this.props.removeMetric != null;\n    const legendClass = classNames(\n      { 'project-activity-graph-legend-actionable': isActionable },\n      this.props.className\n    );\n    return (\n      <span className={legendClass}>\n        {this.props.showWarning ? (\n          <AlertWarnIcon className=\"spacer-right\" />\n        ) : (\n          <ChartLegendIcon\n            className={classNames(\n              'text-middle spacer-right line-chart-legend',\n              'line-chart-legend-' + this.props.style\n            )}\n          />\n        )}\n        <span className=\"text-middle\">{this.props.name}</span>\n        {isActionable && (\n          <ButtonIcon\n            className=\"button-tiny spacer-left text-middle\"\n            color={theme.gray60}\n            onClick={this.handleClick}>\n            <ClearIcon size={12} />\n          </ButtonIcon>\n        )}\n      </span>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport GraphsLegendItem from './GraphsLegendItem';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { hasDataValues } from '../utils';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { Serie } from '../../../components/charts/AdvancedTimeline'; */\n\n/*::\ntype Props = {\n  removeMetric: string => void,\n  series: Array<Serie & { translatedName: string }>\n};\n*/\n\nexport default function GraphsLegendCustom({ removeMetric, series } /*: Props */) {\n  return (\n    <div className=\"project-activity-graph-legends\">\n      {series.map((serie, idx) => {\n        const hasData = hasDataValues(serie);\n        const legendItem = (\n          <GraphsLegendItem\n            metric={serie.name}\n            name={serie.translatedName}\n            showWarning={!hasData}\n            style={idx.toString()}\n            removeMetric={removeMetric}\n          />\n        );\n        if (!hasData) {\n          return (\n            <Tooltip\n              key={serie.name}\n              overlay={translate('project_activity.graphs.custom.metric_no_history')}>\n              <span className=\"spacer-left spacer-right\">{legendItem}</span>\n            </Tooltip>\n          );\n        }\n        return (\n          <span className=\"spacer-left spacer-right\" key={serie.name}>\n            {legendItem}\n          </span>\n        );\n      })}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport GraphsLegendItem from './GraphsLegendItem';\n\n/*::\ntype Props = {\n  series: Array<{ name: string, translatedName: string }>\n};\n*/\n\nexport default function GraphsLegendStatic({ series } /*: Props */) {\n  return (\n    <div className=\"project-activity-graph-legends\">\n      {series.map((serie, idx) => (\n        <GraphsLegendItem\n          className=\"big-spacer-left big-spacer-right\"\n          key={serie.name}\n          metric={serie.name}\n          name={serie.translatedName}\n          style={idx.toString()}\n        />\n      ))}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport React from 'react';\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer';\nimport GraphsTooltips from './GraphsTooltips';\nimport GraphsLegendCustom from './GraphsLegendCustom';\nimport GraphsLegendStatic from './GraphsLegendStatic';\nimport AdvancedTimeline from '../../../components/charts/AdvancedTimeline';\nimport { formatMeasure, getShortType } from '../../../helpers/measures';\n/*:: import type { Event, MeasureHistory } from '../types'; */\n/*:: import type { Serie } from '../../../components/charts/AdvancedTimeline'; */\n\n/*::\ntype Props = {\n  events: Array<Event>,\n  graph: string,\n  graphEndDate: ?Date,\n  graphStartDate: ?Date,\n  leakPeriodDate: Date,\n  isCustom: boolean,\n  measuresHistory: Array<MeasureHistory>,\n  metricsType: string,\n  removeCustomMetric: (metric: string) => void,\n  showAreas: boolean,\n  series: Array<Serie>,\n  selectedDate?: ?Date,\n  updateGraphZoom: (from: ?Date, to: ?Date) => void,\n  updateSelectedDate: (selectedDate: ?Date) => void,\n  updateTooltip: (selectedDate: ?Date) => void\n};\n*/\n\n/*::\ntype State = {\n  tooltipIdx: ?number,\n  tooltipXPos: ?number\n};\n*/\n\nexport default class GraphHistory extends React.PureComponent {\n  /*:: props: Props; */\n  state /*: State */ = {\n    tooltipIdx: null,\n    tooltipXPos: null\n  };\n\n  formatValue = (tick /*: string | number */) =>\n    formatMeasure(tick, getShortType(this.props.metricsType));\n\n  formatTooltipValue = (tick /*: string | number */) => formatMeasure(tick, this.props.metricsType);\n\n  updateTooltip = (\n    selectedDate /*: ?Date */,\n    tooltipXPos /*: ?number */,\n    tooltipIdx /*: ?number */\n  ) => {\n    this.props.updateTooltip(selectedDate);\n    this.setState({ tooltipXPos, tooltipIdx });\n  };\n\n  render() {\n    const { graph, selectedDate, series } = this.props;\n    const { tooltipIdx, tooltipXPos } = this.state;\n\n    return (\n      <div className=\"project-activity-graph-container\">\n        {this.props.isCustom ? (\n          <GraphsLegendCustom series={series} removeMetric={this.props.removeCustomMetric} />\n        ) : (\n          <GraphsLegendStatic series={series} />\n        )}\n        <div className=\"project-activity-graph\">\n          <AutoSizer>\n            {({ height, width }) => (\n              <div>\n                <AdvancedTimeline\n                  endDate={this.props.graphEndDate}\n                  height={height}\n                  width={width}\n                  interpolate=\"linear\"\n                  formatYTick={this.formatValue}\n                  leakPeriodDate={this.props.leakPeriodDate}\n                  metricType={this.props.metricsType}\n                  selectedDate={selectedDate}\n                  series={series}\n                  showAreas={this.props.showAreas}\n                  startDate={this.props.graphStartDate}\n                  updateSelectedDate={this.props.updateSelectedDate}\n                  updateTooltip={this.updateTooltip}\n                  updateZoom={this.props.updateGraphZoom}\n                />\n                {selectedDate != null &&\n                  tooltipXPos != null && (\n                    <GraphsTooltips\n                      events={this.props.events}\n                      formatValue={this.formatTooltipValue}\n                      graph={graph}\n                      graphWidth={width}\n                      measuresHistory={this.props.measuresHistory}\n                      selectedDate={selectedDate}\n                      series={series}\n                      tooltipIdx={tooltipIdx}\n                      tooltipPos={tooltipXPos}\n                    />\n                  )}\n              </div>\n            )}\n          </AutoSizer>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport React from 'react';\nimport { isEqual, sortBy } from 'lodash';\nimport GraphHistory from './GraphHistory';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport { EVENT_TYPES, getSeriesMetricType, hasHistoryData, isCustomGraph } from '../utils';\nimport { translate } from '../../../helpers/l10n';\nimport { parseDate } from '../../../helpers/dates';\n/*:: import type { Analysis, MeasureHistory } from '../types'; */\n/*:: import type { Serie } from '../../../components/charts/AdvancedTimeline'; */\n\n/*::\ntype Props = {\n  analyses: Array<Analysis>,\n  eventFilter: string,\n  graph: string,\n  graphs: Array<Array<Serie>>,\n  graphEndDate: ?Date,\n  graphStartDate: ?Date,\n  leakPeriodDate?: Date,\n  loading: boolean,\n  measuresHistory: Array<MeasureHistory>,\n  removeCustomMetric: (metric: string) => void,\n  selectedDate: ?Date,\n  series: Array<Serie>,\n  updateGraphZoom: (from: ?Date, to: ?Date) => void,\n  updateSelectedDate: (selectedDate: ?Date) => void\n};\n*/\n\n/*::\ntype State = {\n  selectedDate?: ?Date\n};\n*/\n\nexport default class GraphsHistory extends React.PureComponent {\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  constructor(props /*: Props */) {\n    super(props);\n    this.state = {\n      selectedDate: props.selectedDate\n    };\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    if (!isEqual(nextProps.selectedDate, this.props.selectedDate)) {\n      this.setState({ selectedDate: nextProps.selectedDate });\n    }\n  }\n\n  getEvents = () => {\n    const { analyses, eventFilter } = this.props;\n    const filteredEvents = analyses.reduce((acc, analysis) => {\n      if (analysis.events.length <= 0) {\n        return acc;\n      }\n      let event;\n      if (eventFilter) {\n        event = analysis.events.filter(event => event.category === eventFilter)[0];\n      } else {\n        event = sortBy(analysis.events, event => EVENT_TYPES.indexOf(event.category))[0];\n      }\n      if (!event) {\n        return acc;\n      }\n      return acc.concat({\n        className: event.category,\n        name: event.name,\n        date: parseDate(analysis.date)\n      });\n    }, []);\n    return sortBy(filteredEvents, 'date');\n  };\n\n  getSelectedDateEvents = () => {\n    const { selectedDate } = this.state;\n    const { analyses } = this.props;\n    if (analyses && selectedDate) {\n      const analysis = analyses.find(\n        analysis => analysis.date.valueOf() === selectedDate.valueOf()\n      );\n      if (analysis) {\n        return analysis.events;\n      }\n    }\n    return [];\n  };\n\n  updateTooltip = (selectedDate /*: ?Date */) => this.setState({ selectedDate });\n\n  render() {\n    const { graph, loading, series } = this.props;\n    const isCustom = isCustomGraph(graph);\n\n    if (loading) {\n      return (\n        <div className=\"project-activity-graph-container\">\n          <div className=\"text-center\">\n            <DeferredSpinner className=\"\" loading={loading} />\n          </div>\n        </div>\n      );\n    }\n\n    if (!hasHistoryData(series)) {\n      return (\n        <div className=\"project-activity-graph-container\">\n          <div className=\"note text-center\">\n            {translate(\n              isCustom\n                ? 'project_activity.graphs.custom.no_history'\n                : 'component_measures.no_history'\n            )}\n          </div>\n        </div>\n      );\n    }\n    const events = this.getSelectedDateEvents();\n    const showAreas = ['coverage', 'duplications'].includes(graph);\n    return (\n      <div className=\"project-activity-graphs\">\n        {this.props.graphs.map((series, idx) => (\n          <GraphHistory\n            key={idx}\n            events={events}\n            graph={graph}\n            graphEndDate={this.props.graphEndDate}\n            graphStartDate={this.props.graphStartDate}\n            isCustom={isCustom}\n            leakPeriodDate={this.props.leakPeriodDate}\n            measuresHistory={this.props.measuresHistory}\n            metricsType={getSeriesMetricType(series)}\n            removeCustomMetric={this.props.removeCustomMetric}\n            selectedDate={this.state.selectedDate}\n            series={series}\n            showAreas={showAreas}\n            updateGraphZoom={this.props.updateGraphZoom}\n            updateSelectedDate={this.props.updateSelectedDate}\n            updateTooltip={this.updateTooltip}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { debounce, findLast, maxBy, minBy, sortBy } from 'lodash';\nimport ProjectActivityGraphsHeader from './ProjectActivityGraphsHeader';\nimport GraphsZoom from './GraphsZoom';\nimport GraphsHistory from './GraphsHistory';\nimport { get, save } from '../../../helpers/storage';\nimport {\n  datesQueryChanged,\n  generateSeries,\n  getDisplayedHistoryMetrics,\n  getSeriesMetricType,\n  historyQueryChanged,\n  isCustomGraph,\n  PROJECT_ACTIVITY_GRAPH,\n  PROJECT_ACTIVITY_GRAPH_CUSTOM,\n  splitSeriesInGraphs\n} from '../utils';\n/*:: import type { RawQuery } from '../../../helpers/query'; */\n/*:: import type { Analysis, MeasureHistory, Metric, Query } from '../types'; */\n/*:: import type { Serie } from '../../../components/charts/AdvancedTimeline'; */\n\n/*::\ntype Props = {\n  analyses: Array<Analysis>,\n  leakPeriodDate?: Date,\n  loading: boolean,\n  measuresHistory: Array<MeasureHistory>,\n  metrics: Array<Metric>,\n  query: Query,\n  updateQuery: RawQuery => void\n};\n*/\n\n/*::\ntype State = {\n  graphStartDate: ?Date,\n  graphEndDate: ?Date,\n  series: Array<Serie>,\n  graphs: Array<Array<Serie>>\n};\n*/\n\nconst MAX_GRAPH_NB = 2;\nconst MAX_SERIES_PER_GRAPH = 3;\n\nexport default class ProjectActivityGraphs extends React.PureComponent {\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  constructor(props /*: Props */) {\n    super(props);\n    const series = generateSeries(\n      props.measuresHistory,\n      props.query.graph,\n      props.metrics,\n      getDisplayedHistoryMetrics(props.query.graph, props.query.customMetrics)\n    );\n    this.state = {\n      series,\n      graphs: splitSeriesInGraphs(series, MAX_GRAPH_NB, MAX_SERIES_PER_GRAPH),\n      ...this.getStateZoomDates(null, props, series)\n    };\n    this.updateQueryDateRange = debounce(this.updateQueryDateRange, 500);\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    let newSeries;\n    let newGraphs;\n    if (\n      nextProps.measuresHistory !== this.props.measuresHistory ||\n      historyQueryChanged(this.props.query, nextProps.query)\n    ) {\n      newSeries = generateSeries(\n        nextProps.measuresHistory,\n        nextProps.query.graph,\n        nextProps.metrics,\n        getDisplayedHistoryMetrics(nextProps.query.graph, nextProps.query.customMetrics)\n      );\n      newGraphs = splitSeriesInGraphs(newSeries, MAX_GRAPH_NB, MAX_SERIES_PER_GRAPH);\n    }\n\n    const newDates = this.getStateZoomDates(this.props, nextProps, newSeries);\n\n    if (newSeries || newDates) {\n      let newState = {};\n      if (newSeries) {\n        newState.series = newSeries;\n        newState.graphs = newGraphs;\n      }\n      if (newDates) {\n        newState = { ...newState, ...newDates };\n      }\n      this.setState(newState);\n    }\n  }\n\n  getStateZoomDates = (\n    props /*: ?Props */,\n    nextProps /*: Props */,\n    newSeries /*: ?Array<Serie> */\n  ) => {\n    const newDates = { from: nextProps.query.from || null, to: nextProps.query.to || null };\n    if (!props || datesQueryChanged(props.query, nextProps.query)) {\n      return { graphEndDate: newDates.to, graphStartDate: newDates.from };\n    }\n\n    if (newDates.to == null && newDates.from == null && newSeries != null) {\n      const series = newSeries ? newSeries : this.state.series;\n      const firstValid = minBy(series.map(serie => serie.data.find(p => p.y || p.y === 0)), 'x');\n      const lastValid = maxBy(\n        series.map(serie => findLast(serie.data, p => p.y || p.y === 0)),\n        'x'\n      );\n      return {\n        graphEndDate: lastValid ? lastValid.x : newDates.to,\n        graphStartDate: firstValid ? firstValid.x : newDates.from\n      };\n    }\n    return null;\n  };\n\n  getMetricsTypeFilter = () => {\n    if (this.state.graphs.length < MAX_GRAPH_NB) {\n      return null;\n    }\n    return this.state.graphs\n      .filter(graph => graph.length < MAX_SERIES_PER_GRAPH)\n      .map(graph => graph[0].type);\n  };\n\n  addCustomMetric = (metric /*: string */) => {\n    const customMetrics = [...this.props.query.customMetrics, metric];\n    save(PROJECT_ACTIVITY_GRAPH_CUSTOM, customMetrics.join(','));\n    this.props.updateQuery({ customMetrics });\n  };\n\n  removeCustomMetric = (removedMetric /*: string */) => {\n    const customMetrics = this.props.query.customMetrics.filter(metric => metric !== removedMetric);\n    save(PROJECT_ACTIVITY_GRAPH_CUSTOM, customMetrics.join(','));\n    this.props.updateQuery({ customMetrics });\n  };\n\n  updateGraph = (graph /*: string */) => {\n    save(PROJECT_ACTIVITY_GRAPH, graph);\n    if (isCustomGraph(graph) && this.props.query.customMetrics.length <= 0) {\n      const customGraphs = get(PROJECT_ACTIVITY_GRAPH_CUSTOM);\n      this.props.updateQuery({ graph, customMetrics: customGraphs ? customGraphs.split(',') : [] });\n    } else {\n      this.props.updateQuery({ graph, customMetrics: [] });\n    }\n  };\n\n  updateGraphZoom = (graphStartDate /*: ?Date */, graphEndDate /*: ?Date */) => {\n    if (graphEndDate != null && graphStartDate != null) {\n      const msDiff = Math.abs(graphEndDate.valueOf() - graphStartDate.valueOf());\n      // 12 hours minimum between the two dates\n      if (msDiff < 1000 * 60 * 60 * 12) {\n        return;\n      }\n    }\n\n    this.setState({ graphStartDate, graphEndDate });\n    this.updateQueryDateRange([graphStartDate, graphEndDate]);\n  };\n\n  updateSelectedDate = (selectedDate /*: ?Date */) => this.props.updateQuery({ selectedDate });\n\n  updateQueryDateRange = (dates /*: Array<?Date> */) => {\n    if (dates[0] == null || dates[1] == null) {\n      this.props.updateQuery({ from: dates[0], to: dates[1] });\n    } else {\n      const sortedDates = sortBy(dates);\n      this.props.updateQuery({ from: sortedDates[0], to: sortedDates[1] });\n    }\n  };\n\n  render() {\n    const { leakPeriodDate, loading, metrics, query } = this.props;\n    const { graphEndDate, graphStartDate, series } = this.state;\n\n    return (\n      <div className=\"project-activity-layout-page-main-inner boxed-group boxed-group-inner\">\n        <ProjectActivityGraphsHeader\n          addCustomMetric={this.addCustomMetric}\n          graph={query.graph}\n          metrics={metrics}\n          metricsTypeFilter={this.getMetricsTypeFilter()}\n          removeCustomMetric={this.removeCustomMetric}\n          selectedMetrics={this.props.query.customMetrics}\n          updateGraph={this.updateGraph}\n        />\n        <GraphsHistory\n          analyses={this.props.analyses}\n          eventFilter={query.category}\n          graph={query.graph}\n          graphEndDate={graphEndDate}\n          graphStartDate={graphStartDate}\n          graphs={this.state.graphs}\n          leakPeriodDate={leakPeriodDate}\n          loading={loading}\n          measuresHistory={this.props.measuresHistory}\n          removeCustomMetric={this.removeCustomMetric}\n          selectedDate={this.props.query.selectedDate}\n          series={series}\n          updateGraphZoom={this.updateGraphZoom}\n          updateSelectedDate={this.updateSelectedDate}\n        />\n        <GraphsZoom\n          graphEndDate={graphEndDate}\n          graphStartDate={graphStartDate}\n          leakPeriodDate={leakPeriodDate}\n          loading={loading}\n          metricsType={getSeriesMetricType(series)}\n          series={series}\n          showAreas={['coverage', 'duplications'].includes(query.graph)}\n          updateGraphZoom={this.updateGraphZoom}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport Helmet from 'react-helmet';\nimport ProjectActivityPageHeader from './ProjectActivityPageHeader';\nimport ProjectActivityAnalysesList from './ProjectActivityAnalysesList';\nimport ProjectActivityGraphs from './ProjectActivityGraphs';\nimport { parseDate } from '../../../helpers/dates';\nimport { translate } from '../../../helpers/l10n';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport './projectActivity.css';\n/*:: import type { Analysis, MeasureHistory, Metric, Query } from '../types'; */\n\n/*::\ntype Props = {\n  addCustomEvent: (analysis: string, name: string, category?: string) => Promise<*>,\n  addVersion: (analysis: string, version: string) => Promise<*>,\n  analyses: Array<Analysis>,\n  analysesLoading: boolean,\n  changeEvent: (event: string, name: string) => Promise<*>,\n  deleteAnalysis: (analysis: string) => Promise<*>,\n  deleteEvent: (analysis: string, event: string) => Promise<*>,\n  graphLoading: boolean,\n  initializing: boolean,\n  project: {\n    configuration?: { showHistory: boolean },\n    key: string,\n    leakPeriodDate?: string,\n    qualifier: string\n  },\n  metrics: Array<Metric>,\n  measuresHistory: Array<MeasureHistory>,\n  query: Query,\n  updateQuery: (newQuery: Query) => void\n};\n*/\n\nexport default function ProjectActivityApp(props /*: Props */) {\n  const { analyses, measuresHistory, query } = props;\n  const { configuration } = props.project;\n  const canAdmin =\n    (props.project.qualifier === 'TRK' || props.project.qualifier === 'APP') &&\n    (configuration ? configuration.showHistory : false);\n  const canDeleteAnalyses = configuration ? configuration.showHistory : false;\n  return (\n    <div id=\"project-activity\" className=\"page page-limited\">\n      <Suggestions suggestions=\"project_activity\" />\n      <Helmet title={translate('project_activity.page')} />\n\n      <ProjectActivityPageHeader\n        category={query.category}\n        from={query.from}\n        project={props.project}\n        to={query.to}\n        updateQuery={props.updateQuery}\n      />\n\n      <div className=\"layout-page project-activity-page\">\n        <div className=\"layout-page-side-outer project-activity-page-side-outer boxed-group\">\n          <ProjectActivityAnalysesList\n            addCustomEvent={props.addCustomEvent}\n            addVersion={props.addVersion}\n            analysesLoading={props.analysesLoading}\n            analyses={analyses}\n            canAdmin={canAdmin}\n            canDeleteAnalyses={canDeleteAnalyses}\n            className=\"boxed-group-inner\"\n            changeEvent={props.changeEvent}\n            deleteAnalysis={props.deleteAnalysis}\n            deleteEvent={props.deleteEvent}\n            initializing={props.initializing}\n            project={props.project}\n            query={props.query}\n            updateQuery={props.updateQuery}\n          />\n        </div>\n        <div className=\"project-activity-layout-page-main\">\n          <ProjectActivityGraphs\n            analyses={analyses}\n            leakPeriodDate={\n              props.project.leakPeriodDate ? parseDate(props.project.leakPeriodDate) : undefined\n            }\n            loading={props.graphLoading}\n            measuresHistory={measuresHistory}\n            metrics={props.metrics}\n            query={query}\n            updateQuery={props.updateQuery}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\n/*:: import type { Event } from './types'; */\n/*:: import type { State } from './components/ProjectActivityAppContainer'; */\n\nexport const addCustomEvent = (analysis /*: string */, event /*: Event */) => (\n  state /*: State */\n) => ({\n  analyses: state.analyses.map(item => {\n    if (item.key !== analysis) {\n      return item;\n    }\n    return { ...item, events: [...item.events, event] };\n  })\n});\n\nexport const deleteEvent = (analysis /*: string */, event /*: string */) => (\n  state /*: State */\n) => ({\n  analyses: state.analyses.map(item => {\n    if (item.key !== analysis) {\n      return item;\n    }\n    return {\n      ...item,\n      events: item.events.filter(eventItem => eventItem.key !== event)\n    };\n  })\n});\n\nexport const changeEvent = (analysis /*: string */, event /*: Event */) => (\n  state /*: State */\n) => ({\n  analyses: state.analyses.map(item => {\n    if (item.key !== analysis) {\n      return item;\n    }\n    return {\n      ...item,\n      events: item.events.map(\n        eventItem => (eventItem.key === event.key ? { ...eventItem, ...event } : eventItem)\n      )\n    };\n  })\n});\n\nexport const deleteAnalysis = (analysis /*: string */) => (state /*: State */) => ({\n  analyses: state.analyses.filter(item => item.key !== analysis)\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ProjectActivityApp from './ProjectActivityApp';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\nimport { getAllTimeMachineData } from '../../../api/time-machine';\nimport { getAllMetrics } from '../../../api/metrics';\nimport * as api from '../../../api/projectActivity';\nimport * as actions from '../actions';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport { parseDate } from '../../../helpers/dates';\nimport { get } from '../../../helpers/storage';\nimport {\n  customMetricsChanged,\n  DEFAULT_GRAPH,\n  getHistoryMetrics,\n  isCustomGraph,\n  parseQuery,\n  PROJECT_ACTIVITY_GRAPH,\n  PROJECT_ACTIVITY_GRAPH_CUSTOM,\n  serializeQuery,\n  serializeUrlQuery\n} from '../utils';\n/*:: import type { RawQuery } from '../../../helpers/query'; */\n/*:: import type { Analysis, MeasureHistory, Metric, Paging, Query } from '../types'; */\n\n/*::\ntype Component = {\n  breadcrumbs: Array<{ key: string, qualifier: string}>,\n  configuration?: { showHistory: boolean },\n  key: string,\n  leakPeriodDate?: string,\n  qualifier: string\n};\n\ntype Props = {\n  branchLike?: { id?: string; name: string },\n  location: { pathname: string, query: RawQuery },\n  component: Component\n};\n*/\n\n/*::\nexport type State = {\n  analyses: Array<Analysis>,\n  analysesLoading: boolean,\n  graphLoading: boolean,\n  initialized: boolean,\n  metrics: Array<Metric>,\n  measuresHistory: Array<MeasureHistory>,\n  paging?: Paging,\n  query: Query\n};\n*/\n\nexport default class ProjectActivityAppContainer extends React.PureComponent {\n  /*:: mounted: boolean; */\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  };\n\n  constructor(props /*: Props */) {\n    super(props);\n    this.state = {\n      analyses: [],\n      analysesLoading: false,\n      graphLoading: true,\n      initialized: false,\n      measuresHistory: [],\n      metrics: [],\n      query: parseQuery(props.location.query)\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    if (this.shouldRedirect()) {\n      const newQuery = { ...this.state.query, graph: get(PROJECT_ACTIVITY_GRAPH) || 'issues' };\n      if (isCustomGraph(newQuery.graph)) {\n        const customGraphs = get(PROJECT_ACTIVITY_GRAPH_CUSTOM);\n        newQuery.customMetrics = customGraphs ? customGraphs.split(',') : [];\n      }\n      this.context.router.replace({\n        pathname: this.props.location.pathname,\n        query: {\n          ...serializeUrlQuery(newQuery),\n          ...getBranchLikeQuery(this.props.branchLike)\n        }\n      });\n    } else {\n      this.firstLoadData(this.state.query, this.props.component);\n    }\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    if (nextProps.location.query !== this.props.location.query) {\n      const query = parseQuery(nextProps.location.query);\n      if (query.graph !== this.state.query.graph || customMetricsChanged(this.state.query, query)) {\n        if (this.state.initialized) {\n          this.updateGraphData(query.graph, query.customMetrics);\n        } else {\n          this.firstLoadData(query, nextProps.component);\n        }\n      }\n      this.setState({ query });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  addCustomEvent = (analysis /*: string */, name /*: string */, category /*: ?string */) =>\n    api\n      .createEvent(analysis, name, category)\n      .then(\n        ({ analysis, ...event }) =>\n          this.mounted && this.setState(actions.addCustomEvent(analysis, event))\n      );\n\n  addVersion = (analysis /*: string */, version /*: string */) =>\n    this.addCustomEvent(analysis, version, 'VERSION');\n\n  changeEvent = (event /*: string */, name /*: string */) =>\n    api\n      .changeEvent(event, name)\n      .then(\n        ({ analysis, ...event }) =>\n          this.mounted && this.setState(actions.changeEvent(analysis, event))\n      );\n\n  deleteAnalysis = (analysis /*: string */) =>\n    api.deleteAnalysis(analysis).then(() => {\n      if (this.mounted) {\n        this.updateGraphData(this.state.query.graph, this.state.query.customMetrics);\n        this.setState(actions.deleteAnalysis(analysis));\n      }\n    });\n\n  deleteEvent = (analysis /*: string */, event /*: string */) =>\n    api\n      .deleteEvent(event)\n      .then(() => this.mounted && this.setState(actions.deleteEvent(analysis, event)));\n\n  fetchActivity = (\n    project /*: string */,\n    p /*: number */,\n    ps /*: number */,\n    additional /*: ?{\n      [string]: string\n    } */\n  ) => {\n    const parameters = { project, p, ps, ...getBranchLikeQuery(this.props.branchLike) };\n    return api\n      .getProjectActivity({ ...additional, ...parameters })\n      .then(({ analyses, paging }) => ({\n        analyses: analyses.map(analysis => ({ ...analysis, date: parseDate(analysis.date) })),\n        paging\n      }));\n  };\n\n  fetchMeasuresHistory = (metrics /*: Array<string> */) => {\n    if (metrics.length <= 0) {\n      return Promise.resolve([]);\n    }\n    return getAllTimeMachineData({\n      component: this.props.component.key,\n      metrics: metrics.join(),\n      ...getBranchLikeQuery(this.props.branchLike)\n    }).then(\n      ({ measures }) =>\n        measures.map(measure => ({\n          metric: measure.metric,\n          history: measure.history.map(analysis => ({\n            date: parseDate(analysis.date),\n            value: analysis.value\n          }))\n        })),\n      () => {}\n    );\n  };\n\n  loadAllActivities = (\n    project /*: string */,\n    prevResult /*: ?{ analyses: Array<Analysis>, paging: Paging } */\n  ) => {\n    if (\n      prevResult &&\n      prevResult.paging.pageIndex * prevResult.paging.pageSize >= prevResult.paging.total\n    ) {\n      return Promise.resolve(prevResult);\n    }\n    const nextPage = prevResult ? prevResult.paging.pageIndex + 1 : 1;\n    return this.fetchActivity(project, nextPage, 500).then(result => {\n      if (!prevResult) {\n        return this.loadAllActivities(project, result);\n      }\n      return this.loadAllActivities(project, {\n        analyses: prevResult.analyses.concat(result.analyses),\n        paging: result.paging\n      });\n    });\n  };\n\n  getTopLevelComponent = (component /*: Component */) => {\n    let current = component.breadcrumbs.length - 1;\n    while (\n      current > 0 &&\n      !['TRK', 'VW', 'APP'].includes(component.breadcrumbs[current].qualifier)\n    ) {\n      current--;\n    }\n    return component.breadcrumbs[current].key;\n  };\n\n  firstLoadData(query /*: Query */, component /*: Component */) {\n    const graphMetrics = getHistoryMetrics(query.graph, query.customMetrics);\n    const topLevelComponent = this.getTopLevelComponent(component);\n    Promise.all([\n      this.fetchActivity(topLevelComponent, 1, 100, serializeQuery(query)),\n      getAllMetrics(),\n      this.fetchMeasuresHistory(graphMetrics)\n    ]).then(\n      response => {\n        if (this.mounted) {\n          this.setState({\n            analyses: response[0].analyses,\n            analysesLoading: true,\n            graphLoading: false,\n            initialized: true,\n            measuresHistory: response[2],\n            metrics: response[1],\n            paging: response[0].paging\n          });\n\n          this.loadAllActivities(topLevelComponent).then(({ analyses, paging }) => {\n            if (this.mounted) {\n              this.setState({\n                analyses,\n                analysesLoading: false,\n                paging\n              });\n            }\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ initialized: true, analysesLoading: false, graphLoading: false });\n        }\n      }\n    );\n  }\n\n  updateGraphData = (graph /*: string */, customMetrics /*: Array<string> */) => {\n    const graphMetrics = getHistoryMetrics(graph, customMetrics);\n    this.setState({ graphLoading: true });\n    this.fetchMeasuresHistory(graphMetrics).then(\n      (measuresHistory /*: Array<MeasureHistory> */) => {\n        if (this.mounted) {\n          this.setState({ graphLoading: false, measuresHistory });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ graphLoading: false, measuresHistory: [] });\n        }\n      }\n    );\n  };\n\n  updateQuery = (newQuery /*: Query */) => {\n    const query = serializeUrlQuery({\n      ...this.state.query,\n      ...newQuery\n    });\n    this.context.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...query,\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component.key\n      }\n    });\n  };\n\n  shouldRedirect = () => {\n    const locationQuery = this.props.location.query;\n    if (!locationQuery) {\n      return false;\n    }\n    const filtered = Object.keys(locationQuery).some(\n      key => key !== 'id' && locationQuery[key] !== ''\n    );\n\n    const customGraphs = get(PROJECT_ACTIVITY_GRAPH_CUSTOM);\n    const graph = get(PROJECT_ACTIVITY_GRAPH) || 'issues';\n    const emptyCustomGraph =\n      isCustomGraph(graph) && customGraphs && customGraphs.split(',').length <= 0;\n\n    // if there is no filter, but there are saved preferences in the localStorage\n    // also don't redirect to custom if there is no metrics selected for it\n    return !filtered && graph != null && graph !== DEFAULT_GRAPH && !emptyCustomGraph;\n  };\n\n  render() {\n    if (this.shouldRedirect()) {\n      return null;\n    }\n\n    return (\n      <ProjectActivityApp\n        addCustomEvent={this.addCustomEvent}\n        addVersion={this.addVersion}\n        analyses={this.state.analyses}\n        analysesLoading={this.state.analysesLoading}\n        changeEvent={this.changeEvent}\n        deleteAnalysis={this.deleteAnalysis}\n        deleteEvent={this.deleteEvent}\n        graphLoading={!this.state.initialized || this.state.graphLoading}\n        initializing={!this.state.initialized}\n        measuresHistory={this.state.measuresHistory}\n        metrics={this.state.metrics}\n        project={this.props.component}\n        query={this.state.query}\n        updateQuery={this.updateQuery}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default class Suggestions extends React.PureComponent<Props> {\n  context!: { suggestions: SuggestionsContext };\n\n  static contextTypes = {\n    suggestions: PropTypes.object.isRequired\n  };\n\n  componentDidMount() {\n    this.context.suggestions.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.context.suggestions.removeSuggestions(this.props.suggestions);\n      this.context.suggestions.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.context.suggestions.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal from '../../components/controls/Modal';\n\nexport interface ChildrenProps {\n  onCloseClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  onFormSubmit: (event: React.SyntheticEvent<HTMLFormElement>) => void;\n  onSubmitClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  submitting: boolean;\n}\n\ninterface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  header: string;\n  onClose: () => void;\n  onSubmit: () => void | Promise<void>;\n}\n\ninterface State {\n  submitting: boolean;\n}\n\nexport default class SimpleModal extends React.Component<Props, State> {\n  mounted = false;\n  state: State = { submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopSubmitting = () => {\n    if (this.mounted) {\n      this.setState({ submitting: false });\n    }\n  };\n\n  handleCloseClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.props.onClose();\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.submit();\n  };\n\n  handleSubmitClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.submit();\n  };\n\n  submit = () => {\n    const result = this.props.onSubmit();\n    if (result) {\n      this.setState({ submitting: true });\n      result.then(this.stopSubmitting, this.stopSubmitting);\n    }\n  };\n\n  render() {\n    return (\n      <Modal contentLabel={this.props.header} onRequestClose={this.props.onClose}>\n        {this.props.children({\n          onCloseClick: this.handleCloseClick,\n          onFormSubmit: this.handleFormSubmit,\n          onSubmitClick: this.handleSubmitClick,\n          submitting: this.state.submitting\n        })}\n      </Modal>\n    );\n  }\n}\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function SettingsIcon({ className, fill = 'currentColor', size = 14 }: IconProps) {\n  return (\n    <Icon className={className} size={size} viewBox=\"0 0 14 14\">\n      <g transform=\"matrix(0.0364583,0,0,0.0364583,0,-1.16667)\">\n        <path\n          d=\"M256,224C256,206.333 249.75,191.25 237.25,178.75C224.75,166.25 209.667,160 192,160C174.333,160 159.25,166.25 146.75,178.75C134.25,191.25 128,206.333 128,224C128,241.667 134.25,256.75 146.75,269.25C159.25,281.75 174.333,288 192,288C209.667,288 224.75,281.75 237.25,269.25C249.75,256.75 256,241.667 256,224ZM384,196.75L384,252.25C384,254.25 383.333,256.167 382,258C380.667,259.833 379,260.917 377,261.25L330.75,268.25C327.583,277.25 324.333,284.833 321,291C326.833,299.333 335.75,310.833 347.75,325.5C349.417,327.5 350.25,329.583 350.25,331.75C350.25,333.917 349.5,335.833 348,337.5C343.5,343.667 335.25,352.667 323.25,364.5C311.25,376.333 303.417,382.25 299.75,382.25C297.75,382.25 295.583,381.5 293.25,380L258.75,353C251.417,356.833 243.833,360 236,362.5C233.333,385.167 230.917,400.667 228.75,409C227.583,413.667 224.583,416 219.75,416L164.25,416C161.917,416 159.875,415.292 158.125,413.875C156.375,412.458 155.417,410.667 155.25,408.5L148.25,362.5C140.083,359.833 132.583,356.75 125.75,353.25L90.5,380C88.833,381.5 86.75,382.25 84.25,382.25C81.917,382.25 79.833,381.333 78,379.5C57,360.5 43.25,346.5 36.75,337.5C35.583,335.833 35,333.917 35,331.75C35,329.75 35.667,327.833 37,326C39.5,322.5 43.75,316.958 49.75,309.375C55.75,301.792 60.25,295.917 63.25,291.75C58.75,283.417 55.333,275.167 53,267L7.25,260.25C5.083,259.917 3.333,258.875 2,257.125C0.667,255.375 0,253.417 0,251.25L0,195.75C0,193.75 0.667,191.833 2,190C3.333,188.167 4.917,187.083 6.75,186.75L53.25,179.75C55.583,172.083 58.833,164.417 63,156.75C56.333,147.25 47.417,135.75 36.25,122.25C34.583,120.25 33.75,118.25 33.75,116.25C33.75,114.583 34.5,112.667 36,110.5C40.333,104.5 48.542,95.542 60.625,83.625C72.708,71.708 80.583,65.75 84.25,65.75C86.417,65.75 88.583,66.583 90.75,68.25L125.25,95C132.583,91.167 140.167,88 148,85.5C150.667,62.833 153.083,47.333 155.25,39C156.417,34.333 159.417,32 164.25,32L219.75,32C222.083,32 224.125,32.708 225.875,34.125C227.625,35.542 228.583,37.333 228.75,39.5L235.75,85.5C243.917,88.167 251.417,91.25 258.25,94.75L293.75,68C295.25,66.5 297.25,65.75 299.75,65.75C301.917,65.75 304,66.583 306,68.25C327.5,88.083 341.25,102.25 347.25,110.75C348.417,112.083 349,113.917 349,116.25C349,118.25 348.333,120.167 347,122C344.5,125.5 340.25,131.042 334.25,138.625C328.25,146.208 323.75,152.083 320.75,156.25C325.083,164.583 328.5,172.75 331,180.75L376.75,187.75C378.917,188.083 380.667,189.125 382,190.875C383.333,192.625 384,194.583 384,196.75Z\"\n          style={{ fill }}\n        />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { Link } from 'react-router';\nimport { LocationDescriptor } from 'history';\nimport Dropdown from './Dropdown';\nimport DropdownIcon from '../icons-components/DropdownIcon';\nimport SettingsIcon from '../icons-components/SettingsIcon';\nimport { Button } from '../ui/buttons';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  onOpen?: () => void;\n  small?: boolean;\n  toggleClassName?: string;\n}\n\nexport default function ActionsDropdown(props: Props) {\n  return (\n    <Dropdown\n      className={props.className}\n      onOpen={props.onOpen}\n      overlay={<ul className=\"menu\">{props.children}</ul>}>\n      <Button\n        className={classNames('dropdown-toggle', props.toggleClassName, {\n          'button-small': props.small\n        })}>\n        <SettingsIcon size={props.small ? 12 : 14} />\n        <DropdownIcon className=\"little-spacer-left\" />\n      </Button>\n    </Dropdown>\n  );\n}\n\ninterface ItemProps {\n  className?: string;\n  children: React.ReactNode;\n  destructive?: boolean;\n  /** used to pass a name of downloaded file */\n  download?: string;\n  id?: string;\n  onClick?: () => void;\n  to?: LocationDescriptor;\n}\n\nexport class ActionsDropdownItem extends React.PureComponent<ItemProps> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  render() {\n    const className = classNames(this.props.className, { 'text-danger': this.props.destructive });\n\n    if (this.props.download && typeof this.props.to === 'string') {\n      return (\n        <li>\n          <a\n            className={className}\n            download={this.props.download}\n            href={this.props.to}\n            id={this.props.id}>\n            {this.props.children}\n          </a>\n        </li>\n      );\n    }\n\n    if (this.props.to) {\n      return (\n        <li>\n          <Link className={className} id={this.props.id} to={this.props.to}>\n            {this.props.children}\n          </Link>\n        </li>\n      );\n    }\n\n    return (\n      <li>\n        <a className={className} href=\"#\" id={this.props.id} onClick={this.handleClick}>\n          {this.props.children}\n        </a>\n      </li>\n    );\n  }\n}\n\nexport function ActionsDropdownDivider() {\n  return <li className=\"divider\" />;\n}\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SimpleModal, { ChildrenProps } from './SimpleModal';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { translate } from '../../helpers/l10n';\nimport { SubmitButton, ResetButtonLink } from '../ui/buttons';\n\ninterface Props<T> {\n  children: React.ReactNode;\n  confirmButtonText: string;\n  confirmData?: T;\n  confirmDisable?: boolean;\n  header: string;\n  isDestructive?: boolean;\n  onClose: () => void;\n  onConfirm: (data?: T) => void | Promise<void>;\n}\n\nexport default class ConfirmModal<T = string> extends React.PureComponent<Props<T>> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleSubmit = () => {\n    const result = this.props.onConfirm(this.props.confirmData);\n    if (result) {\n      return result.then(this.props.onClose, () => {});\n    } else {\n      this.props.onClose();\n      return undefined;\n    }\n  };\n\n  renderModalContent = ({ onCloseClick, onFormSubmit, submitting }: ChildrenProps) => {\n    const { children, confirmButtonText, confirmDisable, header, isDestructive } = this.props;\n    return (\n      <form onSubmit={onFormSubmit}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n        <div className=\"modal-body\">{children}</div>\n        <footer className=\"modal-foot\">\n          <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n          <SubmitButton\n            autoFocus={true}\n            className={isDestructive ? 'button-red' : undefined}\n            disabled={submitting || confirmDisable}>\n            {confirmButtonText}\n          </SubmitButton>\n          <ResetButtonLink disabled={submitting} onClick={onCloseClick}>\n            {translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </form>\n    );\n  };\n\n  render() {\n    const { header } = this.props;\n    return (\n      <SimpleModal header={header} onClose={this.props.onClose} onSubmit={this.handleSubmit}>\n        {this.renderModalContent}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronRightIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M11.596 8.28l-4.604 4.602a.382.382 0 0 1-.279.118.382.382 0 0 1-.279-.118l-1.03-1.03a.382.382 0 0 1-.117-.278c0-.108.04-.201.117-.28L8.7 8 5.404 4.706a.382.382 0 0 1-.117-.28c0-.108.04-.2.117-.279l1.03-1.03A.382.382 0 0 1 6.714 3c.107 0 .2.04.278.118l4.604 4.603a.382.382 0 0 1 .117.279c0 .108-.04.201-.117.28z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport { chunk, flatMap, groupBy, isEqual, sortBy } from 'lodash';\nimport {\n  cleanQuery,\n  parseAsArray,\n  parseAsDate,\n  parseAsString,\n  serializeStringArray,\n  serializeDate,\n  serializeString\n} from '../../helpers/query';\nimport { parseDate, startOfDay } from '../../helpers/dates';\nimport { getLocalizedMetricName, translate } from '../../helpers/l10n';\n/*:: import type { Analysis, MeasureHistory, Metric, Query } from './types'; */\n/*:: import type { RawQuery } from '../../helpers/query'; */\n/*:: import type { Serie } from '../../components/charts/AdvancedTimeline'; */\n\nexport const EVENT_TYPES = ['VERSION', 'QUALITY_GATE', 'QUALITY_PROFILE', 'OTHER'];\nexport const APPLICATION_EVENT_TYPES = ['QUALITY_GATE', 'OTHER'];\nexport const DEFAULT_GRAPH = 'issues';\nexport const GRAPH_TYPES = ['issues', 'coverage', 'duplications', 'custom'];\nexport const GRAPHS_METRICS_DISPLAYED = {\n  issues: ['bugs', 'code_smells', 'vulnerabilities'],\n  coverage: ['lines_to_cover', 'uncovered_lines'],\n  duplications: ['ncloc', 'duplicated_lines']\n};\nexport const GRAPHS_METRICS = {\n  issues: GRAPHS_METRICS_DISPLAYED['issues'].concat([\n    'reliability_rating',\n    'security_rating',\n    'sqale_rating'\n  ]),\n  coverage: GRAPHS_METRICS_DISPLAYED['coverage'].concat(['coverage']),\n  duplications: GRAPHS_METRICS_DISPLAYED['duplications'].concat(['duplicated_lines_density'])\n};\n\nexport const PROJECT_ACTIVITY_GRAPH = 'sonarqube.project_activity.graph';\nexport const PROJECT_ACTIVITY_GRAPH_CUSTOM = 'sonarqube.project_activity.graph.custom';\n\nexport const datesQueryChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  !isEqual(prevQuery.from, nextQuery.from) || !isEqual(prevQuery.to, nextQuery.to);\n\nexport const activityQueryChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  prevQuery.category !== nextQuery.category || datesQueryChanged(prevQuery, nextQuery);\n\nexport const customMetricsChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  !isEqual(prevQuery.customMetrics, nextQuery.customMetrics);\n\nexport const hasDataValues = (serie /*: Serie */) =>\n  serie.data.some(point => point.y || point.y === 0);\n\nexport const hasHistoryData = (series /*: Array<Serie> */) =>\n  series.some(serie => serie.data && serie.data.length > 1);\n\nexport const hasHistoryDataValue = (series /*: Array<Serie> */) =>\n  series.some(serie => serie.data && serie.data.length > 1 && hasDataValues(serie));\n\nexport function historyQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) /*: boolean */ {\n  return prevQuery.graph !== nextQuery.graph;\n}\n\nexport const isCustomGraph = (graph /*: string */) => graph === 'custom';\n\nexport const selectedDateQueryChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  !isEqual(prevQuery.selectedDate, nextQuery.selectedDate);\n\nexport const generateCoveredLinesMetric = (\n  uncoveredLines /*: MeasureHistory */,\n  measuresHistory /*: Array<MeasureHistory> */\n) => {\n  const linesToCover = measuresHistory.find(measure => measure.metric === 'lines_to_cover');\n  return {\n    data: linesToCover\n      ? uncoveredLines.history.map((analysis, idx) => ({\n          x: analysis.date,\n          y: Number(linesToCover.history[idx].value) - Number(analysis.value)\n        }))\n      : [],\n    name: 'covered_lines',\n    translatedName: translate('project_activity.custom_metric.covered_lines'),\n    type: 'INT'\n  };\n};\n\nfunction findMetric(key /*: string */, metrics /*:  Array<Metric> | { [string]: Metric } */) {\n  if (Array.isArray(metrics)) {\n    return metrics.find(metric => metric.key === key);\n  }\n  return metrics[key];\n}\n\nexport function generateSeries(\n  measuresHistory /*: Array<MeasureHistory> */,\n  graph /*: string */,\n  metrics /*:  Array<Metric> | { [string]: Metric } */,\n  displayedMetrics /*: Array<string> */\n) /*: Array<Serie> */ {\n  if (displayedMetrics.length <= 0 || typeof measuresHistory === 'undefined') {\n    return [];\n  }\n  return sortBy(\n    measuresHistory\n      .filter(measure => displayedMetrics.indexOf(measure.metric) >= 0)\n      .map(measure => {\n        if (measure.metric === 'uncovered_lines' && !isCustomGraph(graph)) {\n          return generateCoveredLinesMetric(measure, measuresHistory);\n        }\n        const metric = findMetric(measure.metric, metrics);\n        return {\n          data: measure.history.map(analysis => ({\n            x: analysis.date,\n            y: metric && metric.type === 'LEVEL' ? analysis.value : Number(analysis.value)\n          })),\n          name: measure.metric,\n          translatedName: metric ? getLocalizedMetricName(metric) : measure.metric,\n          type: metric ? metric.type : 'INT'\n        };\n      }),\n    serie =>\n      displayedMetrics.indexOf(serie.name === 'covered_lines' ? 'uncovered_lines' : serie.name)\n  );\n}\n\nexport const splitSeriesInGraphs = (\n  series /*: Array<Serie> */,\n  maxGraph /*: number */,\n  maxSeries /*: number */\n) =>\n  flatMap(groupBy(series, serie => serie.type), type => chunk(type, maxSeries)).slice(0, maxGraph);\n\nexport const getSeriesMetricType = (series /*: Array<Serie> */) =>\n  series.length > 0 ? series[0].type : 'INT';\n\nexport function getAnalysesByVersionByDay(analyses /*: Array<Analysis> */, query /*: Query */) {\n  return analyses.reduce((acc, analysis) => {\n    let currentVersion = acc[acc.length - 1];\n    const versionEvent = analysis.events.find(event => event.category === 'VERSION');\n    if (versionEvent) {\n      const newVersion = { version: versionEvent.name, key: versionEvent.key, byDay: {} };\n      if (!currentVersion || Object.keys(currentVersion.byDay).length > 0) {\n        acc.push(newVersion);\n      } else {\n        acc[acc.length - 1] = newVersion;\n      }\n      currentVersion = newVersion;\n    } else if (!currentVersion) {\n      // APPs don't have version events, so let's create a fake one\n      currentVersion = { version: null, key: null, byDay: {} };\n      acc.push(currentVersion);\n    }\n\n    const day = startOfDay(parseDate(analysis.date))\n      .getTime()\n      .toString();\n\n    let matchFilters = true;\n    if (query.category || query.from || query.to) {\n      const isAfterFrom = !query.from || analysis.date >= query.from;\n      const isBeforeTo = !query.to || analysis.date <= query.to;\n      const hasSelectedCategoryEvents =\n        !query.category || analysis.events.find(event => event.category === query.category) != null;\n      matchFilters = isAfterFrom && isBeforeTo && hasSelectedCategoryEvents;\n    }\n\n    if (matchFilters) {\n      if (!currentVersion.byDay[day]) {\n        currentVersion.byDay[day] = [];\n      }\n      currentVersion.byDay[day].push(analysis);\n    }\n    return acc;\n  }, []);\n}\n\nexport const getDisplayedHistoryMetrics = (\n  graph /*: string */,\n  customMetrics /*: Array<string> */\n) => (isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS_DISPLAYED[graph]);\n\nexport const getHistoryMetrics = (graph /*: string */, customMetrics /*: Array<string> */) =>\n  isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS[graph];\n\nconst parseGraph = (value /*: ?string */) => {\n  const graph = parseAsString(value);\n  return GRAPH_TYPES.includes(graph) ? graph : DEFAULT_GRAPH;\n};\n\nconst serializeGraph = (value /*: string */) => (value === DEFAULT_GRAPH ? undefined : value);\n\nexport function parseQuery(urlQuery /*: RawQuery */) /*: Query */ {\n  return {\n    category: parseAsString(urlQuery['category']),\n    customMetrics: parseAsArray(urlQuery['custom_metrics'], parseAsString),\n    from: parseAsDate(urlQuery['from']),\n    graph: parseGraph(urlQuery['graph']),\n    project: parseAsString(urlQuery['id']),\n    to: parseAsDate(urlQuery['to']),\n    selectedDate: parseAsDate(urlQuery['selected_date'])\n  };\n}\n\nexport function serializeQuery(query /*: Query */) /*: RawQuery */ {\n  return cleanQuery({\n    category: serializeString(query.category),\n    from: serializeDate(query.from),\n    project: serializeString(query.project),\n    to: serializeDate(query.to)\n  });\n}\n\nexport function serializeUrlQuery(query /*: Query */) /*: RawQuery */ {\n  return cleanQuery({\n    category: serializeString(query.category),\n    custom_metrics: serializeStringArray(query.customMetrics),\n    from: serializeDate(query.from),\n    graph: serializeGraph(query.graph),\n    id: serializeString(query.project),\n    to: serializeDate(query.to),\n    selected_date: serializeDate(query.selectedDate)\n  });\n}\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","var parse = require('../parse/index.js')\n\n/**\n * @category Month Helpers\n * @summary Get the number of days in a month of the given date.\n *\n * @description\n * Get the number of days in a month of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the number of days in a month\n *\n * @example\n * // How many days are in February 2000?\n * var result = getDaysInMonth(new Date(2000, 1))\n * //=> 29\n */\nfunction getDaysInMonth (dirtyDate) {\n  var date = parse(dirtyDate)\n  var year = date.getFullYear()\n  var monthIndex = date.getMonth()\n  var lastDayOfMonth = new Date(0)\n  lastDayOfMonth.setFullYear(year, monthIndex + 1, 0)\n  lastDayOfMonth.setHours(0, 0, 0, 0)\n  return lastDayOfMonth.getDate()\n}\n\nmodule.exports = getDaysInMonth\n","var parse = require('../parse/index.js')\nvar getDaysInMonth = require('../get_days_in_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added\n * @returns {Date} the new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * var result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\nfunction addMonths (dirtyDate, dirtyAmount) {\n  var date = parse(dirtyDate)\n  var amount = Number(dirtyAmount)\n  var desiredMonth = date.getMonth() + amount\n  var dateWithDesiredMonth = new Date(0)\n  dateWithDesiredMonth.setFullYear(date.getFullYear(), desiredMonth, 1)\n  dateWithDesiredMonth.setHours(0, 0, 0, 0)\n  var daysInMonth = getDaysInMonth(dateWithDesiredMonth)\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  date.setMonth(desiredMonth, Math.min(daysInMonth, date.getDate()))\n  return date\n}\n\nmodule.exports = addMonths\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".date-input-control{position:relative;display:inline-block;cursor:pointer}.date-input-control-input{width:130px;padding-left:24px!important;cursor:pointer}.date-input-control-input.is-filled{padding-right:16px!important}.date-input-control-icon{position:absolute;top:4px;left:4px}.date-input-control-icon path{fill:#cdcdcd;transition:fill .3s ease}.date-input-control-input:focus+.date-input-control-icon path{fill:#4b9fd5}.date-input-control-reset{position:absolute;top:4px;right:4px;border:none}.date-input-calendar{position:absolute;z-index:7500;top:100%;left:0;border:1px solid #e6e6e6;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.date-input-calendar-nav{display:flex;justify-content:space-between;align-items:center;padding-top:8px;padding-left:8px;padding-right:8px}.date-input-calender-month-select{width:70px}.button.boolean-toggle{display:inline-block;vertical-align:middle;width:48px;height:24px;padding:1px;border:1px solid #cdcdcd;border-radius:24px;box-sizing:border-box;background-color:#fff;cursor:pointer;transition:all .3s ease}.button.boolean-toggle:hover{background-color:#fff}.button.boolean-toggle:focus{border-color:#4b9fd5;background-color:#f6f6f6}.boolean-toggle-handle{width:20px;height:20px;border:1px solid #cdcdcd;border-radius:22px;box-sizing:border-box;background-color:#f6f6f6;transition:transform .3s cubic-bezier(.87,-.41,.19,1.44),border .3s ease}.button.boolean-toggle-on{border-color:#236a97;background-color:#236a97}.button.boolean-toggle-on:focus,.button.boolean-toggle-on:hover{background-color:#236a97}.button.boolean-toggle-on .boolean-toggle-handle{border-color:#f6f6f6;transform:translateX(24px)}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\ninterface Props {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (elem: string) => void;\n  onSelectChange: (elem: string, selected: boolean) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default class MultiSelectOption extends React.PureComponent<Props> {\n  handleSelect = (evt: React.SyntheticEvent<HTMLAnchorElement>) => {\n    evt.stopPropagation();\n    evt.preventDefault();\n    evt.currentTarget.blur();\n\n    if (!this.props.disabled) {\n      this.props.onSelectChange(this.props.element, !this.props.selected);\n    }\n  };\n\n  handleHover = () => this.props.onHover(this.props.element);\n\n  render() {\n    const { selected, disabled } = this.props;\n    const className = classNames('icon-checkbox', {\n      'icon-checkbox-checked': selected,\n      'icon-checkbox-invisible': disabled\n    });\n    const activeClass = classNames({ active: this.props.active, disabled });\n\n    return (\n      <li>\n        <a\n          className={activeClass}\n          href=\"#\"\n          onClick={this.handleSelect}\n          onFocus={this.handleHover}\n          onMouseOver={this.handleHover}>\n          <i className={className} /> {this.props.custom && '+ '}\n          {this.props.renderLabel(this.props.element)}\n        </a>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport MultiSelectOption from './MultiSelectOption';\nimport SearchBox from '../controls/SearchBox';\nimport { translateWithParameters } from '../../helpers/l10n';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (item: string, selected: boolean) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement &&\n            selectedElements.length < 1 &&\n            unselectedElements.length < 1 && (\n              <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n            )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function CalendarIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M2 14h2.25v-2.25H2V14zm2.75 0h2.5v-2.25h-2.5V14zM2 11.25h2.25v-2.5H2v2.5zm2.75 0h2.5v-2.5h-2.5v2.5zM2 8.25h2.25V6H2v2.25zM7.75 14h2.5v-2.25h-2.5V14zm-3-5.75h2.5V6h-2.5v2.25zm6 5.75H13v-2.25h-2.25V14zm-3-2.75h2.5v-2.5h-2.5v2.5zM5 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 4.75 2h-.5a.24.24 0 0 0-.176.074A.24.24 0 0 0 4 2.25V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 5 4.5zm5.75 6.75H13v-2.5h-2.25v2.5zm-3-3h2.5V6h-2.5v2.25zm3 0H13V6h-2.25v2.25zM11 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 10.75 2h-.5a.24.24 0 0 0-.176.074.24.24 0 0 0-.074.176V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 11 4.5zm3-.5v10c0 .27-.099.505-.297.703A.961.961 0 0 1 13 15H2a.961.961 0 0 1-.703-.297A.961.961 0 0 1 1 14V4c0-.27.099-.505.297-.703A.961.961 0 0 1 2 3h1v-.75c0-.344.122-.638.367-.883S3.907 1 4.25 1h.5c.344 0 .638.122.883.367S6 1.907 6 2.25V3h3v-.75c0-.344.122-.638.367-.883S9.907 1 10.25 1h.5c.344 0 .638.122.883.367s.367.54.367.883V3h1c.27 0 .505.099.703.297A.961.961 0 0 1 14 4z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronLeftIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M4.404 8.28l4.604 4.602a.382.382 0 0 0 .279.118c.108 0 .2-.04.279-.118l1.03-1.03a.382.382 0 0 0 .117-.278.382.382 0 0 0-.117-.28L7.3 8l3.295-3.294a.382.382 0 0 0 .117-.28.382.382 0 0 0-.117-.279l-1.03-1.03A.382.382 0 0 0 9.286 3a.382.382 0 0 0-.278.118L4.404 7.72A.382.382 0 0 0 4.287 8c0 .108.04.201.117.28z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { DayModifiers, Modifier, Modifiers } from 'react-day-picker';\nimport { intlShape, InjectedIntlProps } from 'react-intl';\nimport { range } from 'lodash';\nimport * as addMonths from 'date-fns/add_months';\nimport * as setMonth from 'date-fns/set_month';\nimport * as setYear from 'date-fns/set_year';\nimport * as subMonths from 'date-fns/sub_months';\nimport OutsideClickHandler from './OutsideClickHandler';\nimport Select from './Select';\nimport { lazyLoad } from '../lazyLoad';\nimport * as theme from '../../app/theme';\nimport CalendarIcon from '../icons-components/CalendarIcon';\nimport ChevronLeftIcon from '../icons-components/ChevronLeftIcon';\nimport ChevronRightIcon from '../icons-components/ChevronRightcon';\nimport ClearIcon from '../icons-components/ClearIcon';\nimport { ButtonIcon } from '../ui/buttons';\nimport { getShortMonthName, getWeekDayName, getShortWeekDayName } from '../../helpers/l10n';\nimport './DayPicker.css';\nimport './styles.css';\n\nconst DayPicker = lazyLoad(() => import('react-day-picker'));\n\nexport interface Props {\n  className?: string;\n  currentMonth?: Date;\n  highlightFrom?: Date;\n  highlightTo?: Date;\n  inputClassName?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  name?: string;\n  onChange: (date: Date | undefined) => void;\n  placeholder: string;\n  value?: Date;\n}\n\ninterface State {\n  currentMonth: Date;\n  open: boolean;\n  lastHovered?: Date;\n}\n\ntype Week = [string, string, string, string, string, string, string];\n\nexport default class DateInput extends React.PureComponent<Props, State> {\n  context!: InjectedIntlProps;\n  input?: HTMLInputElement | null;\n\n  static contextTypes = {\n    intl: intlShape\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { currentMonth: props.value || props.currentMonth || new Date(), open: false };\n  }\n\n  focus = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n    this.openCalendar();\n  };\n\n  handleResetClick = () => {\n    this.closeCalendar();\n    this.props.onChange(undefined);\n  };\n\n  openCalendar = () => {\n    this.setState({\n      currentMonth: this.props.value || this.props.currentMonth || new Date(),\n      lastHovered: undefined,\n      open: true\n    });\n  };\n\n  closeCalendar = () => {\n    this.setState({ open: false });\n  };\n\n  handleDayClick = (day: Date, modifiers: DayModifiers) => {\n    if (!modifiers.disabled) {\n      this.closeCalendar();\n      this.props.onChange(day);\n    }\n  };\n\n  handleDayMouseEnter = (day: Date, modifiers: DayModifiers) => {\n    this.setState({ lastHovered: modifiers.disabled ? undefined : day });\n  };\n\n  handleCurrentMonthChange = ({ value }: { value: number }) => {\n    this.setState((state: State) => ({ currentMonth: setMonth(state.currentMonth, value) }));\n  };\n\n  handleCurrentYearChange = ({ value }: { value: number }) => {\n    this.setState(state => ({ currentMonth: setYear(state.currentMonth, value) }));\n  };\n\n  handlePreviousMonthClick = () => {\n    this.setState(state => ({ currentMonth: subMonths(state.currentMonth, 1) }));\n  };\n\n  handleNextMonthClick = () => {\n    this.setState(state => ({ currentMonth: addMonths(state.currentMonth, 1) }));\n  };\n\n  render() {\n    const { highlightFrom, highlightTo, minDate, value } = this.props;\n    const { formatDate } = this.context.intl;\n    const { lastHovered } = this.state;\n    const formattedValue =\n      value && formatDate(value, { year: 'numeric', month: 'short', day: 'numeric' });\n\n    const after = this.props.maxDate || new Date();\n\n    const months = range(12);\n    const years = range(new Date().getFullYear() - 10, new Date().getFullYear() + 1);\n\n    const selectedDays: Modifier[] = value ? [value] : [];\n    let modifiers: Partial<Modifiers> | undefined;\n    const lastHoveredOrValue = lastHovered || value;\n\n    if (highlightFrom && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: highlightFrom, to: lastHoveredOrValue } };\n      selectedDays.push(highlightFrom);\n    }\n    if (highlightTo && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: lastHoveredOrValue, to: highlightTo } };\n      selectedDays.push(highlightTo);\n    }\n\n    const weekdaysLong = range(7).map(getWeekDayName) as Week;\n    const weekdaysShort = range(7).map(getShortWeekDayName) as Week;\n\n    return (\n      <OutsideClickHandler onClickOutside={this.closeCalendar}>\n        <span className={classNames('date-input-control', this.props.className)}>\n          <input\n            className={classNames('date-input-control-input', this.props.inputClassName, {\n              'is-filled': this.props.value !== undefined\n            })}\n            name={this.props.name}\n            onFocus={this.openCalendar}\n            placeholder={this.props.placeholder}\n            readOnly={true}\n            ref={node => (this.input = node)}\n            type=\"text\"\n            value={formattedValue || ''}\n          />\n          <CalendarIcon className=\"date-input-control-icon\" fill=\"\" />\n          {this.props.value !== undefined && (\n            <ButtonIcon\n              className=\"button-tiny date-input-control-reset\"\n              color={theme.gray60}\n              onClick={this.handleResetClick}>\n              <ClearIcon size={12} />\n            </ButtonIcon>\n          )}\n          {this.state.open && (\n            <div className=\"date-input-calendar\">\n              <nav className=\"date-input-calendar-nav\">\n                <ButtonIcon className=\"button-small\" onClick={this.handlePreviousMonthClick}>\n                  <ChevronLeftIcon />\n                </ButtonIcon>\n                <div className=\"date-input-calender-month\">\n                  <Select\n                    className=\"date-input-calender-month-select\"\n                    onChange={this.handleCurrentMonthChange}\n                    options={months.map(month => ({\n                      label: getShortMonthName(month),\n                      value: month\n                    }))}\n                    value={this.state.currentMonth.getMonth()}\n                  />\n                  <Select\n                    className=\"date-input-calender-month-select spacer-left\"\n                    onChange={this.handleCurrentYearChange}\n                    options={years.map(year => ({ label: String(year), value: year }))}\n                    value={this.state.currentMonth.getFullYear()}\n                  />\n                </div>\n                <ButtonIcon className=\"button-small\" onClick={this.handleNextMonthClick}>\n                  <ChevronRightIcon />\n                </ButtonIcon>\n              </nav>\n              <DayPicker\n                captionElement={<NullComponent />}\n                disabledDays={{ after, before: minDate }}\n                firstDayOfWeek={1}\n                modifiers={modifiers}\n                month={this.state.currentMonth}\n                navbarElement={<NullComponent />}\n                onDayClick={this.handleDayClick}\n                onDayMouseEnter={this.handleDayMouseEnter}\n                selectedDays={selectedDays}\n                weekdaysLong={weekdaysLong}\n                weekdaysShort={weekdaysShort}\n              />\n            </div>\n          )}\n        </span>\n      </OutsideClickHandler>\n    );\n  }\n}\n\nfunction NullComponent() {\n  return null;\n}\n"],"sourceRoot":""}