{"version":3,"sources":["webpack:///./node_modules/lodash/flatMap.js","webpack:///./src/main/js/components/charts/BarChart.css","webpack:///./src/main/js/components/charts/BarChart.css?f378","webpack:///./src/main/js/components/charts/Histogram.tsx","webpack:///./src/main/js/components/charts/LanguageDistribution.tsx","webpack:///./src/main/js/components/charts/LanguageDistributionContainer.tsx","webpack:///./node_modules/lodash/_baseSlice.js","webpack:///./node_modules/lodash/chunk.js","webpack:///./node_modules/lodash/_baseLt.js","webpack:///./node_modules/lodash/minBy.js","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./src/main/js/components/charts/Histogram.css","webpack:///./src/main/js/components/charts/Histogram.css?9e83","webpack:///./src/main/js/components/icons-components/HistoryIcon.tsx","webpack:///./src/main/js/components/preview-graph/PreviewGraphTooltipsContent.js","webpack:///./src/main/js/components/preview-graph/PreviewGraphTooltips.js","webpack:///./src/main/js/components/preview-graph/PreviewGraph.js","webpack:///./node_modules/lodash/max.js","webpack:///./src/main/js/apps/portfolio/styles.css","webpack:///./src/main/js/apps/portfolio/styles.css?3a4d","webpack:///./src/main/js/apps/portfolio/components/Summary.tsx","webpack:///./src/main/js/apps/portfolio/components/Subscription.tsx","webpack:///./src/main/js/api/report.ts","webpack:///./src/main/js/apps/portfolio/components/SubscriptionContainer.tsx","webpack:///./src/main/js/apps/portfolio/components/Report.tsx","webpack:///./src/main/js/apps/portfolio/components/WorstProjects.tsx","webpack:///./src/main/js/apps/portfolio/components/RatingFreshness.tsx","webpack:///./src/main/js/apps/portfolio/components/ReleasabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/Effort.tsx","webpack:///./src/main/js/apps/portfolio/components/MeasuresButtonLink.tsx","webpack:///./src/main/js/apps/portfolio/components/HistoryButtonLink.tsx","webpack:///./src/main/js/apps/portfolio/components/MainRating.tsx","webpack:///./src/main/js/apps/portfolio/components/ReliabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/SecurityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/MaintainabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/Activity.tsx","webpack:///./src/main/js/apps/portfolio/utils.ts","webpack:///./src/main/js/apps/portfolio/components/App.tsx","webpack:///./node_modules/lodash/groupBy.js","webpack:///./node_modules/lodash/toInteger.js","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./node_modules/lodash/_createFind.js","webpack:///./node_modules/lodash/findIndex.js","webpack:///./node_modules/lodash/find.js","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./src/main/js/components/icons-components/BubblesIcon.tsx"],"names":["baseFlatten","__webpack_require__","map","module","exports","collection","iteratee","push","i","content","options","hmr","transform","insertInto","undefined","locals","DEFAULT_PADDING","_super","Histogram","__extends","prototype","renderBar","d","index","xScale","yScale","_a","this","props","alignTicks","_b","padding","width","Math","round","x","range","y","bandwidth","index_js_exposed","className","height","renderValue","yValues","value","BAR_HEIGHT","Tooltip","overlay","yTooltips","dx","dy","renderTick","yTicks","tick","historyTickClass","renderBars","_this","bars","key","render","availableWidth","Object","d3_scale","domain","d3_array","availableHeight","_","rangeRound","cutLanguageName","name","length","substr","__webpack_exports__","es","state","languages","rootReducer","distribution","split","point","tokens","language","lines","parseInt","data","sortBy_default","langKey","l10n","lang","find_default","getLanguageName","measures","components_charts_Histogram","array","start","end","result","Array","baseSlice","isIterateeCall","toInteger","nativeCeil","ceil","nativeMax","max","size","guard","resIndex","other","baseExtremum","baseIteratee","baseLt","HistoryIcon","fill","react__WEBPACK_IMPORTED_MODULE_0__","_Icon__WEBPACK_IMPORTED_MODULE_1__","style","PreviewGraphTooltipsContent","translatedName","index_js_exposed_default","a","createElement","ChartLegendIcon","PreviewGraphTooltips","tooltipIdx","left","tooltipPos","placement","popups","RightTop","graphWidth","LeftTop","top","DateFormatter","date","selectedDate","long","series","serie","idx","toString","formatValue","PureComponent","GRAPH_PADDING","MAX_GRAPH_NB","MAX_SERIES_PER_GRAPH","PreviewGraph_PreviewGraph","PreviewGraph","call","utils","getDisplayedMetrics","graph","customMetrics","metrics","getSeries","history","myHistory","displayedMetrics","firstValid","minBy_default","metric","find","p","measureHistory","filter","handleClick","context","router","pathname","query","__assign","id","project","branches","branchLike","updateTooltip","tooltipXPos","setState","customGraphs","storage","PreviewGraph_extends","componentWillReceiveProps","nextProps","renderTimeline","AutoSizer_default","disableHeight","AdvancedTimeline","endDate","startDate","hideGrid","hideXAxis","interpolate","metricType","showAreas","includes","preview_graph_PreviewGraphTooltips","onClick","tabIndex","role","renderWhenEmpty","contextTypes","prop_types","baseGt","identity","Summary","component","projects","ncloc","nclocDistribution","description","react_router_es","to","urls","componentKey","Measure","metricKey","LanguageDistributionContainer","Subscription","mounted","stopLoading","loading","handleSubscription","subscribed","handleSubscribe","request","catch","throwGlobalError","then","handleUnsubscribe","getEffectiveFrequencyText","effectiveFrequency","status","componentFrequency","globalFrequency","renderLoading","renderWhenSubscribed","AlertSuccessIcon","buttons","renderWhenNotSubscribed","componentDidMount","componentWillUnmount","inner","hasEmail","currentUser","email","SubscriptionContainer","components_Subscription","Report","apply","arguments","renderHeader","Report_extends","loadStatus","canDownload","href","window","baseUrl","encodeURIComponent","getReportUrl","target","download","canSubscribe","WorstProjects","subComponents","total","count","maxLoc","max_default","Number","projectsPageUrl","refKey","QualifierIcon","qualifier","renderCell","barWidth","renderNcloc","helpers_measures","type","RatingFreshness","lastChange","rating","index_es","defaultMessage","values","Rating","small","JSON","parse","DateFromNow","ReleasabilityBox","lastReleasabilityChange","effort","Level","level","Effort","String","MeasuresButtonLink","BubblesIcon","HistoryButtonLink","MainRating","ReliabilityBox","lastReliabilityChange","rawEffort","SecurityBox","lastSecurityChange","MaintainabilityBox","lastMaintainabilityChange","AnyPreviewGraph","Activity","fetchHistory","graphMetrics","time_machine","join","timeMachine","history_1","forEach","measure","analysis","dates","Activity_extends","componentDidUpdate","prevProps","PORTFOLIO_METRICS","SUB_COMPONENTS_METRICS","convertMeasures","App_App","App","isEmpty","isNotComputed","App_extends","fetchMetrics","fetchData","Promise","all","api_measures","metricKeys","components","ps","s","totalSubComponents","paging","renderSpinner","renderEmpty","renderWhenNotComputed","renderMain","components_Activity","components_Report","mapDispatchToProps","rootActions","baseAssignValue","createAggregator","hasOwnProperty","groupBy","toFinite","remainder","predicate","fromIndex","fromRight","decimals","_ui_Level__WEBPACK_IMPORTED_MODULE_3__","formattedValue","_helpers_measures__WEBPACK_IMPORTED_MODULE_5__","tooltip","_utils__WEBPACK_IMPORTED_MODULE_1__","_ui_Rating__WEBPACK_IMPORTED_MODULE_2__","_controls_Tooltip__WEBPACK_IMPORTED_MODULE_4__","isArrayLike","keys","findIndexFunc","iterable","baseFindIndex","createFind","KNOWN_RATINGS","enhanceMeasure","leak","periods","period","getLeakValue","getRatingTooltip","finalMetricKey","_helpers_measures__WEBPACK_IMPORTED_MODULE_0__","isSymbol","comparator","current","computed","fillRule"],"mappings":"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","file":"js/293.65b88b61.chunk.js","sourcesContent":["var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nmodule.exports = flatMap;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".bar-chart-bar{fill:#4b9fd5}.bar-chart-tick{fill:#777;font-size:12px;text-anchor:middle}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./BarChart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./BarChart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./BarChart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { max } from 'd3-array';\nimport { scaleLinear, scaleBand, ScaleLinear, ScaleBand } from 'd3-scale';\nimport Tooltip from '../controls/Tooltip';\nimport './BarChart.css';\nimport './Histogram.css';\n\ninterface Props {\n  alignTicks?: boolean;\n  bars: number[];\n  height: number;\n  padding?: [number, number, number, number];\n  yTicks?: string[];\n  yTooltips?: string[];\n  yValues?: string[];\n  width: number;\n}\n\nconst BAR_HEIGHT = 10;\nconst DEFAULT_PADDING = [10, 10, 10, 10];\n\ntype XScale = ScaleLinear<number, number>;\ntype YScale = ScaleBand<number>;\n\nexport default class Histogram extends React.PureComponent<Props> {\n  renderBar(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING } = this.props;\n\n    const width = Math.round(xScale(d)) + /* minimum bar width */ 1;\n    const x = xScale.range()[0] + (alignTicks ? padding[3] : 0);\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2);\n\n    return <rect className=\"bar-chart-bar\" x={x} y={y} width={width} height={BAR_HEIGHT} />;\n  }\n\n  renderValue(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING, yValues } = this.props;\n\n    const value = yValues && yValues[index];\n\n    if (!value) {\n      return null;\n    }\n\n    const x = xScale(d) + (alignTicks ? padding[3] : 0);\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n\n    return (\n      <Tooltip overlay={this.props.yTooltips && this.props.yTooltips[index]}>\n        <text className=\"bar-chart-tick histogram-value\" x={x} y={y} dx=\"1em\" dy=\"0.3em\">\n          {value}\n        </text>\n      </Tooltip>\n    );\n  }\n\n  renderTick(index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, yTicks } = this.props;\n\n    const tick = yTicks && yTicks[index];\n\n    if (!tick) {\n      return null;\n    }\n\n    const x = xScale.range()[0];\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n    const historyTickClass = alignTicks ? 'histogram-tick-start' : 'histogram-tick';\n\n    return (\n      <text\n        className={'bar-chart-tick ' + historyTickClass}\n        x={x}\n        y={y}\n        dx={alignTicks ? 0 : '-1em'}\n        dy=\"0.3em\">\n        {tick}\n      </text>\n    );\n  }\n\n  renderBars(xScale: XScale, yScale: YScale) {\n    return (\n      <g>\n        {this.props.bars.map((d, index) => {\n          return (\n            <g key={index}>\n              {this.renderBar(d, index, xScale, yScale)}\n              {this.renderValue(d, index, xScale, yScale)}\n              {this.renderTick(index, xScale, yScale)}\n            </g>\n          );\n        })}\n      </g>\n    );\n  }\n\n  render() {\n    const { bars, width, height, padding = DEFAULT_PADDING } = this.props;\n\n    const availableWidth = width - padding[1] - padding[3];\n    const xScale: XScale = scaleLinear()\n      .domain([0, max(bars)!])\n      .range([0, availableWidth]);\n\n    const availableHeight = height - padding[0] - padding[2];\n    const yScale: YScale = scaleBand<number>()\n      .domain(bars.map((_, index) => index))\n      .rangeRound([0, availableHeight]);\n\n    return (\n      <svg className=\"bar-chart\" width={this.props.width} height={this.props.height}>\n        <g transform={`translate(${this.props.alignTicks ? 4 : padding[3]}, ${padding[0]})`}>\n          {this.renderBars(xScale, yScale)}\n        </g>\n      </svg>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { find, sortBy } from 'lodash';\nimport Histogram from './Histogram';\nimport { formatMeasure } from '../../helpers/measures';\nimport { Language } from '../../api/languages';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  alignTicks?: boolean;\n  distribution: string;\n  languages?: Language[];\n  width: number;\n}\n\nexport default function LanguageDistribution(props: Props) {\n  let distribution = props.distribution.split(';').map(point => {\n    const tokens = point.split('=');\n    return { language: tokens[0], lines: parseInt(tokens[1], 10) };\n  });\n\n  distribution = sortBy(distribution, d => -d.lines);\n\n  const data = distribution.map(d => d.lines);\n  const yTicks = distribution.map(d => getLanguageName(d.language)).map(cutLanguageName);\n  const yTooltips = distribution.map(d => (d.lines > 1000 ? formatMeasure(d.lines, 'INT') : ''));\n  const yValues = distribution.map(d => formatMeasure(d.lines, 'SHORT_INT'));\n\n  return (\n    <Histogram\n      alignTicks={props.alignTicks}\n      bars={data}\n      height={distribution.length * 25}\n      padding={[0, 60, 0, 80]}\n      yTicks={yTicks}\n      yTooltips={yTooltips}\n      yValues={yValues}\n      width={props.width}\n    />\n  );\n\n  function getLanguageName(langKey: string) {\n    if (langKey === '<null>') {\n      return translate('unknown');\n    }\n    const lang = find(props.languages, { key: langKey });\n    return lang ? lang.name : langKey;\n  }\n}\n\nfunction cutLanguageName(name: string) {\n  return name.length > 10 ? `${name.substr(0, 7)}...` : name;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport LanguageDistribution from './LanguageDistribution';\nimport { getLanguages } from '../../store/rootReducer';\n\nconst mapStateToProps = (state: any) => ({\n  languages: getLanguages(state)\n});\n\nexport default connect<any, any, any>(mapStateToProps)(LanguageDistribution);\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array == null ? 0 : array.length;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\nmodule.exports = chunk;\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nmodule.exports = baseLt;\n","var baseExtremum = require('./_baseExtremum'),\n    baseIteratee = require('./_baseIteratee'),\n    baseLt = require('./_baseLt');\n\n/**\n * This method is like `_.min` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * // The `_.property` iteratee shorthand.\n * _.minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nfunction minBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseLt)\n    : undefined;\n}\n\nmodule.exports = minBy;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".histogram-tick{text-anchor:end}.histogram-tick-start,.histogram-value{text-anchor:start}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Histogram.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Histogram.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Histogram.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function HistoryIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.7 3.4v3.3c0 .1 0 .2-.1.2s-.2 0-.3-.1l-.9-.9-4.8 4.8c-.1.1-.1.1-.2.1s-.1 0-.2-.1L6.4 9l-3.2 3.2-1.5-1.5 4.5-4.5c.1-.1.1-.1.2-.1s.1 0 .2.1L8.4 8l3.5-3.5-.9-1c-.1-.1-.1-.2-.1-.3s.1-.1.2-.1h3.3c.1 0 .1 0 .2.1.1 0 .1.1.1.2z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport ChartLegendIcon from '../icons-components/ChartLegendIcon';\n\n/*::\ntype Props = {\n  style: string,\n  translatedName: string,\n  value: string\n};\n*/\n\nexport default function PreviewGraphTooltipsContent({ style, translatedName, value } /*: Props */) {\n  return (\n    <tr className=\"overview-analysis-graph-tooltip-line\">\n      <td className=\"thin\">\n        <ChartLegendIcon\n          className={'little-spacer-right line-chart-legend line-chart-legend-' + style}\n        />\n      </td>\n      <td className=\"overview-analysis-graph-tooltip-value text-right little-spacer-right thin\">\n        {value}\n      </td>\n      <td className=\"text-ellipsis overview-analysis-graph-tooltip-description\">\n        {translatedName}\n      </td>\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport React from 'react';\nimport PreviewGraphTooltipsContent from './PreviewGraphTooltipsContent';\nimport DateFormatter from '../intl/DateFormatter';\nimport { Popup, PopupPlacement } from '../ui/popups';\n/*:: import type { Metric } from '../types'; */\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n\n/*::\ntype Props = {\n  formatValue: (number | string) => string,\n  graph: string,\n  graphWidth: number,\n  metrics: Array<Metric>,\n  selectedDate: Date,\n  series: Array<Serie & { translatedName: string }>,\n  tooltipIdx: number,\n  tooltipPos: number\n};\n*/\n\nconst TOOLTIP_WIDTH = 160;\n\nexport default class PreviewGraphTooltips extends React.PureComponent {\n  /*:: props: Props; */\n\n  render() {\n    const { tooltipIdx } = this.props;\n    const top = 16;\n    let left = this.props.tooltipPos;\n    let placement = PopupPlacement.RightTop;\n    if (left > this.props.graphWidth - TOOLTIP_WIDTH) {\n      left -= TOOLTIP_WIDTH;\n      placement = PopupPlacement.LeftTop;\n    }\n\n    return (\n      <Popup\n        className=\"overview-analysis-graph-popup disabled-pointer-events\"\n        placement={placement}\n        style={{ top, left, width: TOOLTIP_WIDTH }}>\n        <div className=\"overview-analysis-graph-tooltip\">\n          <div className=\"overview-analysis-graph-tooltip-title\">\n            <DateFormatter date={this.props.selectedDate} long={true} />\n          </div>\n          <table className=\"width-100\">\n            <tbody>\n              {this.props.series.map((serie, idx) => {\n                const point = serie.data[tooltipIdx];\n                if (!point || (!point.y && point.y !== 0)) {\n                  return null;\n                }\n                return (\n                  <PreviewGraphTooltipsContent\n                    key={serie.name}\n                    style={idx.toString()}\n                    translatedName={serie.translatedName}\n                    value={this.props.formatValue(point.y)}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </Popup>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { minBy } from 'lodash';\nimport * as PropTypes from 'prop-types';\n// $FlowFixMe\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer';\nimport PreviewGraphTooltips from './PreviewGraphTooltips';\nimport AdvancedTimeline from '../charts/AdvancedTimeline';\nimport {\n  DEFAULT_GRAPH,\n  getDisplayedHistoryMetrics,\n  generateSeries,\n  getSeriesMetricType,\n  hasHistoryDataValue,\n  PROJECT_ACTIVITY_GRAPH,\n  PROJECT_ACTIVITY_GRAPH_CUSTOM,\n  splitSeriesInGraphs\n} from '../../apps/projectActivity/utils';\nimport { get } from '../../helpers/storage';\nimport { formatMeasure, getShortType } from '../../helpers/measures';\nimport { getBranchLikeQuery } from '../../helpers/branches';\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n/*:: import type { History, Metric } from '../../apps/overview/types'; */\n\n/*::\ntype Props = {\n  branchLike?: { id?: string; name: string },\n  history: ?History,\n  metrics: { [string]: Metric },\n  project: string,\n  renderWhenEmpty?: () => void\n};\n*/\n\n/*::\ntype State = {\n  customMetrics: Array<string>,\n  graph: string,\n  selectedDate: ?Date,\n  series: Array<Serie>,\n  tooltipIdx: ?number,\n  tooltipXPos: ?number\n};\n*/\n\nconst GRAPH_PADDING = [4, 0, 4, 0];\nconst MAX_GRAPH_NB = 1;\nconst MAX_SERIES_PER_GRAPH = 3;\n\nexport default class PreviewGraph extends React.PureComponent {\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  static contextTypes = {\n    router: PropTypes.object\n  };\n\n  constructor(props /*: Props */) {\n    super(props);\n    const customGraphs = get(PROJECT_ACTIVITY_GRAPH_CUSTOM);\n    const graph = get(PROJECT_ACTIVITY_GRAPH) || 'issues';\n    const customMetrics = customGraphs ? customGraphs.split(',') : [];\n    const series = splitSeriesInGraphs(\n      this.getSeries(props.history, graph, customMetrics, props.metrics),\n      MAX_GRAPH_NB,\n      MAX_SERIES_PER_GRAPH\n    );\n    this.state = {\n      customMetrics,\n      graph,\n      selectedDate: null,\n      series: series.length > 0 ? series[0] : [],\n      tooltipIdx: null,\n      tooltipXPos: null\n    };\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    if (nextProps.history !== this.props.history || nextProps.metrics !== this.props.metrics) {\n      const customGraphs = get(PROJECT_ACTIVITY_GRAPH_CUSTOM);\n      const graph = get(PROJECT_ACTIVITY_GRAPH) || 'issues';\n      const customMetrics = customGraphs ? customGraphs.split(',') : [];\n      const series = splitSeriesInGraphs(\n        this.getSeries(nextProps.history, graph, customMetrics, nextProps.metrics),\n        MAX_GRAPH_NB,\n        MAX_SERIES_PER_GRAPH\n      );\n      this.setState({\n        customMetrics,\n        graph,\n        series: series.length > 0 ? series[0] : []\n      });\n    }\n  }\n\n  formatValue = (tick /*: number | string */) =>\n    formatMeasure(tick, getShortType(getSeriesMetricType(this.state.series)));\n\n  getDisplayedMetrics = (graph /*: string */, customMetrics /*: Array<string> */) => {\n    const metrics /*: Array<string> */ = getDisplayedHistoryMetrics(graph, customMetrics);\n    if (!metrics || metrics.length <= 0) {\n      return getDisplayedHistoryMetrics(DEFAULT_GRAPH, customMetrics);\n    }\n    return metrics;\n  };\n\n  getSeries = (\n    history /*: ?History */,\n    graph /*: string */,\n    customMetrics /*: Array<string> */,\n    metrics /*: { [string]: Metric } */\n  ) => {\n    const myHistory = history;\n    if (!myHistory) {\n      return [];\n    }\n    const displayedMetrics = this.getDisplayedMetrics(graph, customMetrics);\n    const firstValid = minBy(\n      displayedMetrics.map(metric => myHistory[metric].find(p => p.value || p.value === 0)),\n      'date'\n    );\n    const measureHistory = displayedMetrics.map(metric => ({\n      metric,\n      history: firstValid\n        ? myHistory[metric].filter(p => p.date >= firstValid.date)\n        : myHistory[metric]\n    }));\n    return generateSeries(measureHistory, graph, metrics, displayedMetrics);\n  };\n\n  handleClick = () => {\n    this.context.router.push({\n      pathname: '/project/activity',\n      query: { id: this.props.project, ...getBranchLikeQuery(this.props.branchLike) }\n    });\n  };\n\n  updateTooltip = (\n    selectedDate /*: ?Date */,\n    tooltipXPos /*: ?number */,\n    tooltipIdx /*: ?number */\n  ) => this.setState({ selectedDate, tooltipXPos, tooltipIdx });\n\n  renderTimeline() {\n    const { graph, selectedDate, series, tooltipIdx, tooltipXPos } = this.state;\n    return (\n      <AutoSizer disableHeight={true}>\n        {({ width }) => (\n          <div>\n            <AdvancedTimeline\n              endDate={null}\n              startDate={null}\n              height={80}\n              width={width}\n              hideGrid={true}\n              hideXAxis={true}\n              interpolate=\"linear\"\n              metricType={getSeriesMetricType(series)}\n              padding={GRAPH_PADDING}\n              series={series}\n              showAreas={['coverage', 'duplications'].includes(graph)}\n              updateTooltip={this.updateTooltip}\n            />\n            {selectedDate != null &&\n              tooltipXPos != null &&\n              tooltipIdx != null && (\n                <PreviewGraphTooltips\n                  formatValue={this.formatValue}\n                  graph={graph}\n                  graphWidth={width}\n                  metrics={this.props.metrics}\n                  selectedDate={selectedDate}\n                  series={series}\n                  tooltipIdx={tooltipIdx}\n                  tooltipPos={tooltipXPos}\n                />\n              )}\n          </div>\n        )}\n      </AutoSizer>\n    );\n  }\n\n  render() {\n    const { series } = this.state;\n    if (!hasHistoryDataValue(series)) {\n      return this.props.renderWhenEmpty ? this.props.renderWhenEmpty() : null;\n    }\n\n    return (\n      <div\n        className=\"overview-analysis-graph big-spacer-bottom spacer-top\"\n        onClick={this.handleClick}\n        tabIndex={0}\n        role=\"link\">\n        {this.renderTimeline()}\n      </div>\n    );\n  }\n}\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".portfolio-measure-secondary-value{line-height:24px;font-size:18px;font-weight:300}.portfolio-grid{position:relative;z-index:10;display:flex;justify-content:space-around;align-items:center}.portfolio-grid>li{vertical-align:top;width:50%;text-align:center}.portfolio-grid>li.text-middle{vertical-align:middle}.portfolio-freshness{line-height:24px;margin-top:12px;color:#777;font-size:12px;white-space:nowrap}.portfolio-effort{margin-top:12px;padding-top:12px;border-top:1px solid #e6e6e6}.portfolio-boxes{display:flex;justify-content:space-between;align-items:stretch;margin-bottom:20px;padding:15px 0;border:1px solid #e6e6e6;background-color:#fff}.portfolio-box{position:relative;width:25%;padding:0 5px;border-radius:3px;box-sizing:border-box;text-align:center}.portfolio-box-title{margin-bottom:25px;font-size:16px}.portfolio-box-title>.button-small>svg{margin-top:0}.portfolio-box-rating,.portfolio-box-rating .rating{display:block;width:120px;height:120px;line-height:120px}.portfolio-box-rating{margin:0 auto;border:none}.portfolio-box-rating .rating{border-radius:120px;font-size:60px;text-align:center}.portfolio-sub-components table.data>thead>tr>th{font-size:13px;text-transform:none}.portfolio-sub-components-cell{width:90px}.portfolio-meta-header{margin-bottom:4px;color:#444}.portfolio-meta-card{min-width:200px;box-sizing:border-box}.portfolio-meta-card+.portfolio-meta-card{margin-top:16px;padding-top:15px;border-top:1px solid #e6e6e6}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport LanguageDistributionContainer from '../../../components/charts/LanguageDistributionContainer';\nimport Measure from '../../../components/measure/Measure';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: { description?: string; key: string };\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function Summary({ component, measures }: Props) {\n  const { projects, ncloc } = measures;\n  const nclocDistribution = measures['ncloc_language_distribution'];\n\n  return (\n    <section className=\"big-spacer-bottom\" id=\"portfolio-summary\">\n      {component.description && <div className=\"big-spacer-bottom\">{component.description}</div>}\n\n      <ul className=\"portfolio-grid\">\n        <li>\n          <div className=\"portfolio-measure-secondary-value\">\n            {projects ? (\n              <Link\n                to={getComponentDrilldownUrl({ componentKey: component.key, metric: 'projects' })}>\n                <Measure metricKey=\"projects\" metricType=\"SHORT_INT\" value={projects} />\n              </Link>\n            ) : (\n              '0'\n            )}\n          </div>\n          <div className=\"spacer-top text-muted\">{translate('projects')}</div>\n        </li>\n        <li>\n          <div className=\"portfolio-measure-secondary-value\">\n            {ncloc ? (\n              <Link to={getComponentDrilldownUrl({ componentKey: component.key, metric: 'ncloc' })}>\n                <Measure metricKey=\"ncloc\" metricType=\"SHORT_INT\" value={ncloc} />\n              </Link>\n            ) : (\n              '0'\n            )}\n          </div>\n          <div className=\"spacer-top text-muted\">{translate('metric.ncloc.name')}</div>\n        </li>\n      </ul>\n\n      {nclocDistribution && (\n        <div className=\"big-spacer-top\">\n          <LanguageDistributionContainer distribution={nclocDistribution} width={260} />\n        </div>\n      )}\n    </section>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AlertSuccessIcon from '../../../components/icons-components/AlertSuccessIcon';\nimport { ReportStatus, subscribe, unsubscribe } from '../../../api/report';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { Button } from '../../../components/ui/buttons';\n\ninterface Props {\n  component: string;\n  currentUser: { email?: string };\n  status: ReportStatus;\n}\n\ninterface State {\n  loading: boolean;\n  subscribed?: boolean;\n}\n\nexport default class Subscription extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { subscribed: props.status.subscribed, loading: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.status.subscribed !== this.props.status.subscribed) {\n      this.setState({ subscribed: nextProps.status.subscribed });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  handleSubscription = (subscribed: boolean) => {\n    if (this.mounted) {\n      this.setState({ loading: false, subscribed });\n    }\n  };\n\n  handleSubscribe = () => {\n    this.setState({ loading: true });\n    subscribe(this.props.component)\n      .then(() => this.handleSubscription(true))\n      .catch(this.stopLoading);\n  };\n\n  handleUnsubscribe = () => {\n    this.setState({ loading: true });\n    unsubscribe(this.props.component)\n      .then(() => this.handleSubscription(false))\n      .catch(this.stopLoading);\n  };\n\n  getEffectiveFrequencyText = () => {\n    const effectiveFrequency =\n      this.props.status.componentFrequency || this.props.status.globalFrequency;\n    return translate('report.frequency', effectiveFrequency, 'effective');\n  };\n\n  renderLoading = () => this.state.loading && <i className=\"spacer-left spinner\" />;\n\n  renderWhenSubscribed = () => (\n    <div className=\"js-subscribed\">\n      <div className=\"spacer-bottom\">\n        <AlertSuccessIcon className=\"pull-left spacer-right\" />\n        <div className=\"overflow-hidden\">\n          {translateWithParameters('report.subscribed', this.getEffectiveFrequencyText())}\n        </div>\n      </div>\n      <Button onClick={this.handleUnsubscribe}>{translate('report.unsubscribe')}</Button>\n      {this.renderLoading()}\n    </div>\n  );\n\n  renderWhenNotSubscribed = () => (\n    <div className=\"js-not-subscribed\">\n      <p className=\"spacer-bottom\">\n        {translateWithParameters('report.unsubscribed', this.getEffectiveFrequencyText())}\n      </p>\n      <Button className=\"js-report-subscribe\" onClick={this.handleSubscribe}>\n        {translate('report.subscribe')}\n      </Button>\n      {this.renderLoading()}\n    </div>\n  );\n\n  render() {\n    const hasEmail = !!this.props.currentUser.email;\n    const { subscribed } = this.state;\n\n    let inner;\n    if (hasEmail) {\n      inner = subscribed ? this.renderWhenSubscribed() : this.renderWhenNotSubscribed();\n    } else {\n      inner = <p className=\"note js-no-email\">{translate('report.no_email_to_subscribe')}</p>;\n    }\n\n    return <div className=\"big-spacer-top js-report-subscription\">{inner}</div>;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n/*\n* SonarQube\n* Copyright (C) 2009-2016 SonarSource SA\n* mailto:contact AT sonarsource DOT com\n*\n* This program is free software; you can redistribute it and/or\n* modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface ReportStatus {\n  canDownload?: boolean;\n  canSubscribe: boolean;\n  componentFrequency?: string;\n  globalFrequency: string;\n  subscribed?: boolean;\n}\n\nexport function getReportStatus(component: string): Promise<ReportStatus> {\n  return getJSON('/api/governance_reports/status', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n\nexport function getReportUrl(component: string): string {\n  return (\n    (window as any).baseUrl +\n    '/api/governance_reports/download?componentKey=' +\n    encodeURIComponent(component)\n  );\n}\n\nexport function subscribe(component: string): Promise<void | Response> {\n  return post('/api/governance_reports/subscribe', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n\nexport function unsubscribe(component: string): Promise<void | Response> {\n  return post('/api/governance_reports/unsubscribe', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport Subscription from './Subscription';\nimport { getCurrentUser } from '../../../store/rootReducer';\n\nconst mapStateToProps = (state: any) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect<any, any, any>(mapStateToProps)(Subscription);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SubscriptionContainer from './SubscriptionContainer';\nimport { getReportStatus, ReportStatus, getReportUrl } from '../../../api/report';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: { key: string; name: string };\n}\n\ninterface State {\n  loading: boolean;\n  status?: ReportStatus;\n}\n\nexport default class Report extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadStatus();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStatus() {\n    getReportStatus(this.props.component.key).then(\n      status => {\n        if (this.mounted) {\n          this.setState({ status, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  renderHeader = () => <h4>{translate('report.page')}</h4>;\n\n  render() {\n    const { component } = this.props;\n    const { status, loading } = this.state;\n\n    if (loading) {\n      return (\n        <div>\n          {this.renderHeader()}\n          <i className=\"spinner\" />\n        </div>\n      );\n    }\n\n    if (!status) {\n      return null;\n    }\n\n    return (\n      <div>\n        {this.renderHeader()}\n\n        {!status.canDownload && (\n          <div className=\"note js-report-cant-download\">{translate('report.cant_download')}</div>\n        )}\n\n        {status.canDownload && (\n          <div className=\"js-report-can-download\">\n            {translate('report.can_download')}\n            <div className=\"spacer-top\">\n              <a\n                className=\"button js-report-download\"\n                href={getReportUrl(component.key)}\n                target=\"_blank\"\n                download={component.name + ' - Executive Report.pdf'}>\n                {translate('report.print')}\n              </a>\n            </div>\n          </div>\n        )}\n\n        {status.canSubscribe && <SubscriptionContainer component={component.key} status={status} />}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { max } from 'lodash';\nimport { SubComponent } from '../types';\nimport Measure from '../../../components/measure/Measure';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { getProjectUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  subComponents: SubComponent[];\n  total: number;\n}\n\nexport default function WorstProjects({ component, subComponents, total }: Props) {\n  const count = subComponents.length;\n\n  if (!count) {\n    return null;\n  }\n\n  const maxLoc = max(\n    subComponents.map(component => Number(component.measures['ncloc'] || 0))\n  ) as number;\n\n  const projectsPageUrl = { pathname: '/code', query: { id: component } };\n\n  return (\n    <div className=\"panel panel-white portfolio-sub-components\" id=\"portfolio-sub-components\">\n      <table className=\"data zebra\">\n        <thead>\n          <tr>\n            <th>&nbsp;</th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Releasability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Reliability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Security')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Maintainability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric.ncloc.name')}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {subComponents.map(component => (\n            <tr key={component.key}>\n              <td>\n                <Link\n                  to={getProjectUrl(component.refKey || component.key)}\n                  className=\"link-with-icon\">\n                  <QualifierIcon qualifier={component.qualifier} /> {component.name}\n                </Link>\n              </td>\n              {component.qualifier === 'TRK'\n                ? renderCell(component.measures, 'alert_status', 'LEVEL')\n                : renderCell(component.measures, 'releasability_rating', 'RATING')}\n              {renderCell(component.measures, 'reliability_rating', 'RATING')}\n              {renderCell(component.measures, 'security_rating', 'RATING')}\n              {renderCell(component.measures, 'sqale_rating', 'RATING')}\n              {renderNcloc(component.measures, maxLoc)}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {total > count && (\n        <footer className=\"spacer-top note text-center\">\n          {translateWithParameters(\n            'x_of_y_shown',\n            formatMeasure(count, 'INT'),\n            formatMeasure(total, 'INT')\n          )}\n          <Link to={projectsPageUrl} className=\"spacer-left\">\n            {translate('show_more')}\n          </Link>\n        </footer>\n      )}\n    </div>\n  );\n}\n\nfunction renderCell(measures: { [key: string]: string | undefined }, metric: string, type: string) {\n  return (\n    <td className=\"text-center\">\n      <Measure metricKey={metric} metricType={type} value={measures[metric]} />\n    </td>\n  );\n}\n\nfunction renderNcloc(measures: { [key: string]: string | undefined }, maxLoc: number) {\n  const ncloc = Number(measures['ncloc'] || 0);\n  const barWidth = maxLoc > 0 ? Math.max(1, Math.round(ncloc / maxLoc * 50)) : 0;\n  return (\n    <td className=\"text-right\">\n      <span className=\"note\">\n        <Measure metricKey=\"ncloc\" metricType=\"SHORT_INT\" value={measures['ncloc']} />\n      </span>\n      {maxLoc > 0 && (\n        <svg width=\"50\" height=\"16\" className=\"spacer-left\">\n          <rect className=\"bar-chart-bar\" x=\"0\" y=\"3\" width={barWidth} height=\"10\" />\n        </svg>\n      )}\n    </td>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport DateFromNow from '../../../components/intl/DateFromNow';\nimport Rating from '../../../components/ui/Rating';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  lastChange?: string;\n  rating?: string;\n}\n\nexport default function RatingFreshness({ lastChange, rating }: Props) {\n  if (!lastChange) {\n    return (\n      <div className=\"portfolio-freshness\">\n        {rating && (\n          <FormattedMessage\n            defaultMessage={translate('portfolio.has_always_been_x')}\n            id=\"portfolio.has_always_been_x\"\n            values={{ rating: <Rating small={true} value={rating} /> }}\n          />\n        )}\n      </div>\n    );\n  }\n\n  const data = JSON.parse(lastChange);\n\n  return (\n    <div className=\"portfolio-freshness\">\n      <FormattedMessage\n        defaultMessage={translate('portfolio.was_x_y')}\n        id=\"portfolio.was_x_y\"\n        values={{\n          rating: <Rating small={true} value={data.value} />,\n          date: <DateFromNow date={data.date} />\n        }}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport RatingFreshness from './RatingFreshness';\nimport Rating from '../../../components/ui/Rating';\nimport Measure from '../../../components/measure/Measure';\nimport Level from '../../../components/ui/Level';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function ReleasabilityBox({ component, measures }: Props) {\n  const rating = measures['releasability_rating'];\n  const lastReleasabilityChange = measures['last_change_on_releasability_rating'];\n  const effort = measures['releasability_effort'];\n\n  return (\n    <div className=\"portfolio-box portfolio-releasability\">\n      <h2 className=\"portfolio-box-title\">{translate('metric_domain.Releasability')}</h2>\n\n      {rating && (\n        <Link\n          to={getComponentDrilldownUrl({ componentKey: component, metric: 'alert_status' })}\n          className=\"portfolio-box-rating\">\n          <Rating value={rating} />\n        </Link>\n      )}\n\n      <RatingFreshness lastChange={lastReleasabilityChange} rating={rating} />\n\n      {effort &&\n        Number(effort) > 0 && (\n          <div className=\"portfolio-effort\">\n            <Link\n              to={getComponentDrilldownUrl({ componentKey: component, metric: 'alert_status' })}>\n              <span>\n                <Measure\n                  className=\"little-spacer-right\"\n                  metricKey=\"projects\"\n                  metricType=\"SHORT_INT\"\n                  value={effort}\n                />\n                {Number(effort) === 1 ? 'project' : 'projects'}\n              </span>\n            </Link>{' '}\n            <Level level=\"ERROR\" small={true} />\n          </div>\n        )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { FormattedMessage } from 'react-intl';\nimport Rating from '../../../components/ui/Rating';\nimport Measure from '../../../components/measure/Measure';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  effort: { projects: number; rating: number };\n  metricKey: string;\n}\n\nexport default function Effort({ component, effort, metricKey }: Props) {\n  return (\n    <div className=\"portfolio-effort\">\n      <FormattedMessage\n        defaultMessage={translate('portfolio.x_in_y')}\n        id=\"portfolio.x_in_y\"\n        values={{\n          projects: (\n            <Link to={getComponentDrilldownUrl({ componentKey: component, metric: metricKey })}>\n              <span>\n                <Measure\n                  className=\"little-spacer-right\"\n                  metricKey=\"projects\"\n                  metricType=\"SHORT_INT\"\n                  value={String(effort.projects)}\n                />\n                {translate('projects_')}\n              </span>\n            </Link>\n          ),\n          rating: <Rating small={true} value={effort.rating} />\n        }}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport BubblesIcon from '../../../components/icons-components/BubblesIcon';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n}\n\nexport default function MeasuresButtonLink({ component, metric }: Props) {\n  return (\n    <Link\n      className=\"button button-small spacer-left text-text-bottom\"\n      to={getComponentDrilldownUrl({ componentKey: component, metric })}>\n      <BubblesIcon size={14} />\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport HistoryIcon from '../../../components/icons-components/HistoryIcon';\nimport { getMeasureHistoryUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n}\n\nexport default function HistoryButtonLink({ component, metric }: Props) {\n  return (\n    <Link\n      className=\"button button-small spacer-left text-text-bottom\"\n      to={getMeasureHistoryUrl(component, metric)}>\n      <HistoryIcon size={14} />\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Rating from '../../../components/ui/Rating';\nimport { getMeasureTreemapUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n  value: string;\n}\n\nexport default function MainRating({ component, metric, value }: Props) {\n  return (\n    <Link to={getMeasureTreemapUrl(component, metric)} className=\"portfolio-box-rating\">\n      <Rating value={value} />\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport MainRating from './MainRating';\nimport RatingFreshness from './RatingFreshness';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function ReliabilityBox({ component, measures }: Props) {\n  const rating = measures['reliability_rating'];\n  const lastReliabilityChange = measures['last_change_on_reliability_rating'];\n  const rawEffort = measures['reliability_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-reliability\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Reliability')}\n        <MeasuresButtonLink component={component} metric=\"Reliability\" />\n        <HistoryButtonLink component={component} metric=\"reliability_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric=\"reliability_rating\" value={rating} />}\n\n      <RatingFreshness lastChange={lastReliabilityChange} rating={rating} />\n\n      {effort && <Effort component={component} effort={effort} metricKey=\"reliability_rating\" />}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport RatingFreshness from './RatingFreshness';\nimport MainRating from './MainRating';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function SecurityBox({ component, measures }: Props) {\n  const rating = measures['security_rating'];\n  const lastSecurityChange = measures['last_change_on_security_rating'];\n  const rawEffort = measures['security_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-security\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Security')}\n        <MeasuresButtonLink component={component} metric=\"Security\" />\n        <HistoryButtonLink component={component} metric=\"security_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric=\"security_rating\" value={rating} />}\n\n      <RatingFreshness lastChange={lastSecurityChange} rating={rating} />\n\n      {effort && <Effort component={component} effort={effort} metricKey=\"security_rating\" />}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MainRating from './MainRating';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport RatingFreshness from './RatingFreshness';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function MaintainabilityBox({ component, measures }: Props) {\n  const rating = measures['sqale_rating'];\n  const lastMaintainabilityChange = measures['last_change_on_maintainability_rating'];\n  const rawEffort = measures['maintainability_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-maintainability\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Maintainability')}\n        <MeasuresButtonLink component={component} metric=\"Maintainability\" />\n        <HistoryButtonLink component={component} metric=\"sqale_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric={'sqale_rating'} value={rating} />}\n\n      <RatingFreshness lastChange={lastMaintainabilityChange} rating={rating} />\n\n      {effort && <Effort component={component} effort={effort} metricKey={'sqale_rating'} />}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport {\n  getDisplayedHistoryMetrics,\n  DEFAULT_GRAPH,\n  PROJECT_ACTIVITY_GRAPH,\n  PROJECT_ACTIVITY_GRAPH_CUSTOM\n} from '../../projectActivity/utils';\nimport PreviewGraph from '../../../components/preview-graph/PreviewGraph';\nimport { getAllTimeMachineData, History } from '../../../api/time-machine';\nimport { Metric } from '../../../app/types';\nimport { parseDate } from '../../../helpers/dates';\nimport { translate } from '../../../helpers/l10n';\nimport { get } from '../../../helpers/storage';\n\nconst AnyPreviewGraph = PreviewGraph as any;\n\ninterface Props {\n  component: string;\n  metrics: { [key: string]: Metric };\n}\n\ninterface State {\n  history?: History;\n  loading: boolean;\n}\n\nexport default class Activity extends React.PureComponent<Props> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchHistory();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component !== this.props.component) {\n      this.fetchHistory();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchHistory = () => {\n    const { component } = this.props;\n\n    const customGraphs = get(PROJECT_ACTIVITY_GRAPH_CUSTOM);\n    let graphMetrics = getDisplayedHistoryMetrics(\n      get(PROJECT_ACTIVITY_GRAPH) || 'issues',\n      customGraphs ? customGraphs.split(',') : []\n    );\n    if (!graphMetrics || graphMetrics.length <= 0) {\n      graphMetrics = getDisplayedHistoryMetrics(DEFAULT_GRAPH, []);\n    }\n\n    this.setState({ loading: true });\n    return getAllTimeMachineData({ component, metrics: graphMetrics.join() }).then(\n      timeMachine => {\n        if (this.mounted) {\n          const history: History = {};\n          timeMachine.measures.forEach(measure => {\n            const measureHistory = measure.history.map(analysis => ({\n              date: parseDate(analysis.date),\n              value: analysis.value\n            }));\n            history[measure.metric] = measureHistory;\n          });\n          this.setState({ history, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderWhenEmpty = () => <div className=\"note\">{translate('component_measures.no_history')}</div>;\n\n  render() {\n    return (\n      <div className=\"big-spacer-bottom\">\n        <h4>{translate('project_activity.page')}</h4>\n\n        {this.state.loading ? (\n          <i className=\"spinner\" />\n        ) : (\n          this.state.history !== undefined && (\n            <AnyPreviewGraph\n              history={this.state.history}\n              metrics={this.props.metrics}\n              project={this.props.component}\n              renderWhenEmpty={this.renderWhenEmpty}\n            />\n          )\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getNextRating(rating: number): number | undefined {\n  return rating > 1 ? rating - 1 : undefined;\n}\n\nfunction getWorstSeverity(data: string): { severity: string; count: number } | undefined {\n  const SEVERITY_ORDER = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\n  const severities: { [key: string]: number } = {};\n  data.split(';').forEach(equality => {\n    const [key, count] = equality.split('=');\n    severities[key] = Number(count);\n  });\n\n  for (let i = 0; i < SEVERITY_ORDER.length; i++) {\n    const count = severities[SEVERITY_ORDER[i]];\n    if (count > 0) {\n      return { severity: SEVERITY_ORDER[i], count };\n    }\n  }\n\n  return undefined;\n}\n\nexport function getEffortToNextRating(\n  measures: Array<{ metric: { key: string }; value: string }>,\n  metricKey: string\n) {\n  const measure = measures.find(measure => measure.metric.key === metricKey);\n  if (!measure) {\n    return undefined;\n  }\n  return getWorstSeverity(measure.value);\n}\n\nexport const PORTFOLIO_METRICS = [\n  'projects',\n  'ncloc',\n  'ncloc_language_distribution',\n\n  'releasability_rating',\n  'releasability_effort',\n\n  'sqale_rating',\n  'maintainability_rating_effort',\n\n  'reliability_rating',\n  'reliability_rating_effort',\n\n  'security_rating',\n  'security_rating_effort',\n\n  'last_change_on_releasability_rating',\n  'last_change_on_maintainability_rating',\n  'last_change_on_security_rating',\n  'last_change_on_reliability_rating'\n];\n\nexport const SUB_COMPONENTS_METRICS = [\n  'ncloc',\n  'releasability_rating',\n  'security_rating',\n  'reliability_rating',\n  'sqale_rating',\n  'alert_status'\n];\n\nexport function convertMeasures(measures: Array<{ metric: string; value?: string }>) {\n  const result: { [key: string]: string | undefined } = {};\n  measures.forEach(measure => {\n    result[measure.metric] = measure.value;\n  });\n  return result;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport Summary from './Summary';\nimport Report from './Report';\nimport WorstProjects from './WorstProjects';\nimport ReleasabilityBox from './ReleasabilityBox';\nimport ReliabilityBox from './ReliabilityBox';\nimport SecurityBox from './SecurityBox';\nimport MaintainabilityBox from './MaintainabilityBox';\nimport Activity from './Activity';\nimport { SubComponent } from '../types';\nimport { PORTFOLIO_METRICS, SUB_COMPONENTS_METRICS, convertMeasures } from '../utils';\nimport { getMeasures } from '../../../api/measures';\nimport { getChildren } from '../../../api/components';\nimport { translate } from '../../../helpers/l10n';\nimport { fetchMetrics } from '../../../store/rootActions';\nimport { getMetrics } from '../../../store/rootReducer';\nimport { Metric, Component } from '../../../app/types';\nimport '../styles.css';\n\ninterface OwnProps {\n  component: Component;\n}\n\ninterface StateToProps {\n  metrics: { [key: string]: Metric };\n}\n\ninterface DispatchToProps {\n  fetchMetrics: () => void;\n}\n\ntype Props = StateToProps & DispatchToProps & OwnProps;\n\ninterface State {\n  loading: boolean;\n  measures?: { [key: string]: string | undefined };\n  subComponents?: SubComponent[];\n  totalSubComponents?: number;\n}\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.fetchMetrics();\n    this.fetchData();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component !== this.props.component) {\n      this.fetchData();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchData() {\n    this.setState({ loading: true });\n    Promise.all([\n      getMeasures({ componentKey: this.props.component.key, metricKeys: PORTFOLIO_METRICS.join() }),\n      getChildren(this.props.component.key, SUB_COMPONENTS_METRICS, { ps: 20, s: 'qualifier' })\n    ]).then(\n      ([measures, subComponents]) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            measures: convertMeasures(measures),\n            subComponents: subComponents.components.map((component: any) => ({\n              ...component,\n              measures: convertMeasures(component.measures)\n            })),\n            totalSubComponents: subComponents.paging.total\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  isEmpty = () => this.state.measures === undefined || this.state.measures['ncloc'] === undefined;\n\n  isNotComputed = () =>\n    this.state.measures && this.state.measures['reliability_rating'] === undefined;\n\n  renderSpinner() {\n    return (\n      <div className=\"page page-limited\">\n        <div className=\"text-center\">\n          <i className=\"spinner spinner-margin\" />\n        </div>\n      </div>\n    );\n  }\n\n  renderEmpty() {\n    return (\n      <div className=\"empty-search\">\n        <h3>\n          {!this.state.measures || !this.state.measures['projects']\n            ? translate('portfolio.empty')\n            : translate('portfolio.no_lines_of_code')}\n        </h3>\n      </div>\n    );\n  }\n\n  renderWhenNotComputed() {\n    return (\n      <div className=\"empty-search\">\n        <h3>{translate('portfolio.not_computed')}</h3>\n      </div>\n    );\n  }\n\n  renderMain() {\n    const { component } = this.props;\n    const { measures, subComponents, totalSubComponents } = this.state;\n\n    if (this.isEmpty()) {\n      return this.renderEmpty();\n    }\n\n    if (this.isNotComputed()) {\n      return this.renderWhenNotComputed();\n    }\n\n    return (\n      <div>\n        <div className=\"portfolio-boxes\">\n          <ReleasabilityBox component={component.key} measures={measures!} />\n          <ReliabilityBox component={component.key} measures={measures!} />\n          <SecurityBox component={component.key} measures={measures!} />\n          <MaintainabilityBox component={component.key} measures={measures!} />\n        </div>\n\n        {subComponents !== undefined &&\n          totalSubComponents !== undefined && (\n            <WorstProjects\n              component={component.key}\n              subComponents={subComponents}\n              total={totalSubComponents}\n            />\n          )}\n      </div>\n    );\n  }\n\n  render() {\n    const { component } = this.props;\n    const { loading, measures } = this.state;\n\n    if (loading) {\n      return this.renderSpinner();\n    }\n\n    return (\n      <div className=\"page page-limited\">\n        <div className=\"page-with-sidebar\">\n          <div className=\"page-main\">{this.renderMain()}</div>\n\n          <aside className=\"page-sidebar-fixed\">\n            <div className=\"portfolio-meta-card\">\n              <h4 className=\"portfolio-meta-header\">\n                {translate('overview.about_this_portfolio')}\n              </h4>\n              <Summary component={component} measures={measures || {}} />\n            </div>\n\n            <div className=\"portfolio-meta-card\">\n              <Activity component={component.key} metrics={this.props.metrics} />\n            </div>\n\n            <div className=\"portfolio-meta-card\">\n              <Report component={component} />\n            </div>\n          </aside>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps: DispatchToProps = { fetchMetrics };\n\nconst mapStateToProps = (state: any): StateToProps => ({\n  metrics: getMetrics(state)\n});\n\nexport default connect<StateToProps, DispatchToProps, Props>(mapStateToProps, mapDispatchToProps)(\n  App\n);\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getRatingTooltip } from './utils';\nimport Rating from '../ui/Rating';\nimport Level from '../ui/Level';\nimport Tooltip from '../controls/Tooltip';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span>{''}</span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, { decimals });\n    return <span className={className}>{formattedValue != null ? formattedValue : ''}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport {\n  getRatingTooltip as nextGetRatingTooltip,\n  isDiffMetric,\n  Measure,\n  MeasureEnhanced\n} from '../../helpers/measures';\nimport { Metric } from '../../app/types';\n\nconst KNOWN_RATINGS = ['sqale_rating', 'reliability_rating', 'security_rating'];\n\nexport function enhanceMeasure(\n  measure: Measure,\n  metrics: { [key: string]: Metric }\n): MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: Measure | undefined): string | undefined {\n  if (!measure || !measure.periods) {\n    return undefined;\n  }\n  const period = measure.periods.find(period => period.index === 1);\n  return period && period.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function BubblesIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size} style={{ fillRule: 'nonzero' }}>\n      <path\n        d=\"M4.1 10.2c1 0 1.9.8 1.9 1.9S5.1 14 4.1 14s-1.9-.8-1.9-1.9.8-1.9 1.9-1.9m0-2C2 8.2.2 9.9.2 12.1S1.9 16 4.1 16 8 14.3 8 12.1 6.2 8.2 4.1 8.2zM10.3 2c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7-3.8-1.6-3.8-3.7S8.2 2 10.3 2m0-2C7.1 0 4.5 2.6 4.5 5.7s2.6 5.7 5.7 5.7S16 8.9 16 5.7 13.4 0 10.3 0z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n"],"sourceRoot":""}